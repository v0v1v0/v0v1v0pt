<div class="container">

<table style="width: 100%;"><tr>
<td>long2matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert long format to a quadratic matrix</h2>

<h3>Description</h3>

<p>This function converts data from the long format to a quadratic round robin matrix. It is ensured that the matrix in fact is quadratic (i.e. rows or columns are added if necessary).
</p>


<h3>Usage</h3>

<pre><code class="language-R">long2matrix(formule, data, minData=1, verbose=TRUE, reduce=TRUE, 
				skip3=TRUE, g.id=NULL, exclude.ids=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formule</code></td>
<td>
<p>A formula specifying the variable names. Example usage: <code>DV ~ perceiver.id*target.id | group.id</code> (group.id only necessary in multi group data sets)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame in long format)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Should additional information be printed?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minData</code></td>
<td>
<p>Sets the minimum of data points which have to be present in each row and column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reduce</code></td>
<td>
<p>Should persons that only are actors or only partners be removed? Actor/partner effects and variance components can only be calculated, if every person is both an actor and a partner. For displaying reasons (e.g. for data inspection), however, it can be necessary to check, which persons are missing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip3</code></td>
<td>
<p>Should groups with 3 or fewer participants be skipped? SRAs need groups with a minimum of 4 participants</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g.id</code></td>
<td>
<p>For internal use only</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude.ids</code></td>
<td>
<p>A list of participant ids, which should be excluded</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further undocumented or internal arguments passed to the function</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of quadratic matrix. Each list entry is one group, as specified by <code>group.id</code>. If only one group is present, this is stored in the first list entry.
</p>


<h3>See Also</h3>

<p><code>matrix2long</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
#load a data set in long style
data("multiGroup")

str(multiGroup)
qm &lt;- long2matrix(ex~perceiver.id*target.id|group.id, multiGroup)
qm[[2]]

# we see some warnings that some persons are only actors or only partners. 
# Let's check the data without removing them:
qm2 &lt;- long2matrix(ex~perceiver.id*target.id|group.id, multiGroup, reduce=FALSE)
qm2[[2]]
 
</code></pre>


</div>