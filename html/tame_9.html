<div class="container">

<table style="width: 100%;"><tr>
<td>interactions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Timing and ATC pattern interactions</h2>

<h3>Description</h3>

<p>The function <code>interactions()</code> calculates the frequencies of distinct timing
and ATC combinations within clusters.
</p>


<h3>Usage</h3>

<pre><code class="language-R">interactions(
  clustering,
  only = NULL,
  clusters = NULL,
  atc_groups = data.frame(regex = paste0("^", LETTERS), atc_groups = LETTERS),
  additional_data = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>only</code></td>
<td>
<p>&lt;<code>data-masking</code>&gt; Expressions that
return a logical value, and are defined in terms of the variables in
<code>object</code> and/or <code>additional_data</code>.
</p>
<p>The default <code>NULL</code> selects all clusterings in <code>object</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusters</code></td>
<td>
<p>&lt;<code>tidy-select</code>&gt; An unquoted
expression naming the cluster or clusters in <code>object</code> one wants to
see summaries of. Names can be used as if they were positions in the data
frame, so expressions like I:IV can be used to select a range of clusters.
</p>
<p>The default <code>NULL</code> selects all clusters in the chosen clusterings of
<code>object</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>atc_groups</code></td>
<td>
<p>A data.frame specifying the ATC groups to summaries by. The
data.frame must have two columns:
</p>

<ul>
<li> <p><code>regex</code> giving regular expressions specifying the wanted ATC groups.
</p>
</li>
<li> <p><code>atc_groups</code> the name of this ATC grouping.
</p>
</li>
</ul>
<p>As a standard the anatomical level (first level) of the ATC codes is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>additional_data</code></td>
<td>
<p>A data frame with additional data that may be
(left-)joined onto the <code>parameters</code> in <code>object</code>. This is often
used in conjuction with <code>only</code> to select specific clusterings based on
<code>additional_data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to the internal summary function.
</p>

<ul>
<li> <p><code>cluster_wise</code>  an option in the <code>medications()</code> function.
</p>
</li>
<li> <p><code>m</code> an option in the <code>medications()</code> function. A numeric restricting the
number of distinct ATC codes plotted within each cluster. That is, the
(at most) <code>m</code> most frequent ATC codes within that cluster is given a
color.
</p>
</li>
<li> <p><code>q</code> an option in the <code>medications()</code> function. A numeric between 0 and 1
restricting the minimal ATC codes frequency displayed within each
cluster.
</p>
</li>
<li> <p><code>count_grouper</code> an option in the <code>amounts()</code> function. A function for
grouping counts. As a standard it groups counts as 1 medication, 2
medications, and 3+ medications.
</p>
</li>
<li> <p><code>atc_groups</code> A data.frame specifying the ATC groups to summaries by. The
data.frame must have two columns: (1) <code>regex</code> giving regular expressions
specifying the wanted ATC groups and (2) <code>atc_groups</code> the name of this
ATC grouping. As a standard the anatomical level (first level) of the ATC
codes is used.
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>interactions()</code> calculates both the number of people with unique timing
trajectory and ATC group, as given by <code>atc_groups</code>, in each cluster.
</p>


<h3>Value</h3>

<p><code>interactions()</code> returns a data frame of class <code>summary.medic.interactions</code>
</p>

<ul>
<li> <p><code>cluster_name</code> the name of the clustering.
</p>
</li>
<li> <p><code>cluster</code> the cluster name.
</p>
</li>
<li> <p><code>n</code> the number of people in the cluster.
</p>
</li>
<li> <p><code>atc_group</code> ATC groups as specified by the <code>atc_groups</code> input.
</p>
</li>
<li> <p><em>timing variable</em> a unique timing pattern in <code>cluster</code> and <code>atc_group</code>.
</p>
</li>
<li> <p><code>n_interaction</code> number of people in this cluster with this timing and atc
group combination.
</p>
</li>
</ul>
</div>