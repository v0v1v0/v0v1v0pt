<div class="container">

<table style="width: 100%;"><tr>
<td>test_examples_as_testthat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Execute examples from Rd files as <code>testthat</code> tests</h2>

<h3>Description</h3>

<p>Reads examples from Rd files and constructs <code>testthat</code>-style tests.
<code>testthat</code> expectations are built such that
</p>


<h3>Usage</h3>

<pre><code class="language-R">test_examples_as_testthat(
  package,
  path,
  ...,
  test_dir = file.path(tempdir(), "testex-tests"),
  clean = TRUE,
  overwrite = TRUE,
  roxygenize = !is_r_cmd_check() &amp;&amp; uses_roxygen2(path),
  reporter = testthat::get_reporter()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>package</code></td>
<td>
<p>A package name whose examples should be tested</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>Optionally, a path to a source code directory to use. Will only
have an effect if parameter <code>package</code> is missing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional argument unused</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test_dir</code></td>
<td>
<p>An option directory where test files should be written.
Defaults to a temporary directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clean</code></td>
<td>
<p>Whether the <code>test_dir</code> should be removed upon completion of test
execution. Defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Whether files should be overwritten if <code>test_dir</code> already
exists. Defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>roxygenize</code></td>
<td>
<p>Whether R documentation files should be re-written using
<code>roxygen2</code> prior to testing. When not <code>FALSE</code>, tests written in <code>roxygen2</code>
tags will be used to update R documentation files prior to testing to use
the most up-to-date example tests. May be <code>TRUE</code>, or a <code>list</code> of arguments
passed to <code>roxygen2::roxygenize</code>. By default, only enabled when running
outside of <code style="white-space: pre;">⁠R CMD check⁠</code> and while taking <code>roxygen2</code> as a dependency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reporter</code></td>
<td>
<p>A <code>testthat</code> reporter to use. Defaults to the active
reporter in the <code>testthat</code> environment or default reporter.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ol>
<li>
<p> Each example expression is expected to run without error
</p>
</li>
<li>
<p> Any <code>testex</code> expectations are expected to pass
</p>
</li>
</ol>
<p>Generally, you won't need to use this function directly. Instead, it
is called by a file generated by <code>use_testex_as_testthat()</code> which will add
any <code>testex</code> example tests to your existing <code>testthat</code> testing suite.
</p>


<h3>Value</h3>

<p>The result of <code>testthat::source_file()</code>, after iterating over
generated test files.
</p>


<h3>Note</h3>

<p>It is assumed that this function is used within a <code>testthat</code> run, when
the necessary packages are already installed and loaded.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# library(pkg.example)
path &lt;- system.file("pkg.example", package = "testex")
test_examples_as_testthat(path = path)


</code></pre>


</div>