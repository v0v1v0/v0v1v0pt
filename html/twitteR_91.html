<div class="container">

<table style="width: 100%;"><tr>
<td>search_twitter_and_store</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
A function to store searched tweets to a database
</h2>

<h3>Description</h3>

<p>A convenience function designed to wrap the process of running a twitter search and pushing the results to a database.
If this is called more than once, the search will start with the most recent tweet already stored.
</p>


<h3>Usage</h3>

<pre><code class="language-R">search_twitter_and_store(searchString, table_name = "tweets", lang = NULL, 
  locale = NULL, geocode = NULL, retryOnRateLimit = 120, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>searchString</code></td>
<td>
<p>The search string to use, e.g. as one would in <code>searchTwitter</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table_name</code></td>
<td>
<p>The database to store the tweets to, see <code>register_db_backend</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lang</code></td>
<td>
<p>If not <code>NULL</code>, restricts tweets to the given
language, given by an ISO 639-1 code</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locale</code></td>
<td>
<p>If not <code>NULL</code>, will set the locale for the search.
As of 03/06/11 only <code>ja</code> is effective, as per the Twitter API</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geocode</code></td>
<td>
<p>If not <code>NULL</code>, returns tweets by users located
within a given radius of the given latitude/longitude. See
<code>Details</code> in <code>link{searchTwitter}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>retryOnRateLimit</code></td>
<td>
<p>If non-zero the search command will block retry up to
X times if the rate limit is experienced. This might lead to a much longer run
time but the task will eventually complete if the retry count is high enough</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional arguments to be passed to <code>GET</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>All arguments but <code>table_name</code> are being passed directly to <code>searchTwitter</code>.
</p>
<p>This function will check if <code>table_name</code> exists, and if so will also use a <code>sinceID</code> of the 
most recent ID in the table. The search is performed, the returned tweets are stored
in the database via <code>store_tweets_db</code>.
</p>


<h3>Value</h3>

<p>The number of tweets stored
</p>


<h3>Note</h3>

<p>Jeff Gentry</p>


<h3>See Also</h3>

<p><code>register_db_backend</code>, <code>searchTwitter</code>, <code>store_tweets_db</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  ## Not run: 
       register_sqlite_backend("sqlit_file")
       n = search_twitter_and_store("#rstats", "rstats_tweets")
  
## End(Not run)
</code></pre>


</div>