<div class="container">

<table style="width: 100%;"><tr>
<td>tf_derive</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Differentiating functional data: approximating derivative functions</h2>

<h3>Description</h3>

<p>Derivatives of <code>tf</code>-objects use finite differences of the evaluations for
<code>tfd</code> and finite differences of the basis functions for <code>tfb</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tf_derive(f, arg, order = 1, ...)

## S3 method for class 'matrix'
tf_derive(f, arg, order = 1, ...)

## S3 method for class 'tfd'
tf_derive(f, arg, order = 1, ...)

## S3 method for class 'tfb_spline'
tf_derive(f, arg, order = 1, ...)

## S3 method for class 'tfb_fpc'
tf_derive(f, arg, order = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>a <code>tf</code>-object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arg</code></td>
<td>
<p>grid to use for the finite differences.
Not the <code>arg</code> of the returned object for <code>tfd</code>-inputs, see Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>order of differentiation. Maximal value for <code>tfb_spline</code> is 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The derivatives of <code>tfd</code> objects use centered finite differences, e.g. for
first derivatives <code class="reqn">f'((t_i + t_{i+1})/2) \approx \frac{f(t_i) +
f(t_{i+1})}{t_{i+1} - t_i}</code>, so the <strong>domains of differentiated <code>tfd</code> will
shrink (slightly) at both ends</strong>. Unless the <code>tfd</code> has a rather fine and
regular grid, representing the data in a suitable basis representation with
<code>tfb()</code> and then computing the derivatives or integrals of those is usually
preferable.
</p>
<p>Note that, for some spline bases like <code>"cr"</code> or <code>"tp"</code> which always begin/end
linearly, computing second derivatives will produce artefacts at the outer
limits of the functions' domain due to these boundary constraints. Basis
<code>"bs"</code> does not have this problem for sufficiently high orders, but tends to
yield slightly less stable fits.
</p>


<h3>Value</h3>

<p>a <code>tf</code> (with slightly different <code>arg</code> or <code>basis</code> for the
derivatives, see Details)
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>tf_derive(matrix)</code>: row-wise finite differences
</p>
</li>
<li> <p><code>tf_derive(tfd)</code>: derivatives by finite differencing.
</p>
</li>
<li> <p><code>tf_derive(tfb_spline)</code>: derivatives by finite differencing.
</p>
</li>
<li> <p><code>tf_derive(tfb_fpc)</code>: derivatives by finite differencing.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Other tidyfun calculus functions: 
<code>tf_integrate()</code>
</p>


</div>