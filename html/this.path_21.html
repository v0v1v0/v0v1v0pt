<div class="container">

<table style="width: 100%;"><tr>
<td>is.main</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Top-Level Code Environment</h2>

<h3>Description</h3>

<p>Determine if a program is the main program, or if a program was run from a
shell.
</p>


<h3>Usage</h3>

<pre><code class="language-R">is.main()
from.shell()
</code></pre>


<h3>Details</h3>

<p>If no scripts are being <code>source()</code>-ed, then <code>is.main()</code> will be
<code>TRUE</code>, and <code>FALSE</code> otherwise.
</p>
<p>If <code>is.main()</code> is <code>TRUE</code> and <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> was invoked with the command-line
arguments <span class="option">-f</span> <span class="option">FILE</span>, <span class="option">--file=FILE</span>, or <span class="option">-e</span>
<span class="option">EXPR</span>, then <code>from.shell()</code> will be <code>TRUE</code>, and <code>FALSE</code>
otherwise.
</p>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">FILE.R &lt;- tempfile(fileext = ".R")
this.path:::.writeCode({
    this.path:::.withAutoprint({
        from.shell()
        is.main()
    }, spaced = TRUE, verbose = FALSE,
       prompt.echo = "FILE.R&gt; ", continue.echo = "FILE.R+ ")
}, FILE.R)

this.path:::.Rscript(c(
    "--default-packages=this.path", "--vanilla",
    FILE.R
), show.command = FALSE, show.output.on.console = TRUE)

source(FILE.R, verbose = FALSE)

this.path:::.Rscript(c(
    "--default-packages=this.path", "--vanilla",
    "-e", "cat(\"\n&gt; from.shell()\\n\")",
    "-e", "from.shell()",
    "-e", "cat(\"\n&gt; is.main()\\n\")",
    "-e", "is.main()",
    "-e", "cat(\"\n&gt; source(commandArgs(trailingOnly = TRUE))\\n\")",
    "-e", "source(commandArgs(trailingOnly = TRUE))", FILE.R
), show.command = FALSE, show.output.on.console = TRUE)

unlink(FILE.R)
</code></pre>


</div>