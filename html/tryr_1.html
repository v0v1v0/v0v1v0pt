<div class="container">

<table style="width: 100%;"><tr>
<td>msg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Write Logging Information to STDOUT or STDERR</h2>

<h3>Description</h3>

<p>A simple logging utility that writes the log message to STDOUT or STDERR
in plain text, JSON, or comma separated format.
</p>


<h3>Usage</h3>

<pre><code class="language-R">msg(title = "", message = "", level = "INFO", format = NULL, digits = NULL)

x %+% y
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Character, the title of the logging message.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>message</code></td>
<td>
<p>Character, a more detailed logging message.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>Log level; one of <code>"ALL"</code>, <code>"TRACE"</code>, <code>"DEBUG"</code>, <code>"INFO"</code>,
<code>"SUCCESS"</code>, <code>"WARN"</code>, <code>"ERROR"</code>, <code>"FATAL"</code>, <code>"OFF"</code> (case insensitive).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>Log format: <code>"PLAIN"</code> (default), <code>"JSON"</code>, <code>"CSV"</code>
(case insensitive).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Integer of length 1, digits for seconds (default <code>3L</code> meaning milliseconds).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x, y</code></td>
<td>
<p>Strings to combine.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>TRYR_ERR_LEVEL</code> environment variable determines where the log message is written.
If the log level is at least the one or above the <code>TRYR_ERR_LEVEL</code> value
(or <code>"WARN"</code> when it is unset or null) the message is written to STDERR,
otherwise it is written to STDOUT.
</p>
<p>The log message is only written when the log level is at least the one or higher than specified
by the <code>TRYR_LOG_LEVEL</code> environment variables; or <code>"INFO"</code> when the variable is unset or null.
</p>
<p>The log format can be plain text, JSON, or comma separated text.
When the log format is <code>NULL</code> the <code>TRYR_LOG_FORMAT</code> environment variables is checked.
If it is unset or null, the format is considered plain text.
</p>
<p>The logging message will be formed by combining the <code>title</code> and the <code>message</code> parts.
The log info also contains the process ID, a timestamp (using <code>Sys.time()</code>), and the log level.
The timestamp prints out fractional seconds according to <code>digits</code>. When <code>digits</code> is <code>NULL</code>
it checks the <code>TRYR_LOG_DIGITS</code> environment variables and uses that value.
The default is 3 when <code>TRYR_LOG_DIGITS</code> unset or null.
</p>
<p>Besides the usual log levels, there is an extra one <code>"SUCCESS"</code> that is
used to signal successful HTTP response codes (2xx).
</p>


<h3>Value</h3>

<p><code>msg</code> invisibly returns logical indicating if the log message was written
(<code>TRUE</code>) or not (<code>FALSE</code>). A side effect is a log message to STDOUT or STDERR.
</p>
<p>The <code style="white-space: pre;">⁠%+%⁠</code> special pastes the right and left hand side together into s single string.
</p>


<h3>See Also</h3>

<p><code>paste0()</code>, <code>sprintf()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 5
"Sample " %+% "size " %+% "n = " %+% n %+% "."

msg("Success", "We did it!")
msg("Success", "We did it!", "SUCCESS")
msg("Error", "Oh no! n cannot be " %+% n, "ERROR")

msg("Success", "We did it!", "SUCCESS", format = "JSON")
msg("Success", "We did it!", format = "JSON")
msg("Error", "Oh no ...", "ERROR", format = "JSON")

msg("Success", "We did it!", digits = 0)
msg("Success", "We did it!", digits = 6)

</code></pre>


</div>