<div class="container">

<table style="width: 100%;"><tr>
<td>get_pow</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get Kew's Plants of the World code for a taxon</h2>

<h3>Description</h3>

<p>Get Kew's Plants of the World code for a taxon
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_pow(
  sci_com,
  accepted = FALSE,
  ask = TRUE,
  messages = TRUE,
  rows = NA,
  family_filter = NULL,
  rank_filter = NULL,
  x = NULL,
  ...
)

as.pow(x, check = TRUE)

## S3 method for class 'pow'
as.pow(x, check = TRUE)

## S3 method for class 'character'
as.pow(x, check = TRUE)

## S3 method for class 'list'
as.pow(x, check = TRUE)

## S3 method for class 'data.frame'
as.pow(x, check = TRUE)

## S3 method for class 'pow'
as.data.frame(x, ...)

get_pow_(sci_com, messages = TRUE, rows = NA, x = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sci_com</code></td>
<td>
<p>character; A vector of common or scientific names. Or, a
<code>taxon_state</code> object (see taxon-state)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>accepted</code></td>
<td>
<p>logical; If TRUE, removes names that are not accepted
valid names by ITIS. Set to <code>FALSE</code> (default) to give back both
accepted and unaccepted names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ask</code></td>
<td>
<p>logical; should <code>get_pow</code> be run in interactive mode?
If TRUE and more than one pow is found for teh species, the user is
asked for input. If FALSE NA is returned for multiple matches.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>messages</code></td>
<td>
<p>logical; should progress be printed?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>
<p>numeric; Any number from 1 to infinity. If the default NA,
all rows are considered. Note that this function still only gives back
a pow class object with one to many identifiers. See
<code>get_pow_()</code> to get back all, or a subset,
of the raw data that you are presented during the ask process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family_filter</code></td>
<td>
<p>(character) A division (aka phylum) name to filter
data after retrieved from NCBI. Optional. See <code>Filtering</code> below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rank_filter</code></td>
<td>
<p>(character) A taxonomic rank name to filter data after
retrieved from NCBI. See rank_ref for possible options.
Though note that some data sources use atypical ranks, so inspect the data
itself for options. Optional. See <code>Filtering</code> below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>For <code>get_pow()</code>: deprecated, see <code>sci_com</code>. For <code>as.pow</code>, various,
see examples</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Curl options passed on to crul::HttpClient</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>logical; Check if ID matches any existing on the DB, only
used in <code>as.pow()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector of taxonomic identifiers as an S3 class.
If a taxon is not found an <code>NA</code> is given. If more than one identifier
is found the function asks for user input if <code>ask = TRUE</code>, otherwise
returns <code>NA</code>. If <code>ask=FALSE</code> and <code>rows</code> does not equal
<code>NA</code>, then a data.frame is given back, but not of the uid class, which
you can't pass on to other functions as you normally can.
</p>
<p>See <code>get_id_details</code> for further details including
attributes and exceptions
</p>


<h3>Filtering</h3>

<p>The parameters <code>family_filter</code> an<code>rank_filter</code>er are not
used in the search to the data provider, but are used in filtering the data down to a
subset that is closer to the target you want.  For these two parameters,
you can use regex strings since we use <code>grep()</code> internally to match.
Filtering narrows down to the set that matches your query, and removes the rest.
</p>


<h3>Rate-limits</h3>

<p>As of February 2019, KEW was limiting to 5 requests per second. Note that
they may change that number in the future.
</p>
<p>If you get errors that contain <code>429</code> you are hitting the rate limit, and you
can get around it by doing requests with <code>Sys.sleep</code> in between requests.
</p>


<h3>See Also</h3>

<p><code>classification()</code>
</p>
<p>Other pow: 
<code>pow_lookup()</code>,
<code>pow_search()</code>,
<code>pow_synonyms()</code>
</p>
<p>Other taxonomic-ids: 
<code>get_boldid()</code>,
<code>get_eolid()</code>,
<code>get_gbifid()</code>,
<code>get_ids()</code>,
<code>get_iucn()</code>,
<code>get_natservid()</code>,
<code>get_nbnid()</code>,
<code>get_tolid()</code>,
<code>get_tpsid()</code>,
<code>get_tsn()</code>,
<code>get_uid()</code>,
<code>get_wiki()</code>,
<code>get_wormsid()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
get_pow(sci_com="Helianthus")
get_pow(c("Helianthus","Quercus douglasii"))

# Get back a subset
get_pow(sci_com="Helianthus", rows = 1)
get_pow(sci_com="Helianthus", rows = 1:10)

# When not found
get_pow("howdy")
get_pow(c("Helianthus annuus", "howdy"))

# Narrow down results 
# to accepted names
get_pow("Helianthus", accepted = TRUE)
# to a kingom 
get_pow("Helianthus", rank_filter = "genus")
# to accepted names and rank
get_pow("Helianthus annuus", accepted = TRUE, rank_filter = "species")
# to a family
get_pow("flower", family_filter = "Acanthaceae")

# Convert a pow without class information to a pow class
z &lt;- get_pow("Helianthus annuus", accepted = TRUE, rank_filter = "species")
# already a pow, returns the same
as.pow(z)
as.pow("urn:lsid:ipni.org:names:119003-2")
# character vector, length &gt; 1
ids &lt;- c("urn:lsid:ipni.org:names:119003-2","urn:lsid:ipni.org:names:328247-2")
as.pow(ids)
# list, with character strings
as.pow(as.list(ids)) 
## dont check, much faster
as.pow("urn:lsid:ipni.org:names:119003-2", check=FALSE)
as.pow(ids, check=FALSE)
as.pow(as.list(ids), check=FALSE)

(out &lt;- as.pow(ids))
data.frame(out)
as.pow( data.frame(out) )

# Get all data back
get_pow_("Quercus", rows=1:5)
get_pow_("Quercus", rows=1)
get_pow_(c("Pinus", "Abies"), rows = 1:3)

## End(Not run)
</code></pre>


</div>