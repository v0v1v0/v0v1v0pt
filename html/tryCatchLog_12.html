<div class="container">

<table style="width: 100%;"><tr>
<td>limitedLabelsCompact</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a call stack into a list of printable strings</h2>

<h3>Description</h3>

<p>Converts a call stack into a list of printable strings ("labels") with a limited length per call.
If source code references are available they are also printed in the stack trace using this notation:
<code>&lt;file name&gt;#&lt;line number&gt;: executed R expression (call)</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">limitedLabelsCompact(
  value,
  compact = FALSE,
  maxwidth = getOption("width") - 5L
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>a list of calls ("call.stack") generated by <code>sys.calls</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compact</code></td>
<td>
<p>if TRUE only calls that contain a source code reference (attribute "srcref") are returned
(plus always the first call); if FALSE all calls will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxwidth</code></td>
<td>
<p>Maximum number of characters per call in the return value (longer strings will be cutted).
Must be between 40 and 2000 (until version 1.2.2: 1000)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default the maximum number of source code rows that are printed per call in the full stack trace
is 10. You can change this via the option <code>tryCatchLog.max.lines.per.call</code> (see example).
</p>
<p>R does track source code references only if you set the option "keep.source" to TRUE via
<code>options(keep.source = TRUE)</code>. Without this option this function cannot enrich source code references.
If you use <code>Rscript</code> to start a non-interactive R script as batch job you
have to set this option since it is FALSE by default. You can add this option to your
.Rprofile file or use a startup R script that sets this option and sources your
actual R script then.
</p>
<p>This function is based on the undocumented <code>limitedLabels</code> function of the base package.
The source code can be viewed by entering <code>limitedLabels</code> in the R console.
The attributes required to add source file names and line numbers to the calls (srcref and srcfile)
and how they are created internally are explained in this article:
<a href="https://journal.r-project.org/archive/2010-2/RJournal_2010-2_Murdoch.pdf">https://journal.r-project.org/archive/2010-2/RJournal_2010-2_Murdoch.pdf</a>
</p>


<h3>Value</h3>

<p>A list of strings (one for each call).
If <code>compact</code> is <code>TRUE</code> at the last call is returned even if it does not contain
a source code reference.
</p>


<h3>See Also</h3>

<p><code>sys.calls</code>, <code>tryCatchLog</code>, <code>get.pretty.call.stack</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">options(tryCatchLog.max.lines.per.call = 30)
limitedLabelsCompact(sys.calls(), TRUE)
</code></pre>


</div>