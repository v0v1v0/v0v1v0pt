<div class="container">

<table style="width: 100%;"><tr>
<td>MDIoobTree</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Debiased Mean Decrease in Impurity</h2>

<h3>Description</h3>

<p>Calculate the MDI-oob feature importance measure.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MDIoobTree(tidy.RF, tree, trainX, trainY)

MDIoob(tidy.RF, trainX, trainY)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tidy.RF</code></td>
<td>
<p>A tidy random forest. The random forest to calculate MDI-oob
from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tree</code></td>
<td>
<p>An integer. The index of the tree to look at.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trainX</code></td>
<td>
<p>A data frame. Train set features, such that the <code>T</code>th
tree is trained with <code>X[tidy.RF$inbag.counts[[T]], ]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trainY</code></td>
<td>
<p>A data frame. Train set responses, such that the <code>T</code>th
tree is trained with <code>Y[tidy.RF$inbag.counts[[T]], ]</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It has long been known that MDI incorrectly assigns high importance to noisy
features, leading to systematic bias in feature selection. To address this
issue, Li et al. proposed a debiased MDI feature importance measure using
out-of-bag samples, called MDI-oob, which has achieved state-of-the-art
performance in feature selection for both simulated and real data.
</p>
<p>See <code>vignette('MDI', package='tree.interpreter')</code> for more context.
</p>


<h3>Value</h3>

<p>A matrix. The content depends on the type of the response.
</p>

<ul>
<li>
<p> Regression: A P-by-1 matrix, where P is the number of features in
<code>X</code>. The pth row contains the MDI-oob of feature p.
</p>
</li>
<li>
<p> Classification: A P-by-D matrix, where P is the number of features
in <code>X</code> and D is the number of response classes. The dth column of
the pth row contains the MDI-oob of feature p to class d. You can get
the MDI-oob of each feature by calling <code>rowSums</code> on the result.
</p>
</li>
</ul>
<h3>Functions</h3>


<ul>
<li> <p><code>MDIoobTree</code>: Debiased mean decrease in impurity within a single tree
</p>
</li>
<li> <p><code>MDIoob</code>: Debiased mean decrease in impurity within the whole
forest
</p>
</li>
</ul>
<h3>References</h3>

<p>A Debiased MDI Feature Importance Measure for Random Forests
<a href="https://arxiv.org/abs/1906.10845">https://arxiv.org/abs/1906.10845</a>
</p>


<h3>See Also</h3>

<p><code>MDI</code>
</p>
<p><code>vignette('MDI', package='tree.interpreter')</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(ranger)
rfobj &lt;- ranger(Species ~ ., iris, keep.inbag=TRUE)
tidy.RF &lt;- tidyRF(rfobj, iris[, -5], iris[, 5])
MDIoobTree(tidy.RF, 1, iris[, -5], iris[, 5])
MDIoob(tidy.RF, iris[, -5], iris[, 5])

</code></pre>


</div>