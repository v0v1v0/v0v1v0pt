<div class="container">

<table style="width: 100%;"><tr>
<td>plot.trtsel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>plot risk curves, treatment effect curves or cdf of risk for a trtsel
object.</h2>

<h3>Description</h3>

<p>Plots a treatment selection marker.  Estimated "risk curves" and "treatment
effect curves" are plotted.  An object of class "trtsel" must first be
created using the function "trtsel" by supplying a data.frame containing
marker, treatment, and event status information.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'trtsel'
plot(x, bootstraps = 500, plot.type = c("treatment effect",
  "risk", "cdf", "selection impact"), ci = c("default", "horizontal",
  "vertical", "none"), alpha = 0.05, fixed.values = NULL, offset = 0.01,
  conf.bands = TRUE, conf.bandsN = 100, trt.names = c("Treatment",
  "    No \nTreatment"), xlab = NULL, ylab = NULL, xlim = NULL,
  ylim = NULL, main = NULL, show.marker.axis = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class "trtsel", created by using the function
"trtsel."</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootstraps</code></td>
<td>
<p>Number of bootstrap replicates for creating confidence
intervals and bands. Default value is 500. Set bootstraps=0 if no confidence
intervals or bands are desired.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.type</code></td>
<td>
<p>Type of plot to produce. Options are "risk" (default) for
risk curves which show risk of adverse event as a function of marker and
treatment, "treatment effect" for the treatment effect curve which shows the
difference in marker-specific risk of adverse event with vs. without
treatment, "cdf" for the cumulative distribution function of the treatment
effect, or "selection impact" to show a plot of the estimated event rate if
different proportions of the population are treated.  Cdf plots cannot be
generated for a discrete marker.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>Indication of whether horizontal or vertical confidence intervals
are desired. Character string of either "horizontal" (default) or
"vertical." For a discrete marker only vertical confidence bands can be
produced. See note below for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>(1-alpha)*100% confidence intervals are calculated. Default
value is alpha = 0.05 which yields 95% CI's.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed.values</code></td>
<td>
<p>A numeric vector indicating fixed values on the x- or
y-axes at which bootstrap confidence intervals are provided. If
"fixed.values" are provided, point-wise confidence intervals will be printed
(i.e. conf.bands will be taken as FALSE). Only applies to a continuous
marker.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>If confidence intervals are to be plotted for specified
fixed.values, offset is the amount of distance to offset confidence
intervals so that they do not overlap on the plot. The default value is
0.01.  Only applies to a continuous marker.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.bands</code></td>
<td>
<p>Indication of whether pointwise confidence intervals are
shown for the curve(s).  TRUE (default) or FALSE. If "fixed.values" are
input, this option is ignored and no confidence bands are produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.bandsN</code></td>
<td>
<p>If conf.bands = TRUE, the number of points along the x-
or y-axis at which to calculate the pointwise confidence intervals. The
default is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trt.names</code></td>
<td>
<p>A vector of length 2 indicating the names for the two
treatment options, T= 1 and T = 0, respectively, for the plot legend. This
option is only used when plot.type="risk". The default value is
c("Treatment", "No Treatment").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>A label for the x-axis. Default values depend on plot.type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>A label for the y-axis. Default values depend on plot.type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>The limits for the x-axisof the plot, in the form c(x1,x2)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>The limits for the y-axis of the plot, in the form c(y1,y2)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>The main title for the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.marker.axis</code></td>
<td>
<p>For risk curve plots with a continuous marker,
should an axis showing marker values be displayed? default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>N/A</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Generates a plot. In addition, if the function call is assigned to a
variable (as in "myplot &lt;- plot(mytrtsel)"), plot.trtsel returns a list
composed of: </p>
<table>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p> ggplot object containing the printed plot. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.bounds</code></td>
<td>
<p> A data.frame containing the bounds of the bootstrap-based
confidence intervals, along with the fixed.values they are centered around,
if applicable. </p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>For a discrete marker, vertical confidence intervals are generated by
fixing the marker value and generating a bootstrap distribution for risk
given marker. Bands are then generated based on the percentiles of the
empirical bootstrap distribution. For a continuous marker, vertical
confidence intervals are generated by fixing the empirical marker quantiles,
and generating the empirical distribution of risk given marker percentile.
</p>


<h3>See Also</h3>

<p><code>trtsel</code> for creating trtsel objects,
<code>evaluate.trtsel</code> for evaluating marker performance,
<code>calibrate.trtsel</code> for assessing model calibration, and
<code>compare.trtsel</code> to compare two trtsel object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

data(tsdata)

###########################
## Create trtsel objects 
###########################

trtsel.Y1 &lt;- trtsel(event ~ Y1*trt, 
                   treatment.name = "trt", 
                   data = tsdata, 
                   study.design = "RCT",
                   default.trt = "trt all")




##########################
## Use the plot function 
##########################

# Plot risk curves
plot(trtsel.Y1, main = "Marker Y1", 
     plot.type = "risk", bootstraps = 10, #set higher in practice
     trt.names=c("trt","no trt"))
     
# Now with confidence intervals around fixed.values 
 plot(trtsel.Y1, main = "Marker Y1",
                        plot.type = "risk", ci = "horizontal", 
                        fixed.values = c(.2, .5), 
                        offset = .01, bootstraps = 10,
                        trt.names=c("trt","no trt"))
                        
# Plot treatment effect curves
#with confidence intervals around fixed.values
plot(trtsel.Y1, main = "Marker Y1", 
                       plot.type = "treatment effect",
                       ci = "vertical", conf.bands = FALSE,
                       fixed.values = c(10, 20), bootstraps = 10)

</code></pre>


</div>