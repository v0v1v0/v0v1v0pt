<div class="container">

<table style="width: 100%;"><tr>
<td>TermDocumentMatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Term-Document Matrix</h2>

<h3>Description</h3>

<p>Constructs or coerces to a term-document matrix or a document-term matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">TermDocumentMatrix(x, control = list())
DocumentTermMatrix(x, control = list())
as.TermDocumentMatrix(x, ...)
as.DocumentTermMatrix(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>for the constructors, a corpus or an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object from which a
corpus can be generated via <code>Corpus(VectorSource(x))</code>; for the
coercing functions, either a term-document matrix or a document-term
matrix or a simple triplet matrix (package
<span class="pkg">slam</span>) or a term frequency vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>a named list of control options. There are local
options which are evaluated for each document and global options
which are evaluated once for the constructed matrix. Available local
options are documented in <code>termFreq</code> and are internally
delegated to a <code>termFreq</code> call.
</p>
<p>This is different for a <code>SimpleCorpus</code>. In this case all
options are processed in a fixed order in one pass to improve performance.
It always uses the Boost (<a href="https://www.boost.org">https://www.boost.org</a>) Tokenizer (via
<span class="pkg">Rcpp</span>) and takes no custom functions as option arguments.
</p>
<p>Available global options are:
</p>

<dl>
<dt><code>bounds</code></dt>
<dd>
<p>A list with a tag <code>global</code> whose value
must be an integer vector of length 2. Terms that appear in less
documents than the lower bound <code>bounds$global[1]</code> or in
more documents than the upper bound <code>bounds$global[2]</code> are
discarded. Defaults to <code>list(global = c(1, Inf))</code> (i.e., every
term will be used).</p>
</dd>
<dt><code>weighting</code></dt>
<dd>
<p>A weighting function capable of handling a
<code>TermDocumentMatrix</code>. It defaults to <code>weightTf</code> for term
frequency weighting. Available weighting functions shipped with
the <span class="pkg">tm</span> package are <code>weightTf</code>,
<code>weightTfIdf</code>, <code>weightBin</code>, and
<code>weightSMART</code>.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>the additional argument <code>weighting</code> (typically a
<code>WeightFunction</code>) is allowed when coercing a
simple triplet matrix to a term-document or document-term matrix.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>TermDocumentMatrix</code> or class
<code>DocumentTermMatrix</code> (both inheriting from a
simple triplet matrix in package <span class="pkg">slam</span>)
containing a sparse term-document matrix or document-term matrix. The
attribute <code>weighting</code> contains the weighting applied to the
matrix.
</p>


<h3>See Also</h3>

<p><code>termFreq</code> for available local control options.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("crude")
tdm &lt;- TermDocumentMatrix(crude,
                          control = list(removePunctuation = TRUE,
                                         stopwords = TRUE))
dtm &lt;- DocumentTermMatrix(crude,
                          control = list(weighting =
                                         function(x)
                                         weightTfIdf(x, normalize =
                                                     FALSE),
                                         stopwords = TRUE))
inspect(tdm[202:205, 1:5])
inspect(tdm[c("price", "prices", "texas"), c("127", "144", "191", "194")])
inspect(dtm[1:5, 273:276])

if(requireNamespace("SnowballC")) {
    s &lt;- SimpleCorpus(VectorSource(unlist(lapply(crude, as.character))))
    m &lt;- TermDocumentMatrix(s,
                            control = list(removeNumbers = TRUE,
                                           stopwords = TRUE,
                                           stemming = TRUE))
    inspect(m[c("price", "texa"), c("127", "144", "191", "194")])
}
</code></pre>


</div>