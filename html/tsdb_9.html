<div class="container">

<table style="width: 100%;"><tr>
<td>write_ts_table</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Write Time-Series Data to File
</h2>

<h3>Description</h3>

<p>Write time-series data to files.
</p>


<h3>Usage</h3>

<pre><code class="language-R">write_ts_table(ts, dir, file, add = FALSE, overwrite = FALSE,
               replace.file = FALSE, backend = "csv")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ts</code></td>
<td>

<p>a <code>ts_table</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>

<p>character
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>

<p>character
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>

<p>logical: if <code>TRUE</code>, add data with timestamps
that are not in a file.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>

<p>logical: overwrite existing file when data
differs. <code>overwrite</code> implies <code>add</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace.file</code></td>
<td>

<p>logical: if <code>TRUE</code>, an existing file is deleted
and replaced by a new file (i.e. containing <code>ts</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>backend</code></td>
<td>
<p>a string; currently, only <code>csv</code>
is supported</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function takes a <code>ts_table</code> and writes it to
a file.
</p>
<p>If the file already exists and both <code>add</code> and
<code>overwrite</code> are <code>FALSE</code> (the default),
nothing is written.
</p>
<p>When <code>add</code> is <code>TRUE</code>, the function checks
if <code>ts</code> contains timestamps not yet in the file
and, if there are any, writes only those data.
</p>
<p>When <code>overwrite</code> is <code>TRUE</code>, the function
merges all observations in the file with those in
<code>ts</code> and writes the result back to the file. If
<code>ts</code> contains timestamps that were already in the
file, the data in the file are overwritten. Note that
no data will be removed from the file: timestamps not
in <code>ts</code> remain unchanged in the file.
</p>


<h3>Value</h3>

<p>Invisibly, the number of data rows written to a file.
</p>


<h3>Author(s)</h3>

<p>Enrico Schumann
</p>


<h3>See Also</h3>

<p><code>read_ts_tables</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">t1 &lt;- ts_table(1:3, as.Date("2018-12-3") + 1:3, columns = "A")
t2 &lt;- ts_table(4:5, as.Date("2018-12-3") + 1:2, columns = "A")

d &lt;- tempdir()  ## this is just an example.
                ## Actual (valuable) data should never
                ## be stored in a tempdir!

write_ts_table(t1, dir = d, file = "t1")
write_ts_table(t2, dir = d, file = "t2")

read_ts_tables(c("t1", "t2"),
               dir = d, columns = "A",
               return.class = "zoo",
               column.names = "%file%.%column%")
</code></pre>


</div>