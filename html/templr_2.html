<div class="container">

<table style="width: 100%;"><tr>
<td>ask_dY</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ask&amp;tell component function to 'ask' objective function gradient evaluation using finite difference.</h2>

<h3>Description</h3>

<p>ask&amp;tell component function to 'ask' objective function gradient evaluation using finite difference.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ask_dY(
  x,
  dX = 0.001,
  id = 0,
  dX.tmp = "dX.todo",
  dY.tmp = "dY.done",
  tmp_path = file.path(tempdir(), "..", "asktell.tmp"),
  sleep_step = 0.1,
  sleep_init = 0,
  timeout = 360000,
  trace = function(...) cat(paste0(..., "\n")),
  clean = TRUE,
  force_cleanup = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>input values of objective function gradient to compute</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dX</code></td>
<td>
<p>finite difference applied to input values to compute gradient</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>unique identifier for this asktell loop (default: "0")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dX.tmp</code></td>
<td>
<p>temporary "X" values file (default: "dX.todo")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dY.tmp</code></td>
<td>
<p>temporary "Y" values file (default: "dY.done")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tmp_path</code></td>
<td>
<p>temporary directory to store X.tmp &amp; Y.tmp (default: 'tempdir()/../asktell.tmp')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sleep_step</code></td>
<td>
<p>delay between checking X.tmp and Y.tmp (default: 0.1 sec.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sleep_init</code></td>
<td>
<p>initial delay before checking X.tmp and Y.tmp  (default: 0 sec.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeout</code></td>
<td>
<p>maximum delay before breaking loop if X.tmp or Y.tmp doesn't appear (default: 36000 sec. = 10 min.) .</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace</code></td>
<td>
<p>function to display asktell loop status (default : 'cat')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clean</code></td>
<td>
<p>should we cleanup temporary files after reading ? (default: TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force_cleanup</code></td>
<td>
<p>should we cleanup temporary files before writing (possible conflicting asktell calls) ? (default: FALSE)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>'ask&amp;tell' injection loop to call an external objective function within an inline algorithm (like optim(...))
Main idea: pass 'ask_Y' as objectve function argument of algorithm, which will wait until you call 'tell_Y' in another R process.
In this secondary process, you can read what X is called using 'ask_X', and when you know what values returns from the external objective, 
just call 'tell_Y' to give it.
</p>


<h3>Value</h3>

<p>output value of objective function gradient, as given by tell_dY() call in parallel session
</p>


<h3>Author(s)</h3>

<p>Y. Richet, discussions with D. Sinoquet. Async IO principle was defined by G. Pujol.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run:  ### Assumes you can use two independent R sessions
## In main R session
  ask_dY(x=123)
## In another R session
  ask_dX() # returns 123
  tell_dY(y=456)
## Then ask_dY in main R session returns with value '456'

## End(Not run)
</code></pre>


</div>