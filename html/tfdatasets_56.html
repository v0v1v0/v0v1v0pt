<div class="container">

<table style="width: 100%;"><tr>
<td>as_tensor.tensorflow.python.data.ops.dataset_ops.DatasetV2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get the single element of the dataset.</h2>

<h3>Description</h3>

<p>The function enables you to use a TF Dataset in a stateless "tensor-in
tensor-out" expression, without creating an iterator. This facilitates the
ease of data transformation on tensors using the optimized TF Dataset
abstraction on top of them.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'tensorflow.python.data.ops.dataset_ops.DatasetV2'
as_tensor(x, ..., name = NULL)

## S3 method for class 'tensorflow.python.data.ops.dataset_ops.DatasetV2'
as.array(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A TF Dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>passed on to <code>tensorflow::as_tensor()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>(Optional.) A name for the TensorFlow operation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For example, consider a <code>preprocess_batch()</code> which would take as an input
a batch of raw features and returns the processed feature.
</p>
<div class="sourceCode r"><pre>preprocess_one_case &lt;- function(x) x + 100

preprocess_batch   &lt;- function(raw_features) {
  batch_size &lt;- dim(raw_features)[1]
  ds &lt;- raw_features %&gt;%
    tensor_slices_dataset() %&gt;%
    dataset_map(preprocess_one_case, num_parallel_calls = batch_size) %&gt;%
    dataset_batch(batch_size)
  as_tensor(ds)
}

raw_features &lt;- array(seq(prod(4, 5)), c(4, 5))
preprocess_batch(raw_features)
</pre></div>
<p>In the above example, the batch of <code>raw_features</code> was converted to a TF
Dataset. Next, each of the raw_feature cases in the batch was mapped using
the preprocess_one_case and the processed features were grouped into a single
batch. The final dataset contains only one element which is a batch of all
the processed features.
</p>
<p>Note: The dataset should contain only one element. Now, instead of creating
an iterator for the dataset and retrieving the batch of features, the
<code>as_tensor()</code> function is used to skip the iterator creation process and
directly output the batch of features.
</p>
<p>This can be particularly useful when your tensor transformations are
expressed as TF Dataset operations, and you want to use those transformations
while serving your model.
</p>


<h3>See Also</h3>


<ul><li> <p><a href="https://www.tensorflow.org/api_docs/python/tf/data/Dataset#get_single_element">https://www.tensorflow.org/api_docs/python/tf/data/Dataset#get_single_element</a>
</p>
</li></ul>
</div>