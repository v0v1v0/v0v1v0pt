<div class="container">

<table style="width: 100%;"><tr>
<td>sim_daily</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate a daily seasonal series</h2>

<h3>Description</h3>

<p>Simulate a daily seasonal series as described in Ollech (2021).
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim_daily(
  N,
  sd = 2.5,
  change_sd = 0.05,
  week_sd = NA,
  month_sd = NA,
  year_sd = NA,
  week_change_sd = NA,
  month_change_sd = NA,
  year_change_sd = NA,
  innovations_sd = 1,
  sa_sd = NA,
  model = list(order = c(3, 1, 1), ma = 0.5, ar = c(0.2, -0.4, 0.1)),
  beta_1 = 0.9,
  beta_tau = 0,
  start = c(2020, 1),
  multiplicative = TRUE,
  extra_smooth = FALSE,
  calendar = list(which = "Easter", from = -2, to = 2),
  outlier = NULL,
  timewarping = TRUE,
  as_index = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>length in years</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd</code></td>
<td>
<p>Standard deviation for all seasonal factors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>change_sd</code></td>
<td>
<p>Standard deviation of simulated change for all seasonal factors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>week_sd</code></td>
<td>
<p>Standard deviation of the seasonal factor for day-of-the-week</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>month_sd</code></td>
<td>
<p>Standard deviation of the seasonal factor for day-of-the-month</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year_sd</code></td>
<td>
<p>Standard deviation of the seasonal factor for day-of-the-year</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>week_change_sd</code></td>
<td>
<p>Standard deviation of simulated change to seasonal factor for day-of-the-week</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>month_change_sd</code></td>
<td>
<p>Standard deviation of simulated change to seasonal factor for month-of-the-week</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year_change_sd</code></td>
<td>
<p>Standard deviation of simulated change to seasonal factor for year-of-the-week</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>innovations_sd</code></td>
<td>
<p>Standard deviation of the innovations used in the non-seasonal regarima model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sa_sd</code></td>
<td>
<p>Standard deviation of the non-seasonal time series</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Model for non-seasonal time series. A list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta_1</code></td>
<td>
<p>Persistance wrt to previous period of the seasonal change</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta_tau</code></td>
<td>
<p>Persistance wrt to one year/cycle before of the seasonal change</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>Start date of output time series</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multiplicative</code></td>
<td>
<p>Boolean. Should multiplicative seasonal factors be simulated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extra_smooth</code></td>
<td>
<p>Boolean. Should the seasonal factors be smooth on a period-by-period basis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calendar</code></td>
<td>
<p>Parameters for calendar effect, a list, see sim_calendar</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outlier</code></td>
<td>
<p>Parameters for outlier effect, a list, see sim_outlier</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timewarping</code></td>
<td>
<p>Should timewarping be used to obtain the day-of-the-month factors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_index</code></td>
<td>
<p>Shall series be made to look like an index (i.e. shall values be relative to reference year = second year)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Standard deviation of the seasonal factor is in percent if a multiplicative time series model is assumed. Otherwise it is in unitless.
Using a non-seasonal ARIMA model for the initialization of the seasonal factor does not impact the seasonality of the time series. It can just make it easier for human eyes to grasp the seasonal nature of the series. The definition of the ar and ma parameter needs to be inline with the chosen model.
If only change_sd is specified, the change parameters for the single seasonal factors are set individually as change_sd/365*(length of seasonal cycle)
The parameters that can be set for calendar and outlier are those defined in sim_outlier and sim_calendar.
</p>


<h3>Value</h3>

<p>Multiple simulated daily time series of class xts including:
</p>

<dl>
<dt>original</dt>
<dd>
<p>The original series</p>
</dd>
<dt>seas_adj</dt>
<dd>
<p>The original series without calendar and seasonal effects</p>
</dd>
<dt>sfac7</dt>
<dd>
<p>The day-of-the-week effect</p>
</dd>
<dt>sfac31</dt>
<dd>
<p>The day-of-the-month effect</p>
</dd>
<dt>cfac</dt>
<dd>
<p>The calendar effects</p>
</dd>
<dt>outlier</dt>
<dd>
<p>The outlier effects</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Daniel Ollech
</p>


<h3>References</h3>

<p>Ollech, D. (2021). Seasonal adjustment of daily time series. Journal of Time Series Econometrics. doi: <a href="https://doi.org/10.1515/jtse-2020-0028">10.1515/jtse-2020-0028</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">x=sim_daily(5, multiplicative=TRUE, outlier=list(k=5, type=c("AO", "LS"), effect_size=50))
ts.plot(x[,1])
</code></pre>


</div>