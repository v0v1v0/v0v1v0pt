<div class="container">

<table style="width: 100%;"><tr>
<td>twopartm-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class <code>twopartm</code>
</h2>

<h3>Description</h3>

<p>A fitted two-part regression model by <code>tpm</code>.</p>


<h3>Slots</h3>


<dl>
<dt><code>formula_part1</code></dt>
<dd>
<p>Formula specified for the first-part model, i.e., the binomial model for indicators about any non-zero responses.</p>
</dd>
<dt><code>formula_part2</code></dt>
<dd>
<p>Formula specified for the second-part model, i.e., the glm model for non-zero responses.</p>
</dd>
<dt><code>data</code></dt>
<dd>
<p>Data set used to fit the two-part model. It's the same data set as the <code>data</code> argument in tpm.</p>
</dd>
<dt>
<code>n</code>:</dt>
<dd>
<p>Number of observations used in the two-part model (with weights &gt; 0).</p>
</dd>
<dt><code>n_part1</code></dt>
<dd>
<p>Number of of observations used in the first-part model (with weights &gt; 0), i.e., the binomial model for indicators about any non-zero responses.</p>
</dd>
<dt><code>n_part2</code></dt>
<dd>
<p>Number of of observations used in the second-part model (with weights &gt; 0), i.e., the glm model for non-zero responses.</p>
</dd>
<dt><code>data_model1</code></dt>
<dd>
<p>The model frame for the first-part model,  i.e., the binomial model for indicators about any non-zero responses.</p>
</dd>
<dt><code>data_model2</code></dt>
<dd>
<p>The model frame for the second-part model,  i.e., the glm model for non-zero responses.</p>
</dd>
<dt><code>model_part1</code></dt>
<dd>
<p>An object of class <code>glm</code> of the fitted first-part model,  i.e., the binomial model for indicators about any non-zero responses.</p>
</dd>
<dt><code>model_part2</code></dt>
<dd>
<p>An object of class <code>glm</code> of the fitted second-part model,  i.e.,  the glm model for non-zero responses.</p>
</dd>
<dt><code>link_part1</code></dt>
<dd>
<p>Character string describing the link function of the first-part model, i.e., the binomial model for indicators about any non-zero responses.</p>
</dd>
<dt><code>family_part2</code></dt>
<dd>
<p>The family object used in the second-part model,  i.e.,  the glm model for non-zero responses.</p>
</dd>
<dt><code>weights</code></dt>
<dd>
<p>A vector of weights used in the two-part model fitting, or NULL if no weights used.</p>
</dd>
<dt><code>fitted</code></dt>
<dd>
<p>Fitted mean values by the two-part model, obtained by multiplying the fitted probabilities of non-zero responses and the fitted means of non-zero responses.</p>
</dd>
<dt><code>residuals</code></dt>
<dd>
<p>A vector of raw residuals (observed - fitted).</p>
</dd>
<dt><code>loglik</code></dt>
<dd>
<p>Log-likelihood values of the fitted two-part model.</p>
</dd>
<dt><code>y</code></dt>
<dd>
<p>The response vector.</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Yajie Duan, Birol Emir, Griffith Bell and Javier Cabrera</p>


<h3>See Also</h3>

<p><code>tpm</code>, <code>AME</code>, <code>margin</code>, <code>glm</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
##data about health expenditures, i.e., non-negative continuous response
data(meps,package = "twopartm")


##fit two-part model with the same regressors in both parts, with logistic regression model
##for the first part, and glm with Gamma family with log link for the second-part model
tpmodel = tpm(formula_part1 = exp_tot~female+age, formula_part2 = exp_tot~female+age+ed_colplus,
data = meps,link_part1 = "logit",family_part2 = Gamma(link = "log"))

##get the formula specified for the first-part model
tpmodel@formula_part1

##get the formula specified for the second-part model
tpmodel@formula_part2

##get the log-likelihood for the fitted two-part model
tpmodel@loglik

##get the fitted glm model for the first part
tpmodel@model_part1
##get the fitted glm model for the second part
tpmodel@model_part2


</code></pre>


</div>