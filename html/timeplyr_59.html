<div class="container">

<table style="width: 100%;"><tr>
<td>q_summarise</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fast grouped quantile summary</h2>

<h3>Description</h3>

<p><code>collapse</code> and <code>data.table</code> are used for the calculations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">q_summarise(
  data,
  ...,
  probs = seq(0, 1, 0.25),
  type = 7,
  pivot = c("wide", "long"),
  na.rm = TRUE,
  sort = df_group_by_order_default(data),
  .by = NULL,
  .cols = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Variables used to calculate quantiles for.
Tidy data-masking applies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>Quantile probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>An integer from 5-9 specifying which algorithm to use.
See <code>quantile</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pivot</code></td>
<td>
<p>Should data be pivoted wide or long? Default is <code>wide</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>Should <code>NA</code> values be removed? Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>Should groups be sorted? Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.by</code></td>
<td>
<p>(Optional). A selection of columns to group by for this operation.
Columns are specified using tidy-select.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.cols</code></td>
<td>
<p>(Optional) alternative to <code>...</code> that accepts
a named character vector or numeric vector.
If speed is an expensive resource, it is recommended to use this.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>data.table</code> containing the quantile values for each group.
</p>


<h3>See Also</h3>

<p>stat_summarise
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(timeplyr)
library(dplyr)

# Standard quantiles
iris %&gt;%
  q_summarise(Sepal.Length)
# Quantiles by species
iris %&gt;%
  q_summarise(Sepal.Length, .by = Species)
# Quantiles by species across multiple columns
iris %&gt;%
  q_summarise(Sepal.Length, Sepal.Width,
            probs = c(0, 1),
            .by = Species)
# Long format if one desires, useful for ggplot2
iris %&gt;%
  q_summarise(Sepal.Length, pivot = "long",
            .by = Species)
# Example with lots of groups
set.seed(20230606)
df &lt;- data.frame(x = rnorm(10^5),
                 g = sample.int(10^5, replace = TRUE))
q_summarise(df, x, .by = g, sort = FALSE)

</code></pre>


</div>