<div class="container">

<table style="width: 100%;"><tr>
<td>loss</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Turner loss function for a list of groups (lists) of persistence diagrams.</h2>

<h3>Description</h3>

<p>An internal function to calculate the normalized sum of within-group exponentiated distances 
between pairs of persistence diagrams (stored as data frames)
for an arbitrary number of groups in parallel. Note that this function may run
into memory issues for large numbers of diagrams.
</p>


<h3>Usage</h3>

<pre><code class="language-R">loss(
  diagram_groups,
  dist_mats,
  dims,
  p,
  q,
  distance,
  sigma,
  rho,
  num_workers,
  group_sizes
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>diagram_groups</code></td>
<td>
<p>groups (lists/vectors) of persistence diagrams, stored as lists of a data frame and
an index of the diagram in all the diagrams across all groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist_mats</code></td>
<td>
<p>distance matrices between all possible pairs of persistence diagrams across and within groups
storing the current distances which have been pre-computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dims</code></td>
<td>
<p>a numeric vector of which homological dimensions in which the loss function is to be computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>a number representing the wasserstein parameter, at least 1, and if Inf then the bottleneck distance is calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>a finite number at least 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance</code></td>
<td>
<p>a string which determines which type of distance calculation to carry out, either "wasserstein" (default) or "fisher".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>
<p>the positive bandwidth for the persistence Fisher distance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>the approximation heuristic for Fisher information metric, results in sequential computation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_workers</code></td>
<td>
<p>the number of cores used for parallel computation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_sizes</code></td>
<td>
<p>for when using precomputed distance matrices.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The Turner loss function is described in Robinson and Turner 2017
(<a href="https://link.springer.com/article/10.1007/s41468-017-0008-7">https://link.springer.com/article/10.1007/s41468-017-0008-7</a>), and is used
in the 'permutation_test' function to describe how well-separated a particular
grouping of persistence diagrams is. When the 'distance' parameter is "fisher",
'sigma' must not be NULL.
</p>


<h3>Value</h3>

<p>the numeric value of the Turner loss function.
</p>


<h3>Author(s)</h3>

<p>Shael Brown - <a href="mailto:shaelebrown@gmail.com">shaelebrown@gmail.com</a>
</p>


<h3>References</h3>

<p>Robinson T, Turner K (2017). "Hypothesis testing for topological data analysis." <a href="https://link.springer.com/article/10.1007/s41468-017-0008-7">https://link.springer.com/article/10.1007/s41468-017-0008-7</a>.
</p>


</div>