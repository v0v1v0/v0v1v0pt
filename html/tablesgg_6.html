<div class="container">

<table style="width: 100%;"><tr>
<td>add_refmark</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a Reference Mark to a Character Vector or Matrix </h2>

<h3>Description</h3>

<p>Utility function to add a reference mark to each element of a character
vector or matrix.  This is an internal function, not intended to be called
by package users.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_refmark(text, textspec, mark, side, raise)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>Character vector or matrix of text strings to be marked.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>textspec</code></td>
<td>
<p>Character vector or matrix, parallel to <code>text</code>, indicating whether
text already contains a <code>plotmath</code> expression ("plotmath") or
markdown ("markdown"), or is plain text ("plain").
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mark</code></td>
<td>
<p>Character string to be used as the reference mark.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>side</code></td>
<td>
<p>On which side of the text should the reference mark be placed, "before" or
"after".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raise</code></td>
<td>
<p>Logical scalar.  If TRUE, the reference mark will be displayed as a
superscript, using <code>plotmath</code> notation.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>raise</code> is TRUE, every element in the returned text will contain
either plotmath or markdown notation.  If a text string was originally
"plain", the default is to use markdown if the package option
<code>allowMarkdown</code> is TRUE, and plotmath otherwise.
</p>
<p>It is an error if a "plain" text string contains newline (<code>\n</code>)
characters but needs to be converted to plotmath to add a reference mark.
(<code>plotmath</code> ignores newline characters.)
</p>
<p>If <code>raise</code> is FALSE, the <code>textspec</code> value for each string is the
same as on input.
</p>


<h3>Value</h3>

<p>List with components <code>text</code> and <code>textspec</code>.  The first will be a
character vector or matrix like input <code>text</code>, updated to include the
reference mark in each string.
</p>
<p>Component <code>textspec</code> will be a character vector or matrix with the
same shape as <code>text</code>, and value "plain", "plotmath", or "markdown",
according to the contents of <code>text</code> after adding the reference mark.
</p>


</div>