<div class="container">

<table style="width: 100%;"><tr>
<td>seqgranularity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Changing sequence time granularity by aggregating positions
</h2>

<h3>Description</h3>

<p>Changes time granularity of a state sequence object by aggregating successive positions into groups of a user-defined time length.
</p>


<h3>Usage</h3>

<pre><code class="language-R">seqgranularity(seqdata, tspan = 3, method = "last")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>seqdata</code></td>
<td>

<p>A state sequence object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tspan</code></td>
<td>

<p>Integer. Number of successive positions grouped together.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>

<p>Character string. Aggregating method. One of <code>"first"</code>, <code>"first.valid"</code>, <code>"last"</code> (default), <code>"last.valid"</code>, \ or <code>"mostfreq"</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Successive positions are aggregated by group of <code>tspan</code> states. The aggregated state is, depending of the <code>method</code> chosen, either the first (<code>"first"</code>), the first valid (<code>"first.valid"</code>), the last (<code>"last"</code>), the last valid (<code>"last.valid"</code>), or the most frequent (<code>"mostfreq"</code>) state of the <code>tspan</code> long spell. The same applies to the last spell, even when it is shorter than <code>tspan</code>.
</p>
<p>Methods (<code>"first"</code>) and (<code>"last"</code>) differ from (<code>"first.valid"</code>) and (<code>"last.valid"</code>) only when sequences contain missing values and/or have different lengths.
</p>
<p>When there are (void or non void) missings, method <code>"mostfreq"</code> replaces each interval with the most frequent valid state on the interval or the missing state when there are no valid state.
</p>
<p>End missings are set as void when there are voids in <code>seqdata</code> and as the <code>nr</code> attribute otherwise.
</p>


<h3>Value</h3>

<p>A <code>stslist</code> object: The compacted state sequence object.
</p>


<h3>Author(s)</h3>

<p>Matthias Studer and Gilbert Ritschard
</p>


<h3>See Also</h3>

<p><code>seqdef</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(mvad)
mvad &lt;- mvad[1:100,]
mvad.seq &lt;- seqdef(mvad[,17:86], xtstep=12)
mvadg.seq &lt;- seqgranularity(mvad.seq, tspan=6, method="first")
par(mfrow=c(2,1))
seqdplot(mvad.seq, with.legend=FALSE, border=NA)
seqdplot(mvadg.seq, with.legend=FALSE)

</code></pre>


</div>