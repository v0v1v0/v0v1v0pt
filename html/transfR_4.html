<div class="container">

<table style="width: 100%;"><tr>
<td>convolution</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convolution of net rainfall with unit hydrograph</h2>

<h3>Description</h3>

<p>Simulate the discharge by a convolution between the unit hydrograph and the net rainfall.
</p>


<h3>Usage</h3>

<pre><code class="language-R">convolution(Rn, ...)

## Default S3 method:
convolution(Rn, uh, continuous = FALSE, ...)

## S3 method for class 'units'
convolution(Rn, uh, ...)

## S3 method for class 'transfR'
convolution(
  Rn,
  Rcol = "RnSim",
  Qcol = "Qsim",
  save_donor = FALSE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Rn</code></td>
<td>
<p>net rainfall vector or an object of class <code>transfR</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to or from other methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uh</code></td>
<td>
<p>unit hydrograph vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>continuous</code></td>
<td>
<p>boolean indicating if, when one time step might be influenced by past or future rainfall
(according to the time span of the unit hydrograph), no simulated value is provided</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rcol</code></td>
<td>
<p>name of the space-time attribute for the discharge simulation in the <code>transfR</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Qcol</code></td>
<td>
<p>name of the space-time attribute for the net rainfall in the <code>transfR</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_donor</code></td>
<td>
<p>boolean indicating if additional discharge simulations should be computed using the
net rainfall of each individual donor catchment instead of just the weighted average net rainfall. This
requires that <code>save_donor</code> was TRUE when using mixr</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>boolean indicating if information messages should be written to the console</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of the same class of <code>Rn</code>. If <code>Rn</code> is a transfR object,
the same transfR object incremented by the new computed attributes.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Oudon)
icatch &lt;- 1
uc &lt;- velocity(hl = Oudon$hl[[icatch]])
uh &lt;- uh(hl = Oudon$hl[[icatch]], uc = uc, deltat = units::set_units(1,"h"))$prob
Rn &lt;- units::set_units(c(1,5,2), "mm/h")
Qsim &lt;- convolution(Rn = Rn, uh = uh)
</code></pre>


</div>