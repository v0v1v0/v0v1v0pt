<div class="container">

<table style="width: 100%;"><tr>
<td>Tendril</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tendril</h2>

<h3>Description</h3>

<p>Function to calculate coordinates and statistical measures used to create a tendril plot
</p>


<h3>Usage</h3>

<pre><code class="language-R">Tendril(mydata, rotations, AEfreqThreshold = 50, Tag = "Comment",
  Treatments = c("Active", "Placebo"),
  Unique.Subject.Identifier = "Unique.Subject.Identifier",
  Terms = "Dictionary.Derived.Term", Treat = "Actual.Treatment...DB",
  StartDay = "Analysis.Start.Relative.Day", SubjList = NULL,
  SubjList.subject = NULL, SubjList.treatment = NULL,
  SubjList.dropoutday = NULL, compensate_imbalance_groups = FALSE,
  filter_double_events = FALSE, suppress_warnings = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mydata</code></td>
<td>
<p>A dataframe containing the data for the tendril calculations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotations</code></td>
<td>
<p>a vector of same length as mydata containing the rotation factors for all the events</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AEfreqThreshold</code></td>
<td>
<p>The minimum frequency threshold of events to be included in the analysis. Default is 50</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tag</code></td>
<td>
<p>A tag or comment associated with the analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Treatments</code></td>
<td>
<p>The names of the two treatments to be included in the tendril. The first treatment bends to the right and second treatment bends to the left. Must be a vector of two elements and the two elements must be found in the Treatment column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Unique.Subject.Identifier</code></td>
<td>
<p>The name of the column containing the unique patients IDs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Terms</code></td>
<td>
<p>The name of the column containing the name of the tendrils (e.g. adverse event terms)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Treat</code></td>
<td>
<p>The name of the column containing the name of the treatments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>StartDay</code></td>
<td>
<p>The name column containing the days of the events</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SubjList</code></td>
<td>
<p>A dataframe containing subject IDs and treatments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SubjList.subject</code></td>
<td>
<p>The name of the columns in SubjList containing the subjects IDs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SubjList.treatment</code></td>
<td>
<p>The name of the columns in SubjList containing the treatments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SubjList.dropoutday</code></td>
<td>
<p>The name of the column in SubjList containing the dropoutday</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compensate_imbalance_groups</code></td>
<td>
<p>Boolean Whether the rotation factors have been compensated for imbalance in the groups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter_double_events</code></td>
<td>
<p>Boolean whether to filter out events duplicated in subject id and adverse effect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suppress_warnings</code></td>
<td>
<p>Boolean whether to suppress warnings from chi squared approximation may be incorrect</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function accepts a dataframe with at least 4 columns named as the arguments Unique.Subject.Identifier, Terms, Treat and StartDay.
</p>
<p>Two treatments must be given as arguments, and at least one of the two treatments must be found in the Treatment column
</p>
<p>The function returns an object of class tendril. The object contains the coordinates for the tendril plot and the arguments of the tendril function
</p>
<p>The result of the function can be plotted with plot()
</p>
<p>The result can be saved to file using write.table() with argument row.names = FALSE
</p>


<h3>Value</h3>

<p>The function return an object of class tendril. The object contains the original dataset added with the tendril coordinates,
all the function arguments and a dataframe with the results from statistical analysis
</p>

<ul>
<li>
<p>data$data : Dataframe of orginal data, coordinates and stat results
</p>
</li>
<li>
<p>data$Unique.Subject.Identifier : Column containing subject IDs
</p>
</li>
<li>
<p>data$Terms : Column containing the name of the tendrils
</p>
</li>
<li>
<p>data$Treat : Column containing the name of the treatments
</p>
</li>
<li>
<p>data$StartDay : Column containing the days of the events
</p>
</li>
<li>
<p>data$Treatments : The names of the treatments causing the tendrils to bend
</p>
</li>
<li>
<p>data$AEfreqThreshold : The frequency threshold for the events to be included in the analysis
</p>
</li>
<li>
<p>data$Tag : A tag or comment associated with the analysis
</p>
</li>
<li>
<p>data$n.tot : A dataframe with the total number of events for each treatment. Used in the statistical calculations
</p>
</li>
<li>
<p>data$SubjList : A dataframe containing subject IDs and treatments
</p>
</li>
<li>
<p>data$SubjList.subject : The name of the columns in SubjList containing the subjects IDs
</p>
</li>
<li>
<p>data$SubjList.treatment : The name of the columns in SubjList containing the treatments
</p>
</li>
<li>
<p>data$SubjList.dropoutday : The name of the column in SubjList containing the dropoutday
</p>
</li>
<li>
<p>data$rotation_vector : Rotation vector used to generate the tendril
</p>
</li>
<li>
<p>data$compensate_imbalance_groups : Boolean Whether the rotation factors have been compensated for imbalance in the groups
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">data &lt;- Tendril(mydata = TendrilData,
rotations = Rotations,
AEfreqThreshold=9,
Tag = "Comment",
Treatments = c("placebo", "active"),
Unique.Subject.Identifier = "subjid",
Terms = "ae",
Treat = "treatment",
StartDay = "day",
SubjList = SubjList,
SubjList.subject = "subjid",
SubjList.treatment = "treatment"
)

plot(data)
</code></pre>


</div>