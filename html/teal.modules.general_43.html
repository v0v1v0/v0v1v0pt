<div class="container">

<table style="width: 100%;"><tr>
<td>tm_t_crosstable</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
<code>teal</code> module: Cross-table</h2>

<h3>Description</h3>

<p>Generates a simple cross-table of two variables from a dataset with custom
options for showing percentages and sub-totals.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tm_t_crosstable(
  label = "Cross Table",
  x,
  y,
  show_percentage = TRUE,
  show_total = TRUE,
  pre_output = NULL,
  post_output = NULL,
  basic_table_args = teal.widgets::basic_table_args()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>(<code>character(1)</code>) Label shown in the navigation item for the module or module group.
For <code>modules()</code> defaults to <code>"root"</code>. See <code>Details</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(<code>data_extract_spec</code> or <code>list</code> of multiple <code>data_extract_spec</code>)
Object with all available choices with pre-selected option for variable X - row values.
In case of <code>data_extract_spec</code> use <code>select_spec(..., ordered = TRUE)</code> if table elements should be
rendered according to selection order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>(<code>data_extract_spec</code> or <code>list</code> of multiple <code>data_extract_spec</code>)
Object with all available choices with pre-selected option for variable Y - column values.
</p>
<p><code>data_extract_spec</code> must not allow multiple selection in this case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_percentage</code></td>
<td>
<p>(<code>logical(1)</code>)
Indicates whether to show percentages (relevant only when <code>x</code> is a <code>factor</code>).
Defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_total</code></td>
<td>
<p>(<code>logical(1)</code>)
Indicates whether to show total column.
Defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pre_output</code></td>
<td>
<p>(<code>shiny.tag</code>) optional, text or UI element to be displayed before the module's output,
providing context or a title.
with text placed before the output to put the output into context. For example a title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>post_output</code></td>
<td>
<p>(<code>shiny.tag</code>) optional, text or UI element to be displayed after the module's output,
adding context or further instructions. Elements like <code>shiny::helpText()</code> are useful.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>basic_table_args</code></td>
<td>
<p>(<code>basic_table_args</code>) object created by <code>teal.widgets::basic_table_args()</code>
with settings for the module table.
The argument is merged with options variable <code>teal.basic_table_args</code> and default module setup.
</p>
<p>For more details see the vignette: <code>vignette("custom-basic-table-arguments", package = "teal.widgets")</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Object of class <code>teal_module</code> to be used in <code>teal</code> applications.
</p>


<h3>Note</h3>

<p>For more examples, please see the vignette "Using cross table" via
<code>vignette("using-cross-table", package = "teal.modules.general")</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># general data example
library(teal.widgets)

data &lt;- teal_data()
data &lt;- within(data, {
  mtcars &lt;- mtcars
  for (v in c("cyl", "vs", "am", "gear")) {
    mtcars[[v]] &lt;- as.factor(mtcars[[v]])
  }
  mtcars[["primary_key"]] &lt;- seq_len(nrow(mtcars))
})
datanames(data) &lt;- "mtcars"
join_keys(data) &lt;- join_keys(join_key("mtcars", "mtcars", "primary_key"))

app &lt;- init(
  data = data,
  modules = modules(
    tm_t_crosstable(
      label = "Cross Table",
      x = data_extract_spec(
        dataname = "mtcars",
        select = select_spec(
          label = "Select variable:",
          choices = variable_choices(data[["mtcars"]], c("cyl", "vs", "am", "gear")),
          selected = c("cyl", "gear"),
          multiple = TRUE,
          ordered = TRUE,
          fixed = FALSE
        )
      ),
      y = data_extract_spec(
        dataname = "mtcars",
        select = select_spec(
          label = "Select variable:",
          choices = variable_choices(data[["mtcars"]], c("cyl", "vs", "am", "gear")),
          selected = "vs",
          multiple = FALSE,
          fixed = FALSE
        )
      ),
      basic_table_args = basic_table_args(
        subtitles = "Table generated by Crosstable Module"
      )
    )
  )
)
if (interactive()) {
  shinyApp(app$ui, app$server)
}

# CDISC data example
library(teal.widgets)

data &lt;- teal_data()
data &lt;- within(data, {
  ADSL &lt;- rADSL
})
datanames(data) &lt;- "ADSL"
join_keys(data) &lt;- default_cdisc_join_keys[datanames(data)]

app &lt;- init(
  data = data,
  modules = modules(
    tm_t_crosstable(
      label = "Cross Table",
      x = data_extract_spec(
        dataname = "ADSL",
        select = select_spec(
          label = "Select variable:",
          choices = variable_choices(data[["ADSL"]], subset = function(data) {
            idx &lt;- !vapply(data, inherits, logical(1), c("Date", "POSIXct", "POSIXlt"))
            return(names(data)[idx])
          }),
          selected = "COUNTRY",
          multiple = TRUE,
          ordered = TRUE,
          fixed = FALSE
        )
      ),
      y = data_extract_spec(
        dataname = "ADSL",
        select = select_spec(
          label = "Select variable:",
          choices = variable_choices(data[["ADSL"]], subset = function(data) {
            idx &lt;- vapply(data, is.factor, logical(1))
            return(names(data)[idx])
          }),
          selected = "SEX",
          multiple = FALSE,
          fixed = FALSE
        )
      ),
      basic_table_args = basic_table_args(
        subtitles = "Table generated by Crosstable Module"
      )
    )
  )
)
if (interactive()) {
  shinyApp(app$ui, app$server)
}

</code></pre>


</div>