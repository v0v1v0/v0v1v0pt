<div class="container">

<table style="width: 100%;"><tr>
<td>FitLsaModel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit a topic model using Latent Semantic Analysis</h2>

<h3>Description</h3>

<p>A wrapper for <code>RSpectra::svds</code> that returns 
a nicely-formatted latent semantic analysis topic model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">FitLsaModel(dtm, k, calc_coherence = TRUE, return_all = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dtm</code></td>
<td>
<p>A document term matrix of class <code>Matrix::dgCMatrix</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Number of topics</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calc_coherence</code></td>
<td>
<p>Do you want to calculate probabilistic coherence of topics
after the model is trained? Defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_all</code></td>
<td>
<p>Should all objects returned from <code>RSpectra::svds</code> be
returned here? Defaults to <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments to pass to <code>svds</code> through 
its <code>opts</code> parameter.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Latent semantic analysis, LSA, uses single value decomposition to
factor the document term matrix. In many LSA applications, TF-IDF weights are
applied to the DTM before model fitting. However, this is not strictly 
necessary.
</p>


<h3>Value</h3>

<p>Returns a list with a minimum of three objects: <code>phi</code>,  
<code>theta</code>, and <code>sv</code>. The rows of <code>phi</code> index topics and the 
columns index tokens. The rows of <code>theta</code> index documents and the 
columns index topics. <code>sv</code> is a vector of singular values.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load a pre-formatted dtm 
data(nih_sample_dtm) 

# Convert raw word counts to TF-IDF frequency weights
idf &lt;- log(nrow(nih_sample_dtm) / Matrix::colSums(nih_sample_dtm &gt; 0))

dtm_tfidf &lt;- Matrix::t(nih_sample_dtm) * idf

dtm_tfidf &lt;- Matrix::t(dtm_tfidf)

# Fit an LSA model
model &lt;- FitLsaModel(dtm = dtm_tfidf, k = 5)

str(model)

</code></pre>


</div>