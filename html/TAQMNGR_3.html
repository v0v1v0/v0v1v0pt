<div class="container">

<table style="width: 100%;"><tr>
<td>TAQ</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
TAQ Manager
</h2>

<h3>Description</h3>

<p>Manage tick-by-tick transaction data
</p>


<h3>Usage</h3>

<pre><code class="language-R">  
  TAQ.CleanTickByTick(dirInput, dirOutput, 
  
    window = 80, deltaTrimmed = 0.10, granularity = 0.04, useCleaned = TRUE)
  
  TAQ.Aggregate(dirInput, symbol, bin, useAggregated = TRUE)
  
  TAQ.Report(dirInput, symbol)

  TAQ.Read(dirInput, symbol, import = NULL, startDate, endDate, bin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dirInput</code></td>
<td>
<p>A <em>character</em> scalar: the input directory.<br>
For the function <code>CleanTickByTick()</code>, <code>dirInput</code> is the name of the folder containing the raw data files. 
In this case it is important that <code>dirInput</code> includes only <code>.gz</code> files to be cleaned.
For the remaining functions, <code>dirInput</code> is the name of the folder including the previously cleaned/aggregated data (appearing as <code>dirOutput</code> in the function <code>CleanTickByTick()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dirOutput</code></td>
<td>
<p>A <em>character</em> scalar: the output directory. 
It must be different from <code>dirInput</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p>A <em>numeric</em> integer scalar: the window size for the trimming procedure of data clean (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deltaTrimmed</code></td>
<td>
<p>A <em>numeric</em> scalar into $(0,1)$: the trimming proportion (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>granularity</code></td>
<td>
<p>A <em>numeric</em> positive scalar: the granularity parameter (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useCleaned</code></td>
<td>
<p>A <em>logical</em> scalar: if <code>TRUE</code>, previously cleaned files (if any) are not cleaned again.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useAggregated</code></td>
<td>
<p>A <em>logical</em> scalar: if <code>TRUE</code>, previously aggregated data (if any) are not aggregated again.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbol</code></td>
<td>
<p>A <em>character</em> (vector in <code>TAQ.Aggregate()</code>; scalar in <code>TAQ.Report()</code> and <code>TAQ.Read()</code>): the ticker symbols of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startDate</code></td>
<td>
<p>A <em>numeric</em> integer scalar: the start date in the <em>yyyymmdd</em> format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endDate</code></td>
<td>
<p>A <em>numeric</em> integer scalar: the end date in the <em>yyyymmdd</em> format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bin</code></td>
<td>
<p>A <em>numeric</em> integer scalar: the bin size (in seconds) for aggregating data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>import</code></td>
<td>
<p>A <em>character</em>: the list of fields to be imported. One or more among:<br><code>"FIRST"</code>: First price in the bin.<br><code>"MIN"</code>: Min price in the bin.<br><code>"MAX"</code>: Max price in the bin.<br><code>"LAST"</code>: Last price in the bin.<br><code>"SIZE"</code>: First price in the bin.<br><code>"#TRADES"</code>: Number of trades in the bin.<br><code>"VWAP"</code>: Volume Weighted Average Price in the bin.<br>
If <code>NULL</code>, all fields are imported.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The meaning of the arguments <code>window</code>, <code>deltaTrimmed</code>, and <code>granularity</code> is detailed in the reference below.
</p>


<h3>References</h3>

<p>Brownlees, C. T., and Gallo, G. M. (2006). Financial Econometric Analysis at Ultra–High Frequency: Data Handling Concerns, <em>Computational Statistics and Data Analysis</em> <b>51</b>, 2232–2245.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  #### A fake dataset for running the example can be downloaded at 
  #### 'http://local.disia.unifi.it/cipollini/webpage-new/data/data_sample.txt.gz' 
  ## Input
  # dirInput  &lt;- "path of the input folder" 
  # dirOutput &lt;- "path of the output folder" ## Must be different from 'dirInput' 
  ## Clean
  # TAQ.CleanTickByTick(dirInput = dirInput, dirOutput = dirInput)
  ## Make the report (1 at a time)
  # TAQ.Report(dirInput = dirOutput, symbol = c("DOG")) ## A scalar symbol
  # TAQ.Report(dirInput = dirOutput, symbol = c("GNU")) ## A scalar symbol
  ## Aggregate
  # TAQ.Aggregate(dirInput = dirOutput, symbol = c("DOG", "GNU"), bin = 300, 
  #   useAggregated = TRUE)
  ## Import data
  # dog &lt;- TAQ.Read(dirInput = dirOutput, symbol = "DOG", 
  #   startDate = 00010101, endDate = 20141231, bin = 300)
</code></pre>


</div>