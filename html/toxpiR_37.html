<div class="container">

<table style="width: 100%;"><tr>
<td>TxpResult-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ToxPi Result</h2>

<h3>Description</h3>

<p>S4 class to store ToxPi results
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'TxpResult'
txpScores(x)

## S4 method for signature 'TxpResult'
txpSliceScores(x, adjusted = TRUE)

## S4 method for signature 'TxpResult'
txpRanks(x)

## S4 method for signature 'TxpResult'
txpMissing(x)

## S4 method for signature 'TxpResult'
txpResultParam(x)

## S4 method for signature 'TxpResult'
txpModel(x)

## S4 method for signature 'TxpResult'
txpIDs(x)

## S4 replacement method for signature 'TxpResult'
txpIDs(x) &lt;- value

## S4 method for signature 'TxpResult'
txpWeights(x, adjusted = FALSE)

## S4 method for signature 'TxpResult'
txpSlices(x)

## S4 method for signature 'TxpResult'
txpTransFuncs(x, level, simplify = FALSE)

## S4 method for signature 'TxpResult'
txpValueNames(x, simplify = FALSE)

## S4 method for signature 'TxpResult,logical,missing'
x[i, j, ..., drop = FALSE]

## S4 method for signature 'TxpResult,integer,missing'
x[i, j, ..., drop = FALSE]

## S4 method for signature 'TxpResult,numeric,missing'
x[i, j, ..., drop = FALSE]

## S4 method for signature 'TxpResult,character,missing'
x[i, j, ..., drop = FALSE]

## S4 method for signature 'TxpResult'
length(x)

## S4 method for signature 'TxpResult'
sort(x, decreasing = TRUE, na.last = TRUE, ...)

## S4 method for signature 'TxpResult'
names(x)

## S4 replacement method for signature 'TxpResult'
names(x) &lt;- value

## S4 method for signature 'TxpResult'
as.data.frame(
  x,
  row.names = NULL,
  optional = FALSE,
  ...,
  id.name = "id",
  score.name = "score",
  rank.name = "rank",
  adjusted = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>TxpResult object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjusted</code></td>
<td>
<p>Logical scalar, when <code>TRUE</code> the weights are adjusted to sum
to 1 or the slice scores are scaled to their respective weight</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>Replacement value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p><code>c('model', 'slices')</code>; indicates whether to retrieve
<code>txpTransFuncs</code> slot from the model or underlying slices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simplify</code></td>
<td>
<p>Logical scalar, flatten <code>txpValueNames</code> or <code>txpTransFunc</code>
slots when retrieving slice-level information</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>Subsetting index</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>j, drop, optional</code></td>
<td>
<p>Not currently implemented</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Passed to base::data.frame in <code>as.data.frame</code> or base::sort
in <code>sort</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decreasing, na.last</code></td>
<td>
<p>Passed to base::sort</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row.names</code></td>
<td>
<p>Passed to base::data.frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.name, score.name, rank.name</code></td>
<td>
<p>Character scalar; when coercing to
base::data.frame, the name for the <code>txpIDs</code>, <code>txpScores</code>, and <code>txpRanks</code>
columns, respectively</p>
</td>
</tr>
</table>
<h3>Functions</h3>


<ul>
<li> <p><code>txpScores(TxpResult)</code>: Return <code>txpScores</code> slot
</p>
</li>
<li> <p><code>txpSliceScores(TxpResult)</code>: Return <code>txpSliceScores</code> slot; default
<code>adjusted = TRUE</code>, i.e. return slice scores adjusted for weight
</p>
</li>
<li> <p><code>txpRanks(TxpResult)</code>: Return <code>txpRanks</code> slot
</p>
</li>
<li> <p><code>txpMissing(TxpResult)</code>: Return <code>txpMissing</code> slot
</p>
</li>
<li> <p><code>txpResultParam(TxpResult)</code>: Return <code>txpResultParam</code> slot
</p>
</li>
<li> <p><code>txpModel(TxpResult)</code>: Return <code>txpModel</code> slot
</p>
</li>
<li> <p><code>txpIDs(TxpResult)</code>: Return <code>txpIDs</code> slot
</p>
</li>
<li> <p><code>txpWeights(TxpResult)</code>: Return <code>txpWeights</code> slot from model – shortcut
for <code>txpWeights(txpModel(x))</code>; default <code>adjusted = FALSE</code>, i.e. return
unadjusted weights
</p>
</li>
<li> <p><code>txpSlices(TxpResult)</code>: Return <code>txpSlices</code> slot from model – shortcut
for <code>txpSlices(txpModel(x))</code>
</p>
</li>
<li> <p><code>txpTransFuncs(TxpResult)</code>: Return <code>txpTransFuncs</code> slot from model –
shortcut for <code>txpTransFuncs(txpModel(x))</code>
</p>
</li>
<li> <p><code>txpValueNames(TxpResult)</code>: Return <code>txpValueNames</code> slot from slices –
shortcut for <code>txpValueNames(txpSlices(txpModel(x)))</code>
</p>
</li>
<li> <p><code>length(TxpResult)</code>: Return the number of observations; shortcut for
<code>length(txpScores(x))</code>
</p>
</li>
<li> <p><code>sort(TxpResult)</code>: Sort the “TxpResult' object by their ranks
</p>
</li>
<li> <p><code>names(TxpResult)</code>: Returns IDs; equal to <code>txpIDs(x)</code>
</p>
</li>
<li> <p><code>as.data.frame(TxpResult)</code>: Coerce TxpResult to base::data.frame object
with IDs, scores, ranks, and slice scores
</p>
</li>
</ul>
<h3>Slots</h3>


<dl>
<dt><code>txpScores</code></dt>
<dd>
<p><code style="white-space: pre;">⁠vector(&lt;numeric&gt;)⁠</code> of model scores</p>
</dd>
<dt><code>txpSliceScores</code></dt>
<dd>
<p><code style="white-space: pre;">⁠matrix(&lt;numeric&gt;)⁠</code>, sample by slice <code>matrix</code> with
individual slice scores</p>
</dd>
<dt><code>txpRanks</code></dt>
<dd>
<p><code style="white-space: pre;">⁠vector(&lt;numeric&gt;)⁠</code> with rank of scores</p>
</dd>
<dt><code>txpMissing</code></dt>
<dd>
<p><code style="white-space: pre;">⁠vector(&lt;numeric&gt;)⁠</code> with data missingness</p>
</dd>
<dt><code>txpModel</code></dt>
<dd>
<p>TxpModel object</p>
</dd>
<dt><code>txpIDs</code></dt>
<dd>
<p><code style="white-space: pre;">⁠vector(&lt;character&gt;)⁠</code> of observation IDs</p>
</dd>
<dt><code>txpResultParam</code></dt>
<dd>
<p>TxpResultParam object</p>
</dd>
</dl>
<h3>See Also</h3>

<p>txpCalculateScores, plot, TxpResultList
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Load example dataset &amp; model; see ?TxpModel for building model objects
data(txp_example_input, package = "toxpiR")
data(txp_example_model, package = "toxpiR")

## Calculate scores for single model; returns TxpResult object
res &lt;- txpCalculateScores(model = txp_example_model, 
                          input = txp_example_input, 
                          id.var = "name")

## Accessors
txpScores(res)

txpSliceScores(res) ## adjusted for weight, by default
apply(txpSliceScores(res), 2, max, na.rm = TRUE)

txpSliceScores(res, adjusted = FALSE) ## each score should have maximum of 1
apply(txpSliceScores(res, adjusted = FALSE), 2, max, na.rm = TRUE)

txpRanks(res)

txpMissing(res)

txpModel(res)
identical(txpModel(res), txp_example_model)

txpIDs(res)
names(res) ## identical to txpIDs(res)
identical(txpIDs(res), names(res))

# Can access TxpModel slots directly
txpWeights(res)
txpWeights(res, adjusted = TRUE)
txpSlices(res)
# When retrieving transform functions, must specify level because both
# models and slices have transform functions
txpTransFuncs(res, level = "model")

# Can access TxpSliceList slots directly
txpValueNames(res)
txpValueNames(res, simplify = TRUE)
txpTransFuncs(res, level = "slices")
txpTransFuncs(res, level = "slices", simplify = TRUE)

## Subsetting
res[1]
res[c("chem01", "chem09")]
res[grepl("4|6", txpIDs(res))]
## Not run: 
res[c(TRUE, FALSE)] ## gets recycled with warning

## End(Not run)

## length -- returns number of observations
length(res)
length(res[1:5])

## sort
names(res)
names(sort(res))

txpScores(res)
txpScores(sort(res))
txpScores(sort(res, decreasing = FALSE))

## as.data.frame
as.data.frame(res)
as.data.frame(res, id.name = "nm", score.name = "scr", rank.name = "rnk")
</code></pre>


</div>