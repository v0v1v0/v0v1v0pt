<div class="container">

<table style="width: 100%;"><tr>
<td>g_waterfall</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Horizontal waterfall plot</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>This basic waterfall plot visualizes a quantity <code>height</code> ordered by value with some markup.
</p>


<h3>Usage</h3>

<pre><code class="language-R">g_waterfall(
  height,
  id,
  col_var = NULL,
  col = getOption("ggplot2.discrete.colour"),
  xlab = NULL,
  ylab = NULL,
  col_legend_title = NULL,
  title = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>(<code>numeric</code>)<br> vector containing values to be plotted as the waterfall bars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>(<code>character</code>)<br> vector containing identifiers to use as the x-axis label for the waterfall bars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_var</code></td>
<td>
<p>(<code>factor</code>, <code>character</code>, or <code>NULL</code>)<br> categorical variable for bar coloring. <code>NULL</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>(<code>character</code>)<br> color(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>(<code>string</code>)<br> x label. Default is <code>"ID"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>(<code>string</code>)<br> y label. Default is <code>"Value"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_legend_title</code></td>
<td>
<p>(<code>string</code>)<br> text to be displayed as legend title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>(<code>string</code>)<br> text to be displayed as plot title.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>ggplot</code> waterfall plot.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)
library(nestcolor)

g_waterfall(height = c(3, 5, -1), id = letters[1:3])

g_waterfall(
  height = c(3, 5, -1),
  id = letters[1:3],
  col_var = letters[1:3]
)

adsl_f &lt;- tern_ex_adsl %&gt;%
  select(USUBJID, STUDYID, ARM, ARMCD, SEX)

adrs_f &lt;- tern_ex_adrs %&gt;%
  filter(PARAMCD == "OVRINV") %&gt;%
  mutate(pchg = rnorm(n(), 10, 50))

adrs_f &lt;- head(adrs_f, 30)
adrs_f &lt;- adrs_f[!duplicated(adrs_f$USUBJID), ]
head(adrs_f)

g_waterfall(
  height = adrs_f$pchg,
  id = adrs_f$USUBJID,
  col_var = adrs_f$AVALC
)

g_waterfall(
  height = adrs_f$pchg,
  id = paste("asdfdsfdsfsd", adrs_f$USUBJID),
  col_var = adrs_f$SEX
)

g_waterfall(
  height = adrs_f$pchg,
  id = paste("asdfdsfdsfsd", adrs_f$USUBJID),
  xlab = "ID",
  ylab = "Percentage Change",
  title = "Waterfall plot"
)

</code></pre>


</div>