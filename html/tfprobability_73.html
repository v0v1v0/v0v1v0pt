<div class="container">

<table style="width: 100%;"><tr>
<td>sts_decompose_forecast_by_component</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Decompose a forecast distribution into contributions from each component.</h2>

<h3>Description</h3>

<p>Decompose a forecast distribution into contributions from each component.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sts_decompose_forecast_by_component(model, forecast_dist, parameter_samples)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>An instance of <code>sts_sum</code> representing a structural time series model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forecast_dist</code></td>
<td>
<p>A <code>Distribution</code> instance returned by <code>sts_forecast()</code>.
(specifically, must be a <code>tfd.MixtureSameFamily</code> over a
<code>tfd_linear_gaussian_state_space_model</code> parameterized by posterior samples).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter_samples</code></td>
<td>
<p><code>list</code> of <code>tensors</code> representing posterior samples
of model parameters, with shapes
<code style="white-space: pre;">⁠list(tf$concat(list(list(num_posterior_draws), param&lt;1&gt;$prior$batch_shape, param&lt;1&gt;$prior$event_shape), list(list(num_posterior_draws), param&lt;2&gt;$prior$batch_shape, param&lt;2&gt;$prior$event_shape), ... ) )⁠</code>
for all model parameters.
This may optionally also be a named list mapping parameter names to <code>tensor</code> values.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>component_dists A named list mapping
component StructuralTimeSeries instances (elements of <code>model$components</code>)
to <code>Distribution</code> instances representing the marginal forecast for each component.
Each distribution has batch shape matching <code>forecast_dist</code> (specifically,
the event shape is <code style="white-space: pre;">⁠[num_steps_forecast]⁠</code>).
</p>


<h3>See Also</h3>

<p>Other sts-functions: 
<code>sts_build_factored_surrogate_posterior()</code>,
<code>sts_build_factored_variational_loss()</code>,
<code>sts_decompose_by_component()</code>,
<code>sts_fit_with_hmc()</code>,
<code>sts_forecast()</code>,
<code>sts_one_step_predictive()</code>,
<code>sts_sample_uniform_initial_state()</code>
</p>


</div>