<div class="container">

<table style="width: 100%;"><tr>
<td>sface</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Subtype Free Average Causal Effect</h2>

<h3>Description</h3>

<p>A function to estimate the Subtype Free Average Causal Effect.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sface(
  stand_formula,
  iptw_formula,
  exposure,
  outcome,
  df,
  subtype = c(1, 2),
  scale = c("diff", "RR"),
  method = c("stand", "IPTW", "DR"),
  lambda1 = 0,
  lambda2 = 0,
  weight = 1,
  MultPer = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>stand_formula</code></td>
<td>
<p>A formula for standartization and DR, y ~ A + X, the outcome as a function of the exposure and covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iptw_formula</code></td>
<td>
<p>A formula for IPTW and DR, A ~ X, the exposure as a function of the covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure</code></td>
<td>
<p>The treatment/exposure vector pf length n. Must be encoded 1 for treated and 0 for untreated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p>The categorical outcome vector of length n.  Must be encoded 0 for disease-free, 1 for the first subtype and 2 for the second subtype.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>a data frame with columns for the outcome, expousre and covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtype</code></td>
<td>
<p>Should the SF-ACE be estimated for subtype 1 or subtype 2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Should the SF-ACE be estimated on the difference or risk ratio scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Which method to use when adjusting for covariates, possibilities include standardization ("stand"), Inverse Probability Treatment Weighting ("IPTW"), and doubly robust estimation ("DR")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda1</code></td>
<td>
<p>sensitivity parameter for subtype 1. Can range between 0 (S-Monotonicity for subtype 1) and 1 (D-Monotonicity for subtype 1), Default: 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda2</code></td>
<td>
<p>sensitivity parameter for subtype 2. Can range between 0 (S-Monotonicity for subtype 2) and 1 (D-Monotonicity for subtype 2), Default: 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>A numerical vector of length n, holding weights to adjust for missing subtypes, Default: 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MultPer</code></td>
<td>
<p>A numeric value indicating per how many people the effect should be calculated on the difference scale, Default: 1</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>DETALIS
</p>


<h3>Value</h3>

<p>a list of class "sface". In the cell "sface", there is a list holding the estimated SF_ACEs in the chosen methods and scales. In the cell "additional info", there is with additional info regarding the params used.
</p>


<h3>See Also</h3>

<p><code>multinom</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">A &lt;- rbinom(n = 1000, size = 1, prob = 0.5)
X1 &lt;- rbinom(n = 1000, size = 1, prob = 0.5)
X2 &lt;- rnorm(n = 1000, mean = 0, sd = 1)
y &lt;- sample(c(0,1,2), 1000, replace=TRUE, prob=c(0.8, 0.1, 0.1) )
weight &lt;- runif(n = 1000, 0,1)
df &lt;- data.frame(y, A, X1, X2, weight)

sface(stand_formula = y ~ A + X1 + X2,
iptw_formula = A ~ X1 + X2,
exposure = "A",
outcome = "y",
df = df,
scale = c("diff","RR"),
method = c("stand", "IPTW"),
weight = "weight")
</code></pre>


</div>