<div class="container">

<table style="width: 100%;"><tr>
<td>ts_grid</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tuning Time Series Forecasting Models Parameters with Grid Search</h2>

<h3>Description</h3>

<p>Tuning time series models with grid search approach using backtesting method.
If set to "auto" (default), will use all available cores in the system minus 1
</p>


<h3>Usage</h3>

<pre><code class="language-R">ts_grid(ts.obj, model, optim = "MAPE", periods, window_length = NULL,
  window_space, window_test, hyper_params, parallel = TRUE,
  n.cores = "auto")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ts.obj</code></td>
<td>
<p>A univariate time series object of a class "ts"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A string, defines the model c("HoltWinters"), currently support only Holt-Winters model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optim</code></td>
<td>
<p>A string, set the optimization method - c("MAPE", "RMSE")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>periods</code></td>
<td>
<p>A string, set the number backtesting periods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window_length</code></td>
<td>
<p>An integer, defines the length of the backtesting training window.
If set to NULL (default) will use an expending window starting the from the first observation,
otherwise will use a sliding window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window_space</code></td>
<td>
<p>An integer, set the space length between each of the backtesting training partition</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window_test</code></td>
<td>
<p>An integer, set the length of the backtesting testing partition</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hyper_params</code></td>
<td>
<p>A list, defines the tuning parameters and their range</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Logical, if TRUE use multiple cores in parallel</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.cores</code></td>
<td>
<p>Set the number of cores to use if the parallel argument is set to TRUE. 
If set to "auto" (default), will use n-1 of the available cores</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
 data(USgas)
 
 # Starting with a shallow search (sequence between 0 and 1 with jumps of 0.1)
 # To speed up the process, will set the parallel option to TRUE 
 # to run the search in parallel using 8 cores
 
 hw_grid_shallow &lt;- ts_grid(ts.obj = USgas,
                            periods = 6,
                            model = "HoltWinters",
                            optim = "MAPE",
                            window_space = 6,
                            window_test = 12,
                            hyper_params = list(alpha = seq(0.01, 1,0.1),
                                                beta =  seq(0.01, 1,0.1),
                                                gamma = seq(0.01, 1,0.1)),
                            parallel = TRUE,
                            n.cores = 8)
 
 
 # Use the parameter range of the top 20 models 
 # to set a narrow but more agressive search
 
 a_min &lt;- min(hw_grid_shallow$grid_df$alpha[1:20])
 a_max &lt;- max(hw_grid_shallow$grid_df$alpha[1:20])
 
 b_min &lt;- min(hw_grid_shallow$grid_df$beta[1:20])
 b_max &lt;- max(hw_grid_shallow$grid_df$beta[1:20])
 
 g_min &lt;- min(hw_grid_shallow$grid_df$gamma[1:20])
 g_max &lt;- max(hw_grid_shallow$grid_df$gamma[1:20])
 
 hw_grid_second &lt;- ts_grid(ts.obj = USgas,
                           periods = 6,
                           model = "HoltWinters",
                           optim = "MAPE",
                           window_space = 6,
                           window_test = 12,
                           hyper_params = list(alpha = seq(a_min, a_max,0.05),
                                               beta =  seq(b_min, b_max,0.05),
                                               gamma = seq(g_min, g_max,0.05)),
                           parallel = TRUE,
                           n.cores = 8)
 
 md &lt;- HoltWinters(USgas, 
                   alpha = hw_grid_second$alpha,
                   beta = hw_grid_second$beta,
                   gamma = hw_grid_second$gamma)
 
 library(forecast)
 
 fc &lt;- forecast(md, h = 60)
 
 plot_forecast(fc)


## End(Not run)  
</code></pre>


</div>