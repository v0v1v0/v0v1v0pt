<div class="container">

<table style="width: 100%;"><tr>
<td>compare.acf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compare ACF of Theoretical, Estimator and Empirical Component</h2>

<h3>Description</h3>

<p>Compute the AutoCorrelation functions of the following elements: 
the theoretical ARMA model of each component, the estimator for each component, 
the filtered or estimated components.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compare.acf(x, mod, lag.max = 12, ...)
## S3 method for class 'tsdecAcf'
plot(x, component = c("trend", "transitory", "seasonal"), ci = 0.95, 
  ci.type = c("ma", "white"), ci.class = c("estimator", "theoretical", "empirical"), 
  plot = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>for <code>compare.acf</code>, an object of class <code>ARIMAdec</code>;
for <code>plot.tsdecAcf</code>, an object of class <code>tsdecAcf</code> returned by <code>compare.acf</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>the object of class <code>Arima</code> decomposed in <code>x</code>. See <code>arima</code>.</p>
</td>
</tr>
</table>
<table>
<tr style="vertical-align: top;">
<td><code>lag.max</code></td>
<td>
<p>maximum lag at which to calculate the autocorrelations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>component</code></td>
<td>
<p>a character, the label of the component for which the ACF is to be obtained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>coverage probability for confidence interval. If this is zero or negative, 
confidence intervals are not computed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.type</code></td>
<td>
<p>a character, the type of confidence interval. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.class</code></td>
<td>
<p>a character, the element that is taken as reference to computed the 
confidence intervals. Ignored if <code>ci.class='white'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical, if <code>TRUE</code> the ACF is plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to be passed to <code>acf</code> 
and <code>plot</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The ACF is obtained upon the stationary transformation of the models 
for the components and the estimators; i.e.,
non-stationary roots (if any) are removed from the AR polynomials.
The estimated components are also transformed according to the 
polynomials <code>x$ar$polys.nonstationary</code> that render the signals stationary.
</p>
<p>Argument <code>ci.type</code> behaves similarly to the same argument in <code>plot.acf</code>.
If <code>ci.type = "white"</code>, the confidence bands are fixed to 
<code class="reqn">t_{\alpha/2}/\sqrt(n)</code>, where <code class="reqn">n</code> is the number of observations 
in the fitted model <code>model</code>.
If <code>ci.type = "ma"</code>, confidence bands are obtained upon Bartlett's approximations 
for the standard deviations of the autocorrelations.
</p>


<h3>Value</h3>

<p><code>compare.acf</code> returns the ACF of the components, respectively 
for their theoretical ARMA model, estimator and estimates.
</p>
<p><code>plot.tsdecAcf</code> displays a plot and returns a <code>invisible</code>
copy of a matrix containing the confidence intervals.
</p>


<h3>See Also</h3>

<p><code>ARIMAdec</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Airlines model and monthly data
y &lt;- log(AirPassengers)
fit &lt;- arima(y, order=c(0,1,1), seasonal=list(order=c(0,1,1)))
dec &lt;- ARIMAdec(y, fit, extend=72)
cacf &lt;- compare.acf(x = dec, mod=fit, lag.max=24)
plot(cacf, component="seasonal")
# unexpected discrepancy between the ACF of the estimator and the 
# ACF of the empirical signal
plot(cacf, component="trend")

# Nile time series
y &lt;- Nile
fit &lt;- arima(y, order=c(0,1,1))
dec &lt;- ARIMAdec(y, fit, extend=16)
cacf &lt;- compare.acf(x = dec, mod=fit, lag.max=24)
plot(cacf, component="trend")
</code></pre>


</div>