<div class="container">

<table style="width: 100%;"><tr>
<td>facet_abundanceh</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Facet for relative abundance data</h2>

<h3>Description</h3>

<p>Provides a number of modifications to the plot that are necessary for relative abundance plots
of a number of species. See scale_x_abundance, facet_grid,
facet_grid, label_species, label_geochem,
and rotated_facet_labels rotated_axis_labels
for examples of how to customize the default behaviour.
</p>


<h3>Usage</h3>

<pre><code class="language-R">facet_abundanceh(
  taxon,
  grouping = NULL,
  rotate_facet_labels = 45,
  labeller = label_species,
  scales = "free_x",
  space = "free_x",
  dont_italicize = c("\\(.*?\\)", "spp?\\.", "-complex", "[Oo]ther"),
  ...
)

facet_abundance(
  taxon,
  grouping = NULL,
  rotate_facet_labels = 0,
  labeller = label_species,
  scales = "free_y",
  space = "free_y",
  dont_italicize = c("\\(.*?\\)", "spp?\\.", "-complex", "[Oo]ther"),
  ...
)

facet_geochem_wraph(
  param,
  grouping = NULL,
  rotate_axis_labels = 90,
  scales = "free_x",
  labeller = label_geochem,
  renamers = c(`^d([0-9]+)([HCNOS])$` = "paste(delta ^ \\1, \\2)", `^210Pb$` =
    "paste({}^210, Pb)", `^Pb210$` = "paste({}^210, Pb)"),
  units = character(0),
  default_units = NA_character_,
  ...
)

facet_geochem_wrap(
  param,
  grouping = NULL,
  scales = "free_y",
  labeller = label_geochem,
  renamers = c(`^d([0-9]+)([HCNOS])$` = "paste(delta ^ \\1, \\2)", `^210Pb$` =
    "paste({}^210, Pb)", `^Pb210$` = "paste({}^210, Pb)"),
  units = character(0),
  default_units = NA_character_,
  ...
)

facet_geochem_grid(
  param,
  grouping = NULL,
  rotate_axis_labels = 0,
  scales = "free_y",
  space = "fixed",
  labeller = label_geochem,
  renamers = c(`^d([0-9]+)([HCNOS])$` = "paste(delta ^ \\1, \\2)", `^210Pb$` =
    "paste({}^210, Pb)", `^Pb210$` = "paste({}^210, Pb)"),
  units = character(0),
  default_units = NA_character_,
  ...
)

facet_geochem_gridh(
  param,
  grouping = NULL,
  rotate_axis_labels = 90,
  scales = "free_x",
  space = "fixed",
  labeller = label_geochem,
  renamers = c(`^d([0-9]+)([HCNOS])$` = "paste(delta ^ \\1, \\2)", `^210Pb$` =
    "paste({}^210, Pb)", `^Pb210$` = "paste({}^210, Pb)"),
  units = character(0),
  default_units = NA_character_,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>taxon, param</code></td>
<td>
<p>A call to vars, defining the column that identifies the taxon (parameter).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grouping</code></td>
<td>
<p>A call to vars, identifying additional grouping columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotate_facet_labels, rotate_axis_labels</code></td>
<td>
<p>Facet (axis) label rotation (degrees)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labeller</code></td>
<td>
<p>Labeller to process facet names. Use label_species to italicize
species names, label_geochem to perform common formatting and units,
or label_value to suppress.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space, scales</code></td>
<td>
<p>Modify default scale freedom behaviour</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dont_italicize</code></td>
<td>
<p>Regular expressions that should not be italicized</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Passed to facet_grid (abundance) or facet_wrap (geochem).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>renamers</code></td>
<td>
<p>Search and replace operations to perform in the form
search = replace. Replace text can (should) contain backreferences,
and will be parsed as an expression (see plotmath). Use
NULL to suppress renaming.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>A named list of values = unit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default_units</code></td>
<td>
<p>The default units to apply</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A subclass of <code>ggplot2::facet_grid()</code> or <code>ggplot2::facet_wrap()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(ggplot2)

ggplot(keji_lakes_plottable, aes(x = rel_abund, y = depth)) +
  geom_col_segsh() +
  scale_y_reverse() +
  facet_abundanceh(vars(taxon), grouping = vars(location)) +
  labs(y = "Depth (cm)")

ggplot(keji_lakes_plottable, aes(y = rel_abund, x = depth)) +
  geom_col_segs() +
  scale_x_reverse() +
  facet_abundance(vars(taxon), grouping = vars(location)) +
  labs(x = "Depth (cm)")

ggplot(alta_lake_geochem, aes(x = value, y = depth)) +
  geom_lineh() +
  geom_point() +
  scale_y_reverse() +
  facet_geochem_wrap(vars(param), units = c(C = "%", Cu = "ppm", Ti = "ppm"), nrow = 1) +
  labs(x = NULL, y = "Depth (cm)")

ggplot(alta_lake_geochem, aes(x = value, y = depth)) +
  geom_lineh() +
  geom_point() +
  scale_y_reverse() +
  facet_geochem_gridh(vars(param), units = c(C = "%", Cu = "ppm", Ti = "ppm")) +
  labs(x = NULL, y = "Depth (cm)")

ggplot(alta_lake_geochem, aes(y = value, x = depth)) +
  geom_line() +
  geom_point() +
  scale_x_reverse() +
  facet_geochem_grid(vars(param), units = c(C = "%", Cu = "ppm", Ti = "ppm")) +
  labs(y = NULL, x = "Depth (cm)")

</code></pre>


</div>