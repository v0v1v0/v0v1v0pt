<div class="container">

<table style="width: 100%;"><tr>
<td>histbary14C</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Barycenter of Histograms by Cuturi &amp; Doucet (2014)</h2>

<h3>Description</h3>

<p>Given multiple histograms represented as <code>"histogram"</code> S3 objects, compute
Wasserstein barycenter. We need one requirement that all histograms in an
input list <code>hists</code> must have <b>same breaks</b>. See the example on how to
construct a histogram on predefined breaks/bins.
</p>


<h3>Usage</h3>

<pre><code class="language-R">histbary14C(hists, p = 2, weights = NULL, lambda = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>hists</code></td>
<td>
<p>a length-<code class="reqn">N</code> list of histograms (<code>"histogram"</code> object) of same breaks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>an exponent for the order of the distance (default: 2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>a weight of each image; if <code>NULL</code> (default), uniform weight is set. Otherwise,
it should be a length-<code class="reqn">N</code> vector of nonnegative weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>a regularization parameter; if <code>NULL</code> (default), a paper's suggestion
would be taken, or it should be a nonnegative real number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>extra parameters including </p>

<dl>
<dt>abstol</dt>
<dd>
<p>stopping criterion for iterations (default: 1e-8).</p>
</dd>
<dt>init.vec</dt>
<dd>
<p>an initial weight vector (default: uniform weight).</p>
</dd>
<dt>maxiter</dt>
<dd>
<p>maximum number of iterations (default: 496).</p>
</dd>
<dt>nthread</dt>
<dd>
<p>number of threads for OpenMP run (default: 1).</p>
</dd>
<dt>print.progress</dt>
<dd>
<p>a logical to show current iteration (default: <code>TRUE</code>).</p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>"histogram"</code> object of barycenter.
</p>


<h3>References</h3>

<p>Cuturi M, Doucet A (2014).
“Fast computation of wasserstein barycenters.”
In Xing EP, Jebara T (eds.), <em>Proceedings of the 31st international conference on international conference on machine learning - volume 32</em>, volume 32 of <em>Proceedings of machine learning research</em>, 685–693.
</p>


<h3>See Also</h3>

<p><code>bary14C</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
#----------------------------------------------------------------------
#                      Binned from Two Gaussians
#
# EXAMPLE : Very Small Example for CRAN; just showing how to use it!
#----------------------------------------------------------------------
# GENERATE FROM TWO GAUSSIANS WITH DIFFERENT MEANS
set.seed(100)
x  = stats::rnorm(1000, mean=-4, sd=0.5)
y  = stats::rnorm(1000, mean=+4, sd=0.5)
bk = seq(from=-10, to=10, length.out=20)

# HISTOGRAMS WITH COMMON BREAKS
histxy = list()
histxy[[1]] = hist(x, breaks=bk, plot=FALSE)
histxy[[2]] = hist(y, breaks=bk, plot=FALSE)

# COMPUTE
hh = histbary14C(histxy, maxiter=5)

# VISUALIZE
opar &lt;- par(no.readonly=TRUE)
par(mfrow=c(1,2))
barplot(histxy[[1]]$density, col=rgb(0,0,1,1/4), 
        ylim=c(0, 0.75), main="Two Histograms")
barplot(histxy[[2]]$density, col=rgb(1,0,0,1/4), 
        ylim=c(0, 0.75), add=TRUE)
barplot(hh$density, main="Barycenter",
        ylim=c(0, 0.75))
par(opar)


</code></pre>


</div>