<div class="container">

<table style="width: 100%;"><tr>
<td>bestMatch</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>bestMatch</h2>

<h3>Description</h3>

<p>Determine for each grid cell which reference it is most similar to. A reference consists of a SpatVector with reference locations, or a data.frame in which each column matches a layer name in the SpatRaster.
</p>
<p>Similarity is computed with the sum of squared differences between the cell and the reference. It may be important to first scale the input. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'SpatRaster,SpatVector'
bestMatch(x, y, labels="", filename="", ...)

## S4 method for signature 'SpatRaster,data.frame'
bestMatch(x, y, labels="", filename="", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>SpatRaster</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>SpatVector or data.frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>character. labels that correspond to each class (row in <code>y</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>character. Output filename</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments for writing files as in <code>writeRaster</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>SpatRaster
</p>


<h3>Examples</h3>

<pre><code class="language-R">f &lt;- system.file("ex/logo.tif", package = "terra")
r &lt;- rast(f)

# locations of interest 
pts &lt;- vect(cbind(c(25.25, 34.324, 43.003), c(54.577, 46.489, 30.905)))
pts$code &lt;- LETTERS[1:3]

plot(r)
points(pts, pch=20, cex=2, col="red")
text(pts, "code", pos=4, halo=TRUE)

x &lt;- scale(r)

s1 &lt;- bestMatch(x, pts, labels=pts$code)
plot(s1)

# same result
e &lt;- extract(x, pts, ID=FALSE)
s2 &lt;- bestMatch(x, e, labels=c("Ap", "Nt", "Ms"))
</code></pre>


</div>