<div class="container">

<table style="width: 100%;"><tr>
<td>POSIXctp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class <code>"POSIXctp"</code>
</h2>

<h3>Description</h3>

<p>Class that defines 'periods of time' objects such as 'one month', 'two months', 
'three hours', 'four minutes', etc.
</p>


<h3>Usage</h3>

<pre><code class="language-R">POSIXctp(duration, unit)
as.POSIXctp(from, ...)

  ## S3 method for class 'POSIXctp'
x[i, ...]
  ## S3 replacement method for class 'POSIXctp'
x[i] &lt;- value
  ## S3 method for class 'POSIXctp'
c(...)
  ## S3 method for class 'POSIXctp'
split(x, f, drop=FALSE, ...)
  ## S3 method for class 'POSIXctp'
rep(x, ...)
  ## S3 method for class 'POSIXctp'
unique(x, incomparables=FALSE, ...)

  ## S4 method for signature 'POSIXctp'
unit(x, ...)
  ## S4 replacement method for signature 'POSIXctp'
unit(object) &lt;- value
  ## S4 method for signature 'POSIXctp'
duration(x, ...)

  ## S4 method for signature 'POSIXctp'
length(x)

  ## S3 method for class 'POSIXctp'
print(x, ...)
  ## S3 method for class 'POSIXctp'
format(x, ...)
  ## S3 method for class 'POSIXctp'
summary(object, ...)
  ## S3 method for class 'POSIXctp'
head(x, ...)
  ## S3 method for class 'POSIXctp'
tail(x, ...)
  ## S4 method for signature 'POSIXctp'
show(object)

  ## S4 method for signature 'POSIXctp,POSIXctp'
match(x, table, nomatch = NA_integer_, incomparables=NULL)
  ## S4 method for signature 'POSIXctp,ANY'
match(x, table, nomatch = NA_integer_, incomparables=NULL)
  ## S4 method for signature 'POSIXctp,ANY'
x %in% table

  ## S3 method for class 'POSIXctp'
Ops(e1, e2)

  ## S4 method for signature 'numeric,POSIXctp'
e1 * e2
  ## S4 method for signature 'POSIXctp,numeric'
e1 * e2
  ## S4 method for signature 'POSIXctp,POSIXctp'
e1 + e2
  ## S4 method for signature 'POSIXctp,POSIXctp'
e1 - e2

  ## S4 method for signature 'POSIXct,POSIXctp'
e1 + e2
  ## S4 method for signature 'POSIXctp,POSIXct'
e1 + e2
  ## S4 method for signature 'POSIXct,POSIXctp'
e1 - e2

  ## S4 method for signature 'POSIXctp'
as.numeric(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>duration</code></td>
<td>
<p>A vector <code>integer</code> indicating the duration of period (2 for 
2 monthes, 1 for 1 year, etc). If a vector of <code>numeric</code> is given, it 
will coerced to an <code>integer</code>. Can be missing, see details below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>A vector of factors defined by <code>POSIXt.units</code>() or
a vector of <code>character</code> corresponding to the previous factors.
See details below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>Object to convert to a period of time (actually works only for
<code>NA</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>POSIXctp</code> object on which the method has to be applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>index (<code>logical</code> or <code>numeric</code>) of the POSIXctp objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>New <code>POSIXctp</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p><code>factor</code> used to group the <code>POSIXctp</code> elements.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>Argument specific to the split method. See <code>link[base]{split}</code>
documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p><code>POSIXctp</code> object on which the method has to be applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table</code></td>
<td>
<p>The values (<code>POSIXctp</code>) to be matched against. See 
<code>match</code> for further details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nomatch</code></td>
<td>
<p>The value to be returned i nthe case when no match is found.
See  <code>match</code> for further details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>incomparables</code></td>
<td>
<p>A vector of values that cannot be matched.
See  <code>match</code> for further details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e1</code></td>
<td>
<p><code>POSIXctp</code>, <code>numeric</code> or <code>POSIXct</code>. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e2</code></td>
<td>
<p><code>POSIXctp</code>, <code>numeric</code> or <code>POSIXct</code>. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>More arguments.</p>
</td>
</tr>
</table>
<h3>Objects from the Class</h3>

<p>Objects of this class are used to represent periods of times such
as ‘one hour’, ‘two seconds’, ‘three years’, etc.
Partial periods of time are not allowed (‘1.5 hours’ will be coerced
to an integer value using <code>as.integer</code>).
</p>
<p>POSIXctp (‘p’ stands for‘period’) has only one unit.
So ‘one hour and 2 seconds’ is not defined.
</p>
<p>One object is actually a  vector of periods of time and so can have a
length of one for a single period of time or a length of ‘n’
for ‘n’ periods of time.
</p>


<h3>Slots</h3>


<dl>
<dt>
<code>duration</code>:</dt>
<dd>
<p>integer corresponding to the length of the period.</p>
</dd>
<dt>
<code>unit</code>:</dt>
<dd>
<p>factor indicating the time unit
of the period. See <code>POSIXt.units</code> to know available
units.</p>
</dd>
</dl>
<h3>Accessing to POSIXctp properties</h3>

<p>A POSIXctp has several properties. Because a POSIXctp is a vector of 
periodes of time, the class has a <code>length</code> function. Other
properties are time properties : <code>unit</code>
and <code>duration</code> allow to access to the corresponding properties.
The <code>duration</code> of a period of time is an integer corresponding of the
time that the period last, in its time unit. The unit of a period of time 
is an ordered factor as the one defined by <code>POSIXt.units</code>.
</p>
<p>A <code>POSIXctp</code> can be converted to another time unit base (for instance
2 hours make 120 minutes). For that purpose the function <code>unit&lt;-</code> is 
defined. The conversion will be effective only if the new unit can be exactly
defined as a multiple of the old one
(‘hour’ to  ‘second’, ok ; ‘year’ to ‘month’, ok
; ‘month’ to ‘minute’ , NOT ok ; etc.
When conversion can not be done, the result has its unit unchanged.
</p>


<h3>Manipulating POSIXctp</h3>

<p>Manipulating <code>POSIXctp</code> means acting on <code>POSIXctp</code>s like on classical
vectors. Methods available for this task allow to extract or replace parts of
a <code>POSIXctp</code> (with the usual '[' operator), and to
concatenate (<code>c</code>) or split <code>POSIXctp</code>
(<code>split</code>). A <code>unique</code> and a <code>rep</code>
method are defined to uniquify or repeat elements of a <code>POSIXctp</code>.
</p>
<p><code>match</code> and <code>%in%</code> methods have also been
defined to find <code>POSIXctp</code> objects among others.
</p>


<h3>Text representation</h3>

<p>To represent a <code>POSIXctp</code> available functions are <code>print</code>,
<code>summary</code>, <code>head</code>,
<code>tail</code>, <code>show</code> and <code>format</code>.
</p>
<p>The five first functions work the same way that their generic definition.
</p>
<p><code>POSIXctp</code> are formatted by pasting their duration (<code>integer</code>)
with their unit (and with an ‘s’ if relevant).
</p>


<h3>Testing two POSIXctp</h3>

<p>To test two POSIXctp the differents operators of comparison are used. 
If the <code>POSIXctp</code> compared
have a different length, the shorter is recycled over the longer so the 
resulting vector (a logical vector) has length equal to the longer object.
</p>
<p>Comparisons are made element by element. For a single comparison, first 
elements are converted into the same unit. If this is not possible,
FALSE is returned if the test is ‘==’, TRUE if the test is ‘!=’,
NA otherwise (elements can not be compared) ; else durations of elements are
compared and the result of this comparison is returned.
</p>


<h3>Mathematical operations on POSIXctp</h3>

<p><code>POSIXctp</code> can be added (or substracted) to differents type of objects :
to other <code>POSIXctp</code>, to <code>POSIXct</code>, to <code>POSIXcti</code>  and to
<code>POSIXst</code>.  <code>POSIXctp</code> can also be multiplied by <code>numeric</code>.
</p>
<p>For all operations, if the two arguments
have a different length, the shorter is recycled over the longer so the 
resulting vector (a logical vector) has length equal to the longer object.
</p>
<p>Basic mathematical operation for <code>POSIXctp</code> are (negative periods of
time can be defined !!) :
</p>

<ul>
<li>
<p> integer * POSIXctp
</p>
</li>
<li>
<p> POSIXctp * integer
</p>
</li>
<li>
<p> POSIXctp + POSIXctp
</p>
</li>
<li>
<p> POSIXctp - POSIxctp
</p>
</li>
</ul>
<p>When <code>POSIXctp</code>s do not have the same unit, an attempt is made to convert
one to the unit of  the other, if it successes the operation is done otherwise
NA is returned.
</p>
<p>Mathematical operations with <code>POSIXct</code>, <code>POSIXcti</code> and <code>POSIXst</code>
are actually time lagging. A <code>POSIXct</code> to which a <code>POSIXctp</code> is 
added is lagged by the time periods indicated ; for a  <code>POSIXcti</code>, start
and end are lagged by the time periods. 
For <code>POSIXst</code>, units of the <code>POSIXst</code> must be identical : the object
is then lagged by the time periods (if the result is higher than the maximum
the result is recycled at the begining. For instance :
<code>saturday + 2 days = monday</code>).
</p>

<ul>
<li>
<p> POSIXct + POSIXctp 
</p>
</li>
<li>
<p> POSIXctp + POISXct
</p>
</li>
<li>
<p> POSIXct - POSIXctp
</p>
</li>
<li>
<p> .
</p>
</li>
<li>
<p> POSIXcti + POSIXctp 
</p>
</li>
<li>
<p> POSIXctp + POISXcti
</p>
</li>
<li>
<p> POSIXcti - POSIXctp
</p>
</li>
<li>
<p> .
</p>
</li>
<li>
<p> POSIXst + POSIXctp 
</p>
</li>
<li>
<p> POSIXctp + POISXst
</p>
</li>
<li>
<p> POSIXst - POSIXctp
</p>
</li>
</ul>
<h3>Changing class</h3>

<p><code>POSIXctp</code> can be converted to <code>numeric</code> with the <code>as.numeric</code>
method. The duration of the object is returned.
</p>


<h3>See Also</h3>

<p><code>POSIXct</code>, <code>POSIXcti</code>, 
<code>POSIXst</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">showClass("POSIXctp")
</code></pre>


</div>