<div class="container">

<table style="width: 100%;"><tr>
<td>choices_selected</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Choices selected</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>Construct a single list containing available choices, the default selected value, and
additional settings such as to order the choices with the selected elements appearing first
or whether to block the user from making selections.
</p>
<p>Can be used in UI input elements such as <code>teal.widgets::optionalSelectInput()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">choices_selected(
  choices,
  selected = if (inherits(choices, "delayed_data")) NULL else choices[1],
  keep_order = FALSE,
  fixed = FALSE
)

is.choices_selected(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>choices</code></td>
<td>
<p>(<code>character</code>) vector of possible choices or <code>delayed_data</code> object.
</p>
<p>See <code>variable_choices()</code> and <code>value_choices()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selected</code></td>
<td>
<p>(<code>character</code>) vector of preselected options, (<code>all_choices</code>) object
or (<code>delayed_data</code>) object.
</p>
<p>If <code>delayed_data</code> object then <code>choices</code> must also be <code>delayed_data</code> object.
If not supplied it will default to the first element of <code>choices</code> if
<code>choices</code> is a vector, or <code>NULL</code> if <code>choices</code> is a <code>delayed_data</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_order</code></td>
<td>
<p>(<code>logical</code>) In case of <code>FALSE</code> the selected variables will
be on top of the drop-down field.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed</code></td>
<td>
<p>(optional <code>logical</code>) Whether to block user to select choices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(<code>choices_selected</code>) object to check.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Please note that the order of selected will always follow the order of choices. The <code>keep_order</code>
argument is set to false which will run the following code inside:
</p>
<div class="sourceCode"><pre>choices &lt;- c(selected, setdiff(choices, selected))
</pre></div>
<p>In case you want to keep your specific order of choices, set <code>keep_order</code> to <code>TRUE</code>.
</p>


<h3>Value</h3>

<p><code>choices_selected</code> returns list of <code>choices_selected</code>, encapsulating the specified
<code>choices</code>, <code>selected</code>, <code>keep_order</code> and <code>fixed</code>.
</p>
<p><code>is.choices_selected</code> returns <code>TRUE</code> if <code>x</code> inherits from a <code>choices_selected</code> object, <code>FALSE</code> otherwise.
</p>


<h3>Functions</h3>


<ul><li> <p><code>is.choices_selected()</code>: Check if an object is a choices_selected class
</p>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R">library(shiny)
library(teal.widgets)

# all_choices example - semantically the same objects
choices_selected(choices = letters, selected = all_choices())
choices_selected(choices = letters, selected = letters)

choices_selected(
  choices = setNames(LETTERS[1:5], paste("Letter", LETTERS[1:5])),
  selected = "C"
)

ADSL &lt;- teal.transform::rADSL
choices_selected(variable_choices(ADSL), "SEX")

# How to select nothing
# use an empty character
choices_selected(
  choices = c("", "A", "B", "C"),
  selected = ""
)

# How to allow the user to select nothing
# use an empty character
choices_selected(
  choices = c("A", "", "B", "C"),
  selected = "A"
)


# How to make Nothing the Xth choice
# just use keep_order
choices_selected(
  choices = c("A", "", "B", "C"),
  selected = "A",
  keep_order = TRUE
)


# How to give labels to selections
# by adding names - choices will be replaced by "name" in UI, not in code
choices_selected(
  choices = c("name for A" = "A", "Name for nothing" = "", "name for b" = "B", "name for C" = "C"),
  selected = "A"
)

# by using choices_labeled
# labels will be shown behind the choice
choices_selected(
  choices = choices_labeled(
    c("A", "", "B", "C"),
    c("name for A", "nothing", "name for B", "name for C")
  ),
  selected = "A"
)

# Passing a `delayed_data` object to `selected`
choices_selected(
  choices = variable_choices("ADSL"),
  selected = variable_choices("ADSL", subset = c("STUDYID"))
)

# functional form (subsetting for factor variables only) of choices_selected
# with delayed data loading
choices_selected(variable_choices("ADSL", subset = function(data) {
  idx &lt;- vapply(data, is.factor, logical(1))
  names(data)[idx]
}))

cs &lt;- choices_selected(
  choices = c("A", "B", "C"),
  selected = "A"
)

ui &lt;- fluidPage(
  optionalSelectInput(
    inputId = "id",
    choices = cs$choices,
    selected = cs$selected
  )
)

server &lt;- function(input, output, session) {}
if (interactive()) {
  shinyApp(ui, server)
}
</code></pre>


</div>