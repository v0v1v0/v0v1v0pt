<div class="container">

<table style="width: 100%;"><tr>
<td>test_anchors</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evaluate anchor sets in defining semantic directions</h2>

<h3>Description</h3>

<p>This function evaluates how well an anchor set
defines a semantic direction. Anchors must be a
two-column data.frame or a list of length == 2.
Currently, the function only implements the "PairDir" metric
developed by Boutyline and Johnston (2023).
</p>


<h3>Usage</h3>

<pre><code class="language-R">test_anchors(anchors, wv, method = c("pairdir"), all = FALSE, summarize = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>anchors</code></td>
<td>
<p>A data frame or list of juxtaposed 'anchor' terms</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wv</code></td>
<td>
<p>Matrix of word embedding vectors (a.k.a embedding model)
with rows as terms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Which metric used to evaluate (currently only pairdir)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all</code></td>
<td>
<p>Logical (default <code>FALSE</code>). Whether to evaluate all possible
pairwise combinations of two sets of anchors. If <code>FALSE</code> only
the input pairs are used in evaluation and anchor sets must be
of equal lengths.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summarize</code></td>
<td>
<p>Logical (default <code>TRUE</code>). Returns a dataframe with AVERAGE
scores for input pairs along with each pairs' contribution.
If <code>summarize = FALSE</code>, returns a list with each
offset matrix, each contribution, and the average score.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>According to Boutyline and Johnston (2023):
</p>
<p>"We find that  PairDir – a measure of parallelism between the offset
vectors (and thus of the internal reliability of the estimated relation)
– consistently outperforms other reliability metrics in
explaining axis accuracy."
</p>
<p>Boutyline and Johnston only consider analyst specified pairs. However,
if <code>all = TRUE</code>, all pairwise combinations of terms between each set
are evaluated. This can allow for unequal sets of anchors, however this
increases computational complexity considerably.
</p>


<h3>Value</h3>

<p>dataframe or list
</p>


<h3>References</h3>

<p>Boutyline, Andrei, and Ethan Johnston. 2023.
“Forging Better Axes: Evaluating and Improving
the Measurement of Semantic Dimensions in Word Embeddings.”
<a href="https://doi.org/10.31235/osf.io/576h3">doi:10.31235/osf.io/576h3</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# load example word embeddings
data(ft_wv_sample)

df_anchors &lt;- data.frame(
  a = c("rest", "rested", "stay", "stand"),
  z = c("coming", "embarked", "fast", "move")
)

test_anchors(df_anchors, ft_wv_sample)

test_anchors(df_anchors, ft_wv_sample, all = TRUE)

</code></pre>


</div>