<div class="container">

<table style="width: 100%;"><tr>
<td>fftfreqconvmx</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Internal: Convert FFT frequency bins to Bark/Mel bins </h2>

<h3>Description</h3>

<p>Generate a matrix of weights to combine FFT bins into Bark/Mel bins.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fft2barkmx(nfft, sr = 8000, nfilts = NULL, width = 1, minfreq = 0, 
    maxfreq = sr/2)
    
fft2melmx(nfft, sr = 8000, nfilts = 40, width = 1, minfreq = 0, 
    maxfreq = sr/2, htkmel = FALSE, constamp = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nfft</code></td>
<td>
<p> Source FFT size. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sr</code></td>
<td>
<p> Sampling rate of the signal. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfilts</code></td>
<td>
<p> Number of desired output frequency bands. If <code>NULL</code> then one
per Bark/Mel between <code>minfreq</code> and <code>maxfreq</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p> Width of each output frequency band in Bark/Mel. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minfreq</code></td>
<td>
<p> Minimum frequency. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxfreq</code></td>
<td>
<p> Maximum frequency. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>htkmel</code></td>
<td>
<p> Use HTK- or Slaney's curve of the Melscale. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constamp</code></td>
<td>
<p> Make integration windows peak at 1 (<code>constamp=TRUE</code>) or
sum to 1 (<code>constamp=FALSE</code>) </p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>wts </code></td>
<td>
<p>The weight matrix with 'nfft' columns and 'nfilts' rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binfreqs </code></td>
<td>
<p>Edge frequencies of the bins.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>While wts has nfft columns, the second half are all zero. 
Hence, Bark spectrum is <code>fft2barkmx(nfft, sr) %*% abs(fft(xincols, nfft))</code>.
</p>


<h3>Author(s)</h3>

<p> Sebastian Krey <a href="mailto:krey@statistik.tu-dortmund.de">krey@statistik.tu-dortmund.de</a> </p>


<h3>References</h3>

<p>Daniel P. W. Ellis:
<a href="https://www.ee.columbia.edu/~dpwe/resources/matlab/rastamat/">https://www.ee.columbia.edu/~dpwe/resources/matlab/rastamat/</a>, Malcolm
Slaney: Auditory Toolbox
<a href="https://engineering.purdue.edu/~malcolm/interval/1998-010/">https://engineering.purdue.edu/~malcolm/interval/1998-010/</a></p>


<h3>See Also</h3>

 <p><code>hz2bark</code>, <code>hz2mel</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">  #Mel matrix in Slaney's mfcc.m:
  #tuneR:::fft2melmx(512, 8000, 40, 1, 133.33, 6855.5, FALSE, FALSE)
</code></pre>


</div>