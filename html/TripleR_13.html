<div class="container">

<table style="width: 100%;"><tr>
<td>parCor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>partial correlation</h2>

<h3>Description</h3>

<p>Performs partial correlations between x and y, controlled for z.
</p>


<h3>Usage</h3>

<pre><code class="language-R">parCor(x,y,z)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>First variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Second variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>Control variable. This variable is coerced into a factor; in the TripleR context z usually is the group id.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Performs partial correlations between x and y, controlled for z. The control variable is coerced into a factor; in the TripleR context z usually is the group id. Do <em>not</em> use this function with a continuous control variable - results will be wrong! Degrees of freedom for the <em>t</em> test are reduced by <em>g</em> - 1 (<em>g</em> is the number of groups).
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>par.cor</code></td>
<td>
<p>partial correlation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>degrees of freedom for the t test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t.value</code></td>
<td>
<p>t value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>p value</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>RR</code>, <code>getEffects</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(multiGroup)
data(multiNarc)

# the function 'head' shows the first few lines of a data structure:
head(multiNarc)

# calculate SRA effects for extraversion ratings
RR.style("p")
RR1 &lt;- RR(ex ~ perceiver.id * target.id | group.id, multiGroup, na.rm=TRUE)

# merge variables to one data set
dat &lt;- merge(RR1$effects, multiNarc, by="id")

# We now have a combined data set with SRA effects and external self ratings:
head(dat)

# function parCor(x, y, z) computes partial correlation between x and y, 
# controlled for group membership z
d1 &lt;- parCor(dat$ex.t, dat$narc, dat$group.id)
d1


# disattenuate for target effect reliability
parCor2 &lt;- d1$par.cor * (1/sqrt(attr(RR1$effects$ex.t, "reliability")))
parCor2
</code></pre>


</div>