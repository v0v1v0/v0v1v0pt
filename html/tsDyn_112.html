<div class="container">

<table style="width: 100%;"><tr>
<td>predict_rolling</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rolling forecasts</h2>

<h3>Description</h3>

<p>Forecasts a VAR or VECM by discarding a part of the sample, and recursively generating a
series of updated forecasts.
</p>


<h3>Usage</h3>

<pre><code class="language-R">predict_rolling(object, ...)

## S3 method for class 'nlVar'
predict_rolling(object, nroll = 10, n.ahead = 1, refit.every, newdata, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A linear object of class ‘<code>nlVar</code>’; generated by
<code>lineVar</code> or <code>VECM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Currently not used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nroll</code></td>
<td>
<p>The number of rolling forecasts</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.ahead</code></td>
<td>
<p>An integer specifying the number of forecast steps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refit.every</code></td>
<td>
<p>Determines every how many periods the model is
re-estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>In case the given model is already estimated on the
sub-sample, the out-of-sample data can be provided with this argument. Note it should contain
observations to predict the first values, that are also contained in the
in-sample.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function allows to check the out-of sample forecasting accuracy by
estimating the model on a sub-sample of the original, then making
<code>nroll</code> forecasts of horizon <code>n.ahead</code>, each time by updating the
sample. In other words, with a given model estimated on 100 observations, the
function will estimate it on say 90 first obs (<code>nroll=10</code>), generate a
say 1 step-ahead (<code>n.ahead=1</code>) from obs 90, then using true value 91 for 
to predict value at 92, etc, till the full sample is used.  
</p>
<p>Unlike with usual <code>predict()</code> methods, specifiying <code>n.ahead=2</code> will
not generate a 1 step-ahead and a 2 step-ahead forecasts, but only
<code>nroll</code> 2 step-ahead forecasts.
</p>
<p>Note that while the forecasts are updated with new values, the model
estimation is (by default) not updated. This can however be done with the
argument <code>fit.every</code>, specifiying at which frequency the model should be
re-estimated. By setting it to 1 for example, each time a new observation is
taken, the model is reestimated. This is similar to the
<code>ugarchroll</code> in package <span class="pkg">rugarch</span>.
</p>


<h3>Value</h3>

<p>A matrix containing the forecasts.
</p>


<h3>Author(s)</h3>

<p>Matthieu Stigler
</p>


<h3>See Also</h3>

<p><code>predict.nlar</code> for the standard predict function.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

data(barry)

## model estimated on full sample:
mod_vec &lt;- VECM(barry, lag=2)

## generate 10 1-step-ahead forecasts:
preds_roll &lt;- predict_rolling(mod_vec, nroll=10)

## plot the results:
plot(window(barry[,"dolcan"],start=1998), type="l", ylab="barry: dolcan")
preds_roll_ts &lt;- ts(preds_roll$pred, start=time(barry)[nrow(barry)-10], freq=12)
lines(preds_roll_ts[,"dolcan"], col=2, lty=2)
legend("bottomright", lty=c(1,2), col=1:2, leg=c("True", "Fitted"))
title("Comparison of true and rolling 1-ahead forecasts\n")


</code></pre>


</div>