<div class="container">

<table style="width: 100%;"><tr>
<td>tab_pct</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add percentages and diffs to a <code>tab</code>
</h2>

<h3>Description</h3>

<p>Add percentages and diffs to a <code>tab</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">tab_pct(
  tabs,
  pct = "row",
  digits = NULL,
  ref = c("tot", "first", "no"),
  comp = NULL,
  color = FALSE,
  just_diff = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tabs</code></td>
<td>
<p>A <code>tibble</code> of class <code>tab</code> made with <code>tab_plain</code> or
<code>tab_many</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pct</code></td>
<td>
<p>The type of percentages to calculate. <code>"row"</code> draw row percentages.
Set to <code>"col"</code> for column percentages. Set to <code>"all"</code> for frequencies
(based on each subtable/group if <code>tab_vars</code> is provided).
Set to <code>"all_tabs"</code> to calculate frequencies based on the whole (set of) table(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>The number of digits to print for percentages. As a single integer,
or an integer vector the same length than <code>col_vars</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref</code></td>
<td>
<p>The reference cell to calculate differences and ratios
(used to print <code>colors</code>) :
</p>

<ul>
<li> <p><code>"auto"</code>: by default, cell difference from the corresponding total
(rows or cols depending on <code>pct = "row"</code> or <code>pct = "col"</code>) is
used for <code>diff</code> ; cell ratio from the first line (or col) is use for <code>OR</code>
(odds ratio/relative risks ratio).
</p>
</li>
<li> <p><code>"tot"</code>: totals are always used.
</p>
</li>
<li> <p><code>"first"</code>: calculate cell difference or ratio from the first cell
of the row or column (useful to color temporal developments).
</p>
</li>
<li> <p><code>n</code>: when <code>ref</code> is an integer, the nth row (or column) is used for comparison.
</p>
</li>
<li> <p><code>"regex"</code>: when <code>ref</code> is a string, it it used as a regular expression,
to match with the names of the rows (or columns). Be precise enough to match only one
column or row, otherwise you get a warning message.
</p>
</li>
<li> <p><code>"no"</code>: not use ref and not calculate diffs to gain calculation time.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comp</code></td>
<td>
<p>Comparison level. When <code>tab_vars</code> are present, should the row
differences be calculated for each subtable/group (by default <code>comp = "tab"</code> :
comparison of each cell to the relative total row) ?
Should they be calculated for the whole table (<code>comp = "all"</code> :
comparison of each cell to the total row of the total table) ?
When <code>comp = "all"</code> and <code>ref = "first"</code>, cells are compared to the first
cell of the total table instead.
This parameter doesn't affect column percentages.
<code>comp</code> must be set once and for all the first time you use <code>tab_chi2</code>,
<code>tab_pct</code> with rows, or <code>tab_ci</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>Set to <code>TRUE</code> to color the resulting tab based on differences (from
totals or from the first cell).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>just_diff</code></td>
<td>
<p>If percentages are already calculated and you just want
to recalculate differences.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>tibble</code> of class <code>tab</code>, with percentages displayed, possibly
colored based on differences from totals or first cell.
</p>


</div>