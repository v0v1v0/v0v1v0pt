<div class="container">

<table style="width: 100%;"><tr>
<td>estimate_tongfen_correspondence</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate togfen correspondence for list of geographies</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt="[Maturing]"></a>
</p>
<p>Get correspondence data for arbitrary congruent geometries. Congruent means that one can obtain a common
tiling by aggregating several sub-geometries in each of the two input geo data. Worst case scenario the
only common tiling is given by unioning all sub-geometries and there is no finer common tiling.
</p>


<h3>Usage</h3>

<pre><code class="language-R">estimate_tongfen_correspondence(
  data,
  geo_identifiers,
  method = "estimate",
  tolerance = 50,
  computation_crs = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>list of geometries of class sf</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geo_identifiers</code></td>
<td>
<p>vector of unique geographic identifiers for each list entry in data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>aggregation method. Possible values are "estimate" or "identifier". "estimate" estimates the
correspondence purely from the geographic data. "identifier" assumes that regions with identical geo_identifiers are the same,
and uses the "estimate" method for the remaining regions. Default is "estimate".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>
<p>tolerance (in projected coordinate units of 'computation_crs') for feature matching</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>computation_crs</code></td>
<td>
<p>optional crs in which the computation should be carried out,
defaults to crs of the first entry in the data parameter.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A correspondence table linking geo1_uid and geo2_uid with unique TongfenID and TongfenUID columns
that enumerate the common geometry.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Estimate a common geography for 2006 and 2016 dissemination areas in the City of Vancouver
# based on the geographic data.
## Not run: 
regions &lt;- list(CSD="5915022")

data_06 &lt;- cancensus::get_census("CA06",regions=regions,geo_format='sf',level="DA") %&gt;%
 rename(GeoUID_06=GeoUID)
data_16 &lt;- cancensus::get_census("CA16",regions=regions,geo_format="sf",level="DA") %&gt;%
  rename(GeoUID_16=GeoUID)

correspondence &lt;- estimate_tongfen_correspondence(list(data_06, data_16),
                                                  c("GeoUID_06","GeoUID_16"))


## End(Not run)
</code></pre>


</div>