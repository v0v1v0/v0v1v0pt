<div class="container">

<table style="width: 100%;"><tr>
<td>h_adsl_adlb_merge_using_worst_flag</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Helper function for deriving analysis datasets for select laboratory tables</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>Helper function that merges ADSL and ADLB datasets so that missing lab test records are inserted in the
output dataset. Remember that <code>na_level</code> must match the needed pre-processing
done with <code>df_explicit_na()</code> to have the desired output.
</p>


<h3>Usage</h3>

<pre><code class="language-R">h_adsl_adlb_merge_using_worst_flag(
  adsl,
  adlb,
  worst_flag = c(WGRHIFL = "Y"),
  by_visit = FALSE,
  no_fillin_visits = c("SCREENING", "BASELINE")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>adsl</code></td>
<td>
<p>(<code>data.frame</code>)<br> ADSL data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adlb</code></td>
<td>
<p>(<code>data.frame</code>)<br> ADLB data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>worst_flag</code></td>
<td>
<p>(named <code>character</code>)<br> worst post-baseline lab flag variable. See how this is implemented in the
following examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by_visit</code></td>
<td>
<p>(<code>flag</code>)<br> defaults to <code>FALSE</code> to generate worst grade per patient.
If worst grade per patient per visit is specified for <code>worst_flag</code>, then
<code>by_visit</code> should be <code>TRUE</code> to generate worst grade patient per visit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no_fillin_visits</code></td>
<td>
<p>(named <code>character</code>)<br> visits that are not considered for post-baseline worst toxicity
grade. Defaults to <code>c("SCREENING", "BASELINE")</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In the result data missing records will be created for the following situations:
</p>

<ul>
<li>
<p> Patients who are present in <code>adsl</code> but have no lab data in <code>adlb</code> (both baseline and post-baseline).
</p>
</li>
<li>
<p> Patients who do not have any post-baseline lab values.
</p>
</li>
<li>
<p> Patients without any post-baseline values flagged as the worst.
</p>
</li>
</ul>
<h3>Value</h3>

<p><code>df</code> containing variables shared between <code>adlb</code> and <code>adsl</code> along with variables <code>PARAM</code>, <code>PARAMCD</code>,
<code>ATOXGR</code>, and <code>BTOXGR</code> relevant for analysis. Optionally, <code>AVISIT</code> are <code>AVISITN</code> are included when
<code>by_visit = TRUE</code> and <code>no_fillin_visits = c("SCREENING", "BASELINE")</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># `h_adsl_adlb_merge_using_worst_flag`
adlb_out &lt;- h_adsl_adlb_merge_using_worst_flag(
  tern_ex_adsl,
  tern_ex_adlb,
  worst_flag = c("WGRHIFL" = "Y")
)

# `h_adsl_adlb_merge_using_worst_flag` by visit example
adlb_out_by_visit &lt;- h_adsl_adlb_merge_using_worst_flag(
  tern_ex_adsl,
  tern_ex_adlb,
  worst_flag = c("WGRLOVFL" = "Y"),
  by_visit = TRUE
)

</code></pre>


</div>