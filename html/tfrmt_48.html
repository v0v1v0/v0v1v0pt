<div class="container">

<table style="width: 100%;"><tr>
<td>tfrmt_sigdig</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create tfrmt object from significant digits spec</h2>

<h3>Description</h3>

<p>This function creates a tfrmt based on significant digits specifications for
group/label values. The input data spec provided to <code>sigdig_df</code> will contain
group/label value specifications. <code>tfrmt_sigdig</code> assumes that these columns
are group columns unless otherwise specified. The user may optionally choose
to pass the names of the group and/or label columns as arguments to the
function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tfrmt_sigdig(
  sigdig_df,
  group = vars(),
  label = quo(),
  param_defaults = param_set(),
  missing = NULL,
  tfrmt_obj = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sigdig_df</code></td>
<td>
<p>data frame containing significant digits formatting spec.
Has 1 record per group/label value, and columns for relevant group and/or
label variables, as well as a numeric column <code>sigdig</code> containing the
significant digits rounding to be applied in addition to the default. If
unique group/label values are represented in multiple rows, this will
result in only one of the <code>sigdig</code> values being carried through in
implementation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>what are the grouping vars of the input dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>what is the label column of the input dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param_defaults</code></td>
<td>
<p>Option to override or add to default parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing</code></td>
<td>
<p>missing option to be included in all <code>frmt</code>s</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tfrmt_obj</code></td>
<td>
<p>an optional tfrmt object to layer</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td>
</tr>
</table>
<h3>Details</h3>



<h4>Formats covered</h4>

<p>Currently covers specifications for <code>frmt</code> and
<code>frmt_combine</code>. <code>frmt_when</code> not supported and must be supplied in additional
<code>tfrmt</code> that is layered on.
</p>



<h4>Group/label variables</h4>

<p>If the group/label variables are not provided to the arguments, the body_plan
will be constructed from the input data with the following behaviour:
</p>

<ul>
<li>
<p> If no group or label are supplied, it will be assumed that all columns in the input
data are group columns.
</p>
</li>
<li>
<p> If a label variable is provided, but nothing is
specified for group, any leftover columns (i.e. not matching <code>sigdig</code> or the
supplied label variable name) in the input data will be assumed to be group
columns.
</p>
</li>
<li>
<p> If any group variable is provided, any leftover columns (i.e. not
matching <code>sigdig</code> or the supplied group/label variable) will be disregarded.
</p>
</li>
</ul>
<h3>Value</h3>

<p><code>tfrmt</code> object with a <code>body_plan</code> constructed based on the
significant digits data spec and param-level significant digits defaults.
</p>


<h3>Examples</h3>

<div class="sourceCode r"><pre>sig_input &lt;- tibble::tribble(
  ~group1,   ~group2, ~sigdig,
  "CHEMISTRY",   ".default", 3,
  "CHEMISTRY",   "ALBUMIN",  1,
  "CHEMISTRY",   "CALCIUM",   1,
  ".default",    ".default",  2
)

# Subset data for the example
data &lt;- dplyr::filter(data_labs, group2 == "BASOPHILS", col1 %in% c("Placebo", "Xanomeline Low Dose"))
tfrmt_sigdig(sigdig_df = sig_input,
             group = vars(group1, group2),
             label = rowlbl,
             param_defaults = param_set("[{n}]" = NA)) %&gt;%
  tfrmt(column = vars(col1, col2),
        param = param,
        value = value,
        sorting_cols = vars(ord1, ord2, ord3),
        col_plan = col_plan(-starts_with("ord"))) %&gt;%
  print_to_gt(.data = data)
</pre></div>

<img src="https://raw.githubusercontent.com/GSK-Biostatistics/tfrmt/master/images/example_sigdig.png" alt="Table of Hematology, which are rounded for visits baseline to week 26" style="width:100%;">
</div>