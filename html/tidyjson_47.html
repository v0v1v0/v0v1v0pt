<div class="container">

<table style="width: 100%;"><tr>
<td>json_complexity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute the complexity (recursively unlisted length) of JSON data</h2>

<h3>Description</h3>

<p>When investigating complex JSON data it can be helpful to identify the
complexity of deeply nested documents. The <code>json_complexity</code> function
adds a column (default name <code>"complexity"</code>) that contains the
'complexity' of the JSON associated with each row. Essentially, every on-null
scalar value is found in the object by recursively stripping away all objects
or arrays, and the complexity is the count of these scalar values. Note that
'null' has complexity 0, as do empty objects and arrays.
</p>


<h3>Usage</h3>

<pre><code class="language-R">json_complexity(.x, column.name = "complexity")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.x</code></td>
<td>
<p>a json string or tbl_json object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column.name</code></td>
<td>
<p>the name to specify for the length column</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>tbl_json</code> object
</p>


<h3>See Also</h3>

<p><code>json_lengths</code> to compute the length of each value
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# A simple example
json &lt;- c('[1, 2, [3, 4]]', '{"k1": 1, "k2": [2, [3, 4]]}', '1', 'null')

# Complexity is larger than length for nested objects
json %&gt;% json_lengths %&gt;% json_complexity

# Worldbank has complexity ranging from 8 to 17
library(magrittr)
worldbank %&gt;% json_complexity %$% table(complexity)

# Commits are much more regular
commits %&gt;% gather_array %&gt;% json_complexity %$% table(complexity)
</code></pre>


</div>