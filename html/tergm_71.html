<div class="container">

<table style="width: 100%;"><tr>
<td>tergm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Temporal Exponential-Family Random Graph Models</h2>

<h3>Description</h3>

<p><code>tergm</code> is used for finding Temporal ERGMs' (TERGMs) and Separable Temporal ERGMs' (STERGMs)
Conditional MLE (CMLE) (Krivitsky and Handcock, 2010) and Equilibrium
Generalized Method of Moments Estimator (EGMME) (Krivitsky, 2009).
</p>


<h3>Usage</h3>

<pre><code class="language-R">tergm(
  formula,
  constraints = ~.,
  estimate,
  times = NULL,
  offset.coef = NULL,
  targets = NULL,
  target.stats = NULL,
  SAN.offsets = NULL,
  eval.loglik = NVL(getOption("tergm.eval.loglik"), getOption("ergm.eval.loglik")),
  control = control.tergm(),
  verbose = FALSE,
  ...,
  basis = eval_lhs.formula(formula)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>an ERGM formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraints</code></td>
<td>
<p>A formula specifying one or more constraints
on the support of the distribution of the networks being modeled. Multiple constraints
may be given, separated by “+” and “-” operators. See
<code>ergmConstraint</code> for the detailed explanation of
their semantics and also for an indexed list of the constraints visible to the <span class="pkg">ergm</span> package.
</p>
<p>The default is to have no constraints except those provided through
the <code>ergmlhs</code> API.
</p>
<p>Together with the model terms in the formula and the reference measure, the constraints
define the distribution of networks being modeled.
</p>
<p>It is also possible to specify a proposal function directly either
by passing a string with the function's name (in which case,
arguments to the proposal should be specified through the
<code>MCMC.prop.args</code> argument to the relevant control function, or
by giving it on the LHS of the hints formula to <code>MCMC.prop</code>
argument to the control function. This will override
the one chosen automatically.
</p>
<p>Note that not all possible combinations of constraints and reference
measures are supported. However, for relatively simple constraints
(i.e., those that simply permit or forbid specific dyads or sets of
dyads from changing), arbitrary combinations should be possible.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate</code></td>
<td>
<p>One of "EGMME" for Equilibrium Generalized Method of Moments
Estimation, based on a single network with some temporal information and
making an assumption that it is a product of a TERGM process running to its
stationary (equilibrium) distribution; "CMLE" for Conditional Maximum
Likelihood Estimation, modeling a transition between two networks, or
"CMPLE" for Conditional Maximum PseudoLikelihood Estimation, using MPLE
instead of MLE.  CMPLE is extremely inaccurate at this time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>For CMLE and CMPLE estimation, times or indexes at
which the networks whose transition is to be modeled are
observed. Default to <code>c(0,1)</code> if <code>nw</code> is a
<code>networkDynamic</code> and to
<code>1:length(nw)</code> (all transitions) if <code>nw</code> is a
<code>network.list</code> or a <code>list</code>. Unused for
EGMME. Note that at this time, the selected time points will be
treated as temporally adjacent. Irregluarly spaced time series
are not supported at this time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset.coef</code></td>
<td>
<p>Numeric vector to specify offset parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targets</code></td>
<td>
<p>One-sided <code>ergm</code>-style formula specifying
statistics whose moments are used for the EGMME. Unused for CMLE and CMPLE.
Targets is required for EGMME estimation. It may contain any valid ergm
terms.  Any offset terms are used only during the
preliminary SAN run; they are removed automatically for the EGMME proper.
If <code>targets</code> is specified as a character
(one of <code>"formation"</code> and <code>"dissolution"</code>) then
the function <code>.extract.fd.formulae</code> is used to determine the
corresponding formula; the user should be aware of its behavior and limitations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target.stats</code></td>
<td>
<p>A vector specifying the values of the <code>targets</code>
statistics that EGMME will try to match.  Defaults to the statistics of
<code>nw</code>. Unused for CMLE and CMPLE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SAN.offsets</code></td>
<td>
<p>Offset coefficients (if any) to use during the SAN run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eval.loglik</code></td>
<td>
<p>Whether or not to calculate the log-likelihood
of a CMLE TERGM fit. See <code>ergm</code> for details. Can be
set globally via <code>option(tergm.eval.loglik=...)</code>, falling back to
<code>getOption("ergm.eval.loglik")</code> if not set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>A list of control parameters for algorithm tuning.
Constructed using <code>control.tergm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>A logical or an integer to control the amount of
progress and diagnostic information to be printed. <code>FALSE</code>/<code>0</code>
produces minimal output, with higher values producing more
detail. Note that very high values (5+) may significantly slow
down processing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments, to be passed to lower-level functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>basis</code></td>
<td>
<p>optional network data overriding the left hand side of <code>formula</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>tergm</code> returns an object of class <code>tergm</code> that
inherits from <code>ergm</code> and has the usual methods (<code>coef.ergm()</code>,
<code>summary.ergm()</code>, <code>mcmc.diagnostics()</code>, etc.) implemented for
it. Note that <code>gof()</code> only works for the CMLE method.
</p>


<h3>References</h3>

<p>Krackhardt, D and Handcock, MS (2006) Heider vs Simmel: Emergent
features in dynamic structures.  ICML Workshop on Statistical
Network Analysis. Springer, Berlin, Heidelberg, 2006.
</p>
<p>Hanneke S, Fu W, and Xing EP (2010). Discrete
Temporal Models of Social Networks. <em>Electronic Journal of Statistics</em>,
2010, 4, 585-605.
<a href="https://doi.org/10.1214/09-EJS548">doi:10.1214/09-EJS548</a>
</p>
<p>Krivitsky P.N. and Handcock M.S. (2014) A Separable Model for Dynamic Networks. <em>Journal of the Royal Statistical Society, Series B</em>, 76(1): 29-46. <a href="https://doi.org/10.1111/rssb.12014">doi:10.1111/rssb.12014</a>
</p>
<p>Krivitsky, P.N. (2012). Modeling of Dynamic Networks based on
Egocentric Data with Durational Information. <em>Pennsylvania State
University Department of Statistics Technical Report</em>, 2012(2012-01).
<a href="http://stat.psu.edu/research/technical-report-files/2012-technical-reports/modeling-of-dynamic-networks-based-on-egocentric-data-with-durational-information">http://stat.psu.edu/research/technical-report-files/2012-technical-reports/modeling-of-dynamic-networks-based-on-egocentric-data-with-durational-information</a>
</p>


<h3>See Also</h3>

<p><code>network</code> and <code>NetSeries()</code> for the data structures,
<code>ergm()</code> and <code>ergmTerm</code> for model specification,
package vignette <code>browseVignettes(package='tergm')</code> for a
short demonstration, the Statnet web site
<a href="https://statnet.org/workshop-tergm/">https://statnet.org/workshop-tergm/</a> for a tutorial
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# EGMME Example
par(ask=FALSE)
n&lt;-30
g0&lt;-network.initialize(n,dir=FALSE)

#                     edges, degree(1), mean.age
target.stats&lt;-c(      n*1/2,    n*0.6,        20)

dynfit&lt;-tergm(g0 ~ Form(~edges + degree(1)) + Diss(~edges),
               targets = ~edges+degree(1)+mean.age,
               target.stats=target.stats, estimate="EGMME",
               control=control.tergm(SA.plot.progress=TRUE))

par(ask=TRUE)
mcmc.diagnostics(dynfit)
summary(dynfit)

## End(Not run)

# CMLE Example
data(samplk)

# Fit a transition from Time 1 to Time 2
samplk12 &lt;- tergm(list(samplk1, samplk2)~
                  Form(~edges+mutual+transitiveties+cyclicalties)+
                  Diss(~edges+mutual+transitiveties+cyclicalties),
                  estimate="CMLE")

mcmc.diagnostics(samplk12)
summary(samplk12)

samplk12.gof &lt;- gof(samplk12)

samplk12.gof

plot(samplk12.gof)

plot(samplk12.gof, plotlogodds=TRUE)

# Fit a transition from Time 1 to Time 2 and from Time 2 to Time 3 jointly
samplk123 &lt;- tergm(list(samplk1, samplk2, samplk3)~
                   Form(~edges+mutual+transitiveties+cyclicalties)+
                   Diss(~edges+mutual+transitiveties+cyclicalties),
                   estimate="CMLE")

mcmc.diagnostics(samplk123)
summary(samplk123)


</code></pre>


</div>