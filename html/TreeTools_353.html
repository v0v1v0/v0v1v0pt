<div class="container">

<table style="width: 100%;"><tr>
<td>ReadTntTree</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Parse TNT Tree</h2>

<h3>Description</h3>

<p>Read a tree from <a href="https://www.lillo.org.ar/phylogeny/tnt/">TNT</a>'s
parenthetical output.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ReadTntTree(filepath, relativePath = NULL, keepEnd = 1L, tipLabels = NULL)

TntText2Tree(treeText)

TNTText2Tree(treeText)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filepath</code></td>
<td>
<p>character string specifying path to TNT <code>.tre</code> file,
relative to the R working directory (visible with <code>getwd()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relativePath</code></td>
<td>
<p>(discouraged) character string specifying location of the
matrix file used to generate the TNT results, relative to the current working
directory.  Taxon names will be read from this file if they are not specified
by <code>tipLabels</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keepEnd</code></td>
<td>
<p>(optional, default 1) integer specifying how many elements of
the file path to conserve when creating relative path (see examples).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tipLabels</code></td>
<td>
<p>(optional) character vector specifying the names of the
taxa, in the sequence that they appear in the TNT file.  If not specified,
taxon names will be loaded from the data file linked in the first line of the
<code>.tre</code> file specified in <code>filepath</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treeText</code></td>
<td>
<p>Character string describing one or more trees,
in the parenthetical format output by TNT.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>ReadTntTree()</code> imports trees generated by the parsimony analysis program
<a href="https://www.lillo.org.ar/phylogeny/tnt/">TNT</a> into R, including node labels
written with the <code>ttags</code> command.
Tree files must have been saved by TNT in parenthetical notation, using the
TNT command <code style="white-space: pre;">⁠tsave *⁠</code>.
Trees are easiest to load into R if taxa have been saved using their names
(TNT command <code style="white-space: pre;">⁠taxname =⁠</code>).  In this case, the TNT <code>.tre</code> file
contains tip labels and can be parsed directly.  The downside is that the
uncompressed <code>.tre</code> files will have a larger file size.
</p>
<p><code>ReadTntTree()</code> can also read <code>.tre</code> files in which taxa have been saved
using their numbers (<code style="white-space: pre;">⁠taxname -⁠</code>).  Such files contain a hard-coded link to
the matrix file that was used to generate the trees, in the first line of the
<code>.tre</code> file.  This poses problems for portability: if the matrix file is
moved, or the <code>.tre</code> file is accessed on another computer, the taxon names
may be lost.  As such, it is important to check that the matrix file
exists in the expected location – if it does not,
either use the <code>relativePath</code> argument to point to its new location, or
specify <code>tipLabels</code> to manually specify the tip labels.
</p>
<p><code>TntText2Tree()</code> converts text representation of a tree in TNT to an
object of class <code>phylo</code>.
</p>


<h3>Value</h3>

<p><code>ReadTntTree()</code> returns a tree of class <code>phylo</code> in
TNT order,
corresponding to the tree in <code>filepath</code>, or NULL if no trees are found.
</p>


<h3>Author(s)</h3>

<p><a href="https://orcid.org/0000-0001-5660-1727">Martin R. Smith</a>
(<a href="mailto:martin.smith@durham.ac.uk">martin.smith@durham.ac.uk</a>)
</p>


<h3>See Also</h3>

<p>Other tree import functions: 
<code>ReadMrBayesTrees()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># In the examples below, TNT has read a matrix from
# "c:/TreeTools/input/dataset.nex"
# The results of an analysis were written to
# "c:/TreeTools/output/results1.tnt"
#
# results1.tnt will contain a hard-coded reference to
# "c:/TreeTools/input/dataset.nex".

# On the original machine (but not elsewhere), it would be possible to read
# this hard-coded reference from results.tnt:
# ReadTntTree("output/results1.tnt")

# These datasets are provided with the "TreeTools" package, which will
# probably not be located at c:/TreeTools on your machine:

oldWD &lt;- getwd() # Remember the current working directory
setwd(system.file(package = "TreeTools"))

# If taxon names were saved within the file (using `taxname=` in TNT),
# then our job is easy:
ReadTntTree("extdata/output/named.tre")

# But if taxa were compressed to numbers (using `taxname-`), we need to
# look up the original matrix in order to dereference the tip names.
#
# We need to extract the relevant file path from the end of the
# hard-coded path in the original file.
#
# We are interested in the last two elements of
# c:/TreeTools/input/dataset.nex
#                2      1
#
# "." means "relative to the current directory"
ReadTntTree("extdata/output/numbered.tre", "./extdata", 2)

# If working in a lower subdirectory
setwd("./extdata/otherfolder")

# then it will be necessary to navigate up the directory path with "..":
ReadTntTree("../output/numbered.tre", "..", 2)


setwd(oldWD) # Restore original working directory

TNTText2Tree("(A (B (C (D E ))));")

</code></pre>


</div>