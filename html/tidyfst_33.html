<div class="container">

<table style="width: 100%;"><tr>
<td>drop_na_dt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Dump, replace and fill missing values in data.frame</h2>

<h3>Description</h3>

<p>A set of tools to deal with missing values in data.frames. 
It can dump, replace, fill (with next or previous observation) or delete entries according to their missing values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">drop_na_dt(.data, ...)

replace_na_dt(.data, ..., to)

delete_na_cols(.data, prop = NULL, n = NULL)

delete_na_rows(.data, prop = NULL, n = NULL)

fill_na_dt(.data, ..., direction = "down")

shift_fill(x, direction = "down")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>data.frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Colunms to be replaced or filled. If not specified, use all columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>What value should NA replace by?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop</code></td>
<td>
<p>If proportion of NAs is larger than or equal to "prop", would be deleted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>If number of NAs is larger than or equal to "n", would be deleted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>Direction in which to fill missing values.
Currently either "down" (the default) or "up".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector with missing values to be filled.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>drop_na_dt</code> drops the entries with NAs in specific columns.
<code>fill_na_dt</code> fill NAs with observations ahead ("down") or below ("up"),
which is also known as last observation carried forward (LOCF) and
next observation carried backward(NOCB).
</p>
<p><code>delete_na_cols</code> could drop the columns with NA proportion larger
than or equal to "prop" or NA number larger than or equal to "n",
<code>delete_na_rows</code> works alike but deals with rows.
</p>
<p><code>shift_fill</code> could fill a vector with missing values.
</p>


<h3>Value</h3>

<p>data.table
</p>


<h3>References</h3>

<p>https://stackoverflow.com/questions/23597140/how-to-find-the-percentage-of-nas-in-a-data-frame
</p>
<p>https://stackoverflow.com/questions/2643939/remove-columns-from-dataframe-where-all-values-are-na
</p>
<p>https://stackoverflow.com/questions/7235657/fastest-way-to-replace-nas-in-a-large-data-table
</p>


<h3>See Also</h3>

<p><code>drop_na</code>,<code>replace_na</code>,
<code>fill</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">df &lt;- data.table(x = c(1, 2, NA), y = c("a", NA, "b"))
 df %&gt;% drop_na_dt()
 df %&gt;% drop_na_dt(x)
 df %&gt;% drop_na_dt(y)
 df %&gt;% drop_na_dt(x,y)

 df %&gt;% replace_na_dt(to = 0)
 df %&gt;% replace_na_dt(x,to = 0)
 df %&gt;% replace_na_dt(y,to = 0)
 df %&gt;% replace_na_dt(x,y,to = 0)

 df %&gt;% fill_na_dt(x)
 df %&gt;% fill_na_dt() # not specified, fill all columns
 df %&gt;% fill_na_dt(y,direction = "up")

x = data.frame(x = c(1, 2, NA, 3), y = c(NA, NA, 4, 5),z = rep(NA,4))
x
x %&gt;% delete_na_cols()
x %&gt;% delete_na_cols(prop = 0.75)
x %&gt;% delete_na_cols(prop = 0.5)
x %&gt;% delete_na_cols(prop = 0.24)
x %&gt;% delete_na_cols(n = 2)

x %&gt;% delete_na_rows(prop = 0.6)
x %&gt;% delete_na_rows(n = 2)

# shift_fill
y = c("a",NA,"b",NA,"c")

shift_fill(y) # equals to
shift_fill(y,"down")

shift_fill(y,"up")
</code></pre>


</div>