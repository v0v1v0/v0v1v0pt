<div class="container">

<table style="width: 100%;"><tr>
<td>taxon_state</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Keep track of queries in <code style="white-space: pre;">⁠get_*⁠</code> functions</h2>

<h3>Description</h3>

<p>Keep track of queries in <code style="white-space: pre;">⁠get_*⁠</code> functions
</p>
<p>Keep track of queries in <code style="white-space: pre;">⁠get_*⁠</code> functions
</p>


<h3>Details</h3>

<p>This object lives inside each <code style="white-space: pre;">⁠get_*⁠</code> function call, maintaining
results as they are accumulated.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>initialized</code></dt>
<dd>
<p>(time) time job started</p>
</dd>
<dt><code>finalized</code></dt>
<dd>
<p>(time) time job finished</p>
</dd>
<dt><code>class</code></dt>
<dd>
<p>(character) a class name (e.g., "gbif")</p>
</dd>
<dt><code>names</code></dt>
<dd>
<p>(character) one or more taxon names</p>
</dd>
</dl>
</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>count</code></dt>
<dd>
<p>(integer) count number of records</p>
</dd>
<dt><code>exit</code></dt>
<dd>
<p>record date/time function exited</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-new"><code>taxon_state$new()</code></a>
</p>
</li>
<li> <p><a href="#method-print"><code>taxon_state$print()</code></a>
</p>
</li>
<li> <p><a href="#method-add"><code>taxon_state$add()</code></a>
</p>
</li>
<li> <p><a href="#method-get"><code>taxon_state$get()</code></a>
</p>
</li>
<li> <p><a href="#method-remove"><code>taxon_state$remove()</code></a>
</p>
</li>
<li> <p><a href="#method-purge"><code>taxon_state$purge()</code></a>
</p>
</li>
<li> <p><a href="#method-taxa_remaining"><code>taxon_state$taxa_remaining()</code></a>
</p>
</li>
<li> <p><a href="#method-taxa_completed"><code>taxon_state$taxa_completed()</code></a>
</p>
</li>
<li> <p><a href="#method-clone"><code>taxon_state$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Create a new <code>taxon_state</code> object
</p>


<h5>Usage</h5>

<div class="r"><pre>taxon_state$new(class, names)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>class</code></dt>
<dd>
<p>(character) a class name (e.g., "gbif")</p>
</dd>
<dt><code>names</code></dt>
<dd>
<p>(character) one or more taxon names</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A new <code>taxon_state</code> object
</p>


<hr>
<a id="method-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>print method for the <code>taxon_state</code> class
</p>


<h5>Usage</h5>

<div class="r"><pre>taxon_state$print(x, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt>
<dd>
<p>self</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>ignored</p>
</dd>
</dl>
</div>


<hr>
<a id="method-add"></a>



<h4>Method <code>add()</code>
</h4>

<p>add a record with it's result; duplicates allowed
</p>


<h5>Usage</h5>

<div class="r"><pre>taxon_state$add(query, result)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>query</code></dt>
<dd>
<p>(character), a taxon name</p>
</dd>
<dt><code>result</code></dt>
<dd>
<p>(list) a named list</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>nothing returned; sets only
</p>


<hr>
<a id="method-get"></a>



<h4>Method <code>get()</code>
</h4>

<p>get all records matching 'query'
</p>


<h5>Usage</h5>

<div class="r"><pre>taxon_state$get(query = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>query</code></dt>
<dd>
<p>(character), a taxon name</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>a named list, with slots for the taxon id, and other attributes,
named by the taxon name
</p>


<hr>
<a id="method-remove"></a>



<h4>Method <code>remove()</code>
</h4>

<p>remove's all records matching 'query'
</p>


<h5>Usage</h5>

<div class="r"><pre>taxon_state$remove(query)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>query</code></dt>
<dd>
<p>(character), a taxon name</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>nothing, removes records matching query
</p>


<hr>
<a id="method-purge"></a>



<h4>Method <code>purge()</code>
</h4>

<p>removes all records
</p>


<h5>Usage</h5>

<div class="r"><pre>taxon_state$purge()</pre></div>



<h5>Returns</h5>

<p>nothing returned; sets only
</p>


<hr>
<a id="method-taxa_remaining"></a>



<h4>Method <code>taxa_remaining()</code>
</h4>

<p>get remaining taxa
</p>


<h5>Usage</h5>

<div class="r"><pre>taxon_state$taxa_remaining()</pre></div>



<h5>Returns</h5>

<p>sorted taxon names
</p>


<hr>
<a id="method-taxa_completed"></a>



<h4>Method <code>taxa_completed()</code>
</h4>

<p>get completed taxa
</p>


<h5>Usage</h5>

<div class="r"><pre>taxon_state$taxa_completed()</pre></div>



<h5>Returns</h5>

<p>sorted taxon names
</p>


<hr>
<a id="method-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>taxon_state$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
if (interactive()) {
ts &lt;- taxon_state$new()
taxon_last()
ts
res &lt;- list(
  id = 123456,
  att = "found",
  multiple = FALSE,
  direct = FALSE,
  class = "tsn"
)
ts$add(query = "Quercus robur", result = res)
ts
ts$get(query = "Quercus robur")
ts$count
ts$remove(query = "Quercus robur")
ts
ts$count

res2 &lt;- list(
  id = 3430834535,
  att = "found",
  multiple = FALSE,
  direct = FALSE,
  class = "gbifid"
)
ts$add(query = "Poa annua", result = res2)
res3 &lt;- list(
  id = 1223424,
  att = "found",
  multiple = FALSE,
  direct = FALSE,
  class = "uid"
)
ts$add(query = "Puma concolor", result = res3)
ts
ts$count
ts$get("Puma concolor")
ts$get()

# cleanup
ts$purge()
ts$count
}

## End(Not run)
</code></pre>


</div>