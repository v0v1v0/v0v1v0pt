<div class="container">

<table style="width: 100%;"><tr>
<td>DETS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Dynamic Ensemble for Time Series</h2>

<h3>Description</h3>

<p>A Dynamic Ensemble for Time Series (DETS). The DETS ensemble
method we present settles on individually pre-trained models
which are dynamically combined at run-time to make a prediction.
The combination rule is reactive to changes in the environment,
rendering an online combined model. The main properties of the ensemble
are:
</p>

<dl>
<dt>heterogeneity</dt>
<dd>
<p>Heterogeneous ensembles are those
comprised of different types of base learners. By employing
models that follow different learning strategies, use different
features and/or data observations we expect that individual
learners will disagree with each other, introducing a natural
diversity into the ensemble that helps in handling different
dynamic regimes in a time series forecasting setting;</p>
</dd>
<dt>responsiveness</dt>
<dd>
<p>We promote greater responsiveness of
heterogeneous ensembles in time series tasks by making the
aggregation of their members' predictions time-dependent.
By tracking the loss of each learner over time, we weigh
the predictions of individual learners according to their
recent performance using a non-linear function. This strategy
may be advantageous for better detecting regime changes and
also to quickly adapt the ensemble to new regimes.</p>
</dd>
</dl>
<h3>Usage</h3>

<pre><code class="language-R">DETS(
  form,
  data,
  specs,
  lambda = 50,
  omega = 0.5,
  select_best = FALSE,
  num_cores = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>form</code></td>
<td>
<p>formula;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame to train the base models;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>specs</code></td>
<td>
<p>object of class <code>model_specs-class</code>. Contains
the parameter setting information for training the
base models;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>window size. Number of observations to compute
the recent performance of the base models, according to the
committee ratio <strong>omega</strong>. Essentially, the top <em>omega</em>
models are selected and weighted at each prediction instance, according
to their performance in the last <em>lambda</em> observations.
Defaults to 50 according to empirical experiments;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omega</code></td>
<td>
<p>committee ratio size. Essentially, the top <em>omega</em>
models are selected and weighted at each prediction instance, according
to their performance in the last <em>lambda</em> observations.
Defaults to .5 according to empirical experiments;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select_best</code></td>
<td>
<p>Logical. If true, at each prediction time,
a single base model is picked to make a prediction. The picked
model is the one that has the lowest loss prediction from
the meta models. Defaults to FALSE;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_cores</code></td>
<td>
<p>A numeric value to specify the number of cores used to
train base and meta models. num_cores = 1
leads to sequential training of models. num_cores &gt; 1
splits the training of the base models across num_cores cores.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Cerqueira, Vitor; Torgo, Luis; Oliveira, Mariana,
and Bernhard Pfahringer. "Dynamic and Heterogeneous Ensembles
for Time Series Forecasting." Data Science and Advanced
Analytics (DSAA), 2017 IEEE International Conference on. IEEE, 2017.
</p>


<h3>See Also</h3>

<p><code>model_specs-class</code> for setting up the ensemble parameters
for an <strong>DETS</strong> model;
<code>predict</code> for the method that predicts new held out observations;
<code>update_weights</code> for the method used to update the
weights of an <strong>DETS</strong> model between successive predict or forecast calls;
<code>update_base_models</code> for the updating (retraining)
the base models of an <strong>DETS</strong> ensemble (and respective
weights); and <code>dets_hat-class</code> for the object that results from
predicting with an <strong>DETS</strong> model.
</p>


<h3>Examples</h3>

<pre><code class="language-R">specs &lt;- model_specs(
 c("bm_ppr", "bm_svr"),
 list(bm_ppr = list(nterms = c(2, 4)),
      bm_svr = list(kernel = c("vanilladot", "polydot"), C = c(1,5)))
)

data("water_consumption");
train &lt;- embed_timeseries(water_consumption, 5);

model &lt;- DETS(target ~., train, specs, lambda = 30, omega = .2)

</code></pre>


</div>