<div class="container">

<table style="width: 100%;"><tr>
<td>cournot_tariff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tariff Simulation With A Cournot Quantity Setting Game</h2>

<h3>Description</h3>

<p>Simulate the effect of tariffs when firms play a cournot quantity setting game and consumer demand is either linear or log-linear
</p>


<h3>Usage</h3>

<pre><code class="language-R">cournot_tariff(
  prices,
  quantities,
  margins = matrix(NA_real_, nrow(quantities), ncol(quantities)),
  demand = rep("linear", length(prices)),
  cost = rep("linear", nrow(quantities)),
  tariffPre = matrix(0, nrow = nrow(quantities), ncol = ncol(quantities)),
  tariffPost = tariffPre,
  mcfunPre = list(),
  mcfunPost = mcfunPre,
  vcfunPre = list(),
  vcfunPost = vcfunPre,
  capacitiesPre = rep(Inf, nrow(quantities)),
  capacitiesPost = capacitiesPre,
  productsPre = !is.na(quantities),
  productsPost = productsPre,
  owner = NULL,
  mktElast = rep(NA_real_, length(prices)),
  quantityStart = as.vector(quantities),
  control.slopes,
  control.equ,
  labels,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prices</code></td>
<td>
<p>A length k vector product prices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantities</code></td>
<td>
<p>An n x k matrix of product quantities. All quantities must either be positive, or if the product is
not produced by a plant, NA</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margins</code></td>
<td>
<p>An n x k matrix of product margins. All margins must be either be between 0 and 1, or NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>demand</code></td>
<td>
<p>A length k character vector equal to "linear" if a product's demand curve is assumed to be linear or "log"
if a product's demand curve is assumed to be log-linear.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cost</code></td>
<td>
<p>A length k character vector equal to "linear" if a plant's marginal cost curve is assumed to be linear or
"constant" if a plant's marginal curve is assumed to be constant. Returns an error if a multi-plant firm with constant
marginal costs does not have capacity constraints.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tariffPre</code></td>
<td>
<p>An n x k matrix  where each element equals the <strong>current </strong> <em>ad valorem</em> tariff (expressed as a proportion of consumer price) imposed
on each product. Default is 0, which assumes no tariff.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tariffPost</code></td>
<td>
<p>An n x k matrix  where each element equals the <strong>new</strong>  <em>ad valorem</em> tariff (expressed as a proportion of consumer price) imposed
on each product. Default is 0, which assumes no tariff.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mcfunPre</code></td>
<td>
<p>a length n list of functions that calculate a plant's  marginal cost under the current tariff structure.
If empty (the default), assumes quadratic costs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mcfunPost</code></td>
<td>
<p>a length n list of functions that calculate a plant's marginal cost under the new tariff structure.
If empty (the default), assumes quadratic costs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcfunPre</code></td>
<td>
<p>a length n list of functions that calculate a plant's  variable cost under the current tariff structure.
If empty (the default), assumes quadratic costs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcfunPost</code></td>
<td>
<p>a length n list of functions that calculate a plant's variable cost under the new tariff structure.
If empty (the default), assumes quadratic costs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>capacitiesPre</code></td>
<td>
<p>A length n numeric vector of plant capacities under the current tariff regime. Default is Inf.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>capacitiesPost</code></td>
<td>
<p>A length n numeric vector of plant capacities under the new tariff regime. Default is Inf.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>productsPre</code></td>
<td>
<p>An n x k matrix that equals TRUE if under the current tariff regime, a plant produces a product. Default is TRUE if 'quantities' is not NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>productsPost</code></td>
<td>
<p>An n x k matrix that equals TRUE if under the new tariff regime, a plant produces a product. Default equals 'productsPre'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>owner</code></td>
<td>
<p>EITHER a vector of length n whose values indicate which plants are commonly owned OR an n x n matrix of ownership shares.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mktElast</code></td>
<td>
<p>A length k vector of product elasticities. Default is a length k vector of NAs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantityStart</code></td>
<td>
<p>A length k vector of quantities used as the initial guess in the nonlinear equation solver. Default is 'quantities'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control.slopes</code></td>
<td>
<p>A list of  <code>optim</code>  control parameters passed to the calibration routine optimizer
(typically the <code>calcSlopes</code> method).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control.equ</code></td>
<td>
<p>A list of  <code>BBsolve</code> control parameters passed to the non-linear equation solver
(typically the <code>calcPrices</code> method).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>A k-length vector of labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional options to feed to the <code>BBsolve</code> optimizer used to solve for equilibrium quantities.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Let k denote the number of products and n denote the number of plants. Using price, and quantity, information for all products in each market, as well as
margin information for at least one products in each market, <code>cournot_tariff</code> is able to recover the
slopes and intercepts of either a Linear or Log-linear demand system. These parameters are then used
to simulate the price effects of a tariff under the assumption that the firms are playing a
homogeneous products simultaneous quantity setting game.
</p>


<h3>Value</h3>

<p><code>cournot_tariff</code> returns an instance of class <code>Cournot</code> from package <span class="pkg">antitrust</span>, depending upon the value of the “demand” argument.
</p>


<h3>References</h3>

<p>Simon P. Anderson, Andre de Palma, Brent Kreider,
The efficiency of indirect taxes under imperfect competition,
Journal of Public Economics,
Volume 81, Issue 2, 2001,Pages 231-251.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Simulate the effect of a 75% ad valorem tariff in a
## 5-firm, single-product market with linear demand and quadratic costs
## Firm 1 is assumed to be foreign, and so subject to a tariff


n &lt;- 5 #number of firms in market
cap &lt;- rnorm(n,mean = .5, sd = .1)
int &lt;- 10
slope &lt;- -.25
tariffPre &lt;- tariffPost &lt;- rep(0, n)
tariffPost[1] &lt;- .75

B.pre.c = matrix(slope,nrow=n,ncol=n)
diag(B.pre.c) = 2* diag(B.pre.c) - 1/cap
quantity.pre.c = rowSums(solve(B.pre.c) * -int)
price.pre.c = int + slope * sum(quantity.pre.c)
mc.pre.c = quantity.pre.c/cap
vc.pre.c = quantity.pre.c^2/(2*cap)
margin.pre.c = 1 - mc.pre.c/price.pre.c

#prep inputs for Cournot
owner.pre &lt;- diag(n)



result.c &lt;- cournot_tariff(prices = price.pre.c,quantities = as.matrix(quantity.pre.c),
                    margins=as.matrix(margin.pre.c),
                    owner=owner.pre,
                    tariffPre =  as.matrix(tariffPre),
                    tariffPost = as.matrix(tariffPost))

summary(result.c, market = TRUE)         # summarize tariff (high-level)
summary(result.c, market = FALSE)         # summarize tariff (detailed)

</code></pre>


</div>