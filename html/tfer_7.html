<div class="container">

<table style="width: 100%;"><tr>
<td>transfer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Glass Transfer, Persistence and Recovery Probabilities</h2>

<h3>Description</h3>

<p>Construct a transfer object to simulate the number of glass fragments
recovered given the conditions set by the user.
</p>


<h3>Usage</h3>

<pre><code class="language-R">transfer(
  N = 10000,
  d = 0.5,
  deffect = TRUE,
  lambda = 120,
  Q = 0.05,
  l0 = 0.8,
  u0 = 0.9,
  lstar0 = 0.1,
  ustar0 = 0.15,
  lj = 0.45,
  uj = 0.7,
  lstarj = 0.05,
  ustarj = 0.1,
  lR = 0.5,
  uR = 0.7,
  lt = 1,
  ut = 2,
  r = 0.5,
  timeDist = c("negbin", "cnegbin", "uniform"),
  loop = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>Simulation size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>The breaker's distance from the window</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deffect</code></td>
<td>
<p>Distance effect. <code>deffect = TRUE</code> when distance effect
exists. Otherwise <code>deffect = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>The average number of glass fragments transferred to the
breaker's clothing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>
<p>Proportion of high persistence fragments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l0</code></td>
<td>
<p>Lower bound on the percentage of fragments lost in the first hour</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>u0</code></td>
<td>
<p>Upper bound on the percentage of fragments lost in the first hour</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lstar0</code></td>
<td>
<p>Lower bound on the percentage of high persistence fragments
lost in the first hour</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ustar0</code></td>
<td>
<p>Upper bound on the percentage of high persistence fragments
lost in the first hour</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lj</code></td>
<td>
<p>Lower bound on the percentage of fragments lost in the j'th hour</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uj</code></td>
<td>
<p>Upper bound on the percentage of fragments lost in the j'th hour</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lstarj</code></td>
<td>
<p>Lower bound on the percentage of high persistence fragments
lost in the j'th hour</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ustarj</code></td>
<td>
<p>Upper bound on the percentage of high persistence fragments
lost in the j'th hour</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lR</code></td>
<td>
<p>Lower bound on the percentage of fragments expected to be detected
in the lab</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uR</code></td>
<td>
<p>Upper bound on the percentage of fragments expected to be detected
in the lab</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lt</code></td>
<td>
<p>Lower bound on time between commission of crime and apprehension of suspect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ut</code></td>
<td>
<p>Upper bound on time between commission of crime and apprehension of suspect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>Probability r in ti ~ NegBinom(t, r)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeDist</code></td>
<td>
<p>the distribution for the random amount of time between the commission of
the crime and the apprehension of the suspect. There are three choices <code>"negbin"</code>,
<code>"cnegbin"</code>, and <code>"uniform"</code>. Before talking about these it should be noted that
if <code>lt</code> is equal to <code>ut</code> - then there is no randomness in this calculation. If
<code>lt</code> does not equal <code>ut</code>, then the average of these two values is used in the
two negative binomial options: <code>"negbin"</code> and <code>"cnegbin"</code>. The difference betweeen
them is that <code>"cnegbin"</code> is a constrained negative binomial where the allowable times are
constrained to be between <code>lt</code> and <code>ut</code>. If <code>"uniform"</code> is selected, then
a uniformly distributed random time between <code>lt</code> and <code>ut</code> is used in each iteration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loop</code></td>
<td>
<p>if <code>TRUE</code> an element by element version of the simulation is used,
if <code>FALSE</code> then a (mostly) vectorised element version of the simulation is used. 
The results from the two methods appear to be almost identical - they won't be the 
same even with the same seed because of the way the random variates are generated. I
(James) believe the vectorised version is faster and better. There was also a small mistake
which has been corrected in that the initial set of persistent fragments was not
being</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>list</code> containing:
</p>

<dl>
<dt>results</dt>
<dd>
<p>The simulated values of recovered glass fragments</p>
</dd>
<dt>paramList</dt>
<dd>
<p>Input parameters</p>
</dd>
</dl>
<p>The returned object has S3 class types tfer and transfer for backwards compatibility
</p>


<h3>Author(s)</h3>

<p>James Curran and TingYu Huang
</p>


<h3>References</h3>

<p>Curran, J. M., Hicks, T. N. &amp; Buckleton, J. S. (2000).
<em>Forensic interpretation of glass evidence</em>. Boca Raton, FL: CRC
Press.
</p>
<p>Curran, J. M., Triggs, C. M., Buckleton, J. S., Walsh, K. A. J. &amp; Hicks T.
N. (January, 1998). Assessing transfer probabilities in a Bayesian
interpretation of forensic glass evidence. <em>Science &amp; Justice</em>,
<em>38</em>(1), 15-21.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(tfer)

## create a transfer object using default arguments
y = transfer()

## probability table
probs = tprob(y)

## extract the probabilities of recovering 8 to 15
## glass fragments given the user-specified arguments
tprob(y, 8:15)

## produce a summary table for a transfer object
summary(y)

## barplot of probabilities (default)
plot(y)
plot(y)

## barplot of transfer frequencies
plot(y, ptype = "f")

## histogram
plot(y, ptype = "h")

</code></pre>


</div>