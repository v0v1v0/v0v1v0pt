<div class="container">

<table style="width: 100%;"><tr>
<td>triples</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a triples match</h2>

<h3>Description</h3>

<p>Create a triples match
</p>


<h3>Usage</h3>

<pre><code class="language-R">triples(cost, z, st, solver = "rrelaxiv")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cost</code></td>
<td>
<p>List of matrices of distances between treated (rows) and control (columns) units within a stratum
with one entry in the list per stratum</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>Vector of treatment assignment (0 for control, 1 for treated)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>st</code></td>
<td>
<p>Vector of stratum assignments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solver</code></td>
<td>
<p>Solver to use for the network problem. Either 'rrelaxiv' or 'rlemon'.
'rrelaxiv' can be downloaded from "https://github.com/josherrickson/rrelaxiv/"</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Named list with three elements: 'm' contains the triples match. This is in the form of a
data.frame with number of rows equal to the number of triples and 8 columns specifying the
match number, the names of the three units within the match, the costs of the two
treated-control pairs within the match, the number of treated units, and the stratum. 'obj'
contains the total objective from the network optimization and 'bound' contains
a loose lower bound on the objective of the optimal match.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Generate some data
set.seed(1)
n &lt;- 40
x &lt;- rnorm(n, 0, 1)
nt &lt;- floor(n * 0.4)
nc &lt;- n - nt
z &lt;- c(rep(1, nt), rep(0, nc))
# Create some strata
ps &lt;- glm(z ~ x, family = binomial)$fitted.values
ps_st &lt;- cut(ps, c(0, quantile(ps, 1/3 * 1:2), 1), labels = 1:3)
# Create a distance matrix
dist &lt;- dist_mahal(data.frame(x = x), z, ps_st)
# Construct the triples match
triplesm &lt;- triples(cost = dist, z = z, st = ps_st, solver = "rlemon")

</code></pre>


</div>