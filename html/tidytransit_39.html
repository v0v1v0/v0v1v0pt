<div class="container">

<table style="width: 100%;"><tr>
<td>stop_distances</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate distances between a given set of stops</h2>

<h3>Description</h3>

<p>Calculate distances between a given set of stops
</p>


<h3>Usage</h3>

<pre><code class="language-R">stop_distances(gtfs_stops)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>gtfs_stops</code></td>
<td>
<p>gtfs stops table either as data frame (with at least <code>stop_id</code>,
<code>stop_lon</code> and <code>stop_lat</code> columns) or as <code>sf</code> object.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>Returns a data.frame with each row containing a pair of stop_ids (columns
<code>from_stop_id</code> and <code>to_stop_id</code>) and the <code>distance</code> between them (in meters)
</p>


<h3>Note</h3>

<p>The resulting data.frame has nrow(gtfs_stops)^2 rows, distances calculations
among all stops for large feeds should be avoided
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(dplyr)

nyc_path &lt;- system.file("extdata", "google_transit_nyc_subway.zip", package = "tidytransit")
nyc &lt;- read_gtfs(nyc_path)

nyc$stops %&gt;%
  filter(stop_name == "Borough Hall") %&gt;%
  stop_distances() %&gt;%
  arrange(desc(distance))

#&gt; # A tibble: 36 × 3
#&gt;    from_stop_id to_stop_id  distance
#&gt;    &lt;chr&gt;        &lt;chr&gt;          &lt;dbl&gt;
#&gt;  1 423          232             91.5
#&gt;  2 423N         232             91.5
#&gt;  3 423S         232             91.5
#&gt;  4 423          232N            91.5
#&gt;  5 423N         232N            91.5
#&gt;  6 423S         232N            91.5
#&gt;  7 423          232S            91.5
#&gt;  8 423N         232S            91.5
#&gt;  9 423S         232S            91.5
#&gt; 10 232          423             91.5
#&gt; # … with 26 more rows

## End(Not run)
</code></pre>


</div>