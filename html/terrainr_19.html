<div class="container">

<table style="width: 100%;"><tr>
<td>hit_national_map_api</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Hit the USGS 3DEP API and retrieve an elevation heightmap</h2>

<h3>Description</h3>

<p>This function retrieves a single tile of data from a single National Map
service and returns the raw response. End users are recommended to use
get_tiles instead, as it does much more validation and provides
a more friendly interface. For a description of the datasets provided by the
National Map, see <a href="https://apps.nationalmap.gov/services">https://apps.nationalmap.gov/services</a>
</p>


<h3>Usage</h3>

<pre><code class="language-R">hit_national_map_api(
  bbox,
  img_width,
  img_height,
  service,
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bbox</code></td>
<td>
<p>An object from sf::st_bbox.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>img_width</code></td>
<td>
<p>The number of pixels in the x direction to retrieve</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>img_height</code></td>
<td>
<p>The number of pixels in the y direction to retrieve</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>service</code></td>
<td>
<p>A string indicating what service API to use. For a full list
of available services, see get_tiles. Short codes are not accepted by this
function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical: Print out the number of tries required to pull each
tile? Default <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to the National Map API.
These can be used to change default query parameters or as additional options
for the National Map services. See below for more information.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A raw vector.
</p>


<h3>Additional Arguments</h3>

<p>The <code>...</code> argument can be used to pass additional arguments to the
National Map API or to edit the hard-coded defaults used by this function.
Some of the most useful options that can be changed include:
</p>

<ul>
<li> <p><code>bboxSR</code>: The spatial reference of the bounding box given to this function.
If not specified, assumed to be
<a href="https://spatialreference.org/ref/epsg/wgs-84/">4326</a>.
</p>
</li>
<li> <p><code>imageSR</code>: The spatial reference of the image downloaded.
If not specified, assumed to be
<a href="https://spatialreference.org/ref/epsg/wgs-84/">4326</a>.
</p>
</li>
<li>
<p> layers: Which data layers to download. If the National Map API returns data
without specifying layers, this argument isn't used by default. When the
National Map requires this argument, the default value is 0.
</p>
</li>
<li>
<p> format: The image format to be downloaded. Defaults depend on the service
being used and are set to be compatible with get_tiles.
</p>
</li>
</ul>
<p>Pass these arguments to <code>hit_national_map_api</code> like you would any other
argument to substitute new values. Note that <code>...</code> values are never
validated before being used; passing invalid parameters to <code>...</code> will
cause data retrieval to fail.
</p>


<h3>See Also</h3>

<p>get_tiles for a friendlier interface to the National
Map API.
</p>
<p>Other data retrieval functions: 
<code>get_tiles()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
hit_national_map_api(
  bbox = list(
    c(lat = 44.10438, lng = -74.01231),
    c(lat = 44.17633, lng = -73.91224)
  ),
  img_width = 8000,
  img_height = 8000,
  service = "3DEPElevation"
)

## End(Not run)

</code></pre>


</div>