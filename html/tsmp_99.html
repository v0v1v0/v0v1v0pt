<div class="container">

<table style="width: 100%;"><tr>
<td>valmod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Variable Length Motif Discovery</h2>

<h3>Description</h3>

<p>Computes the Matrix Profile and Profile Index for a range of query window sizes
</p>


<h3>Usage</h3>

<pre><code class="language-R">valmod(
  ...,
  window_min,
  window_max,
  heap_size = 50,
  exclusion_zone = getOption("tsmp.exclusion_zone", 1/2),
  lb = TRUE,
  verbose = getOption("tsmp.verbose", 2)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>a <code>matrix</code> or a <code>vector</code>. If a second time series is supplied it will be a join matrix
profile.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window_min</code></td>
<td>
<p>an <code>int</code>. Minimum size of the sliding window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window_max</code></td>
<td>
<p>an <code>int</code>. Maximum size of the sliding window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heap_size</code></td>
<td>
<p>an <code>int</code>. (Default is <code>50</code>). Size of the distance profile heap buffer</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclusion_zone</code></td>
<td>
<p>a <code>numeric</code>. Size of the exclusion zone, based on window size (default is
<code>1/2</code>). See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lb</code></td>
<td>
<p>a <code>logical</code>. (Default is <code>TRUE</code>). If <code>FALSE</code> all window sizes will be calculated using
STOMP instead of pruning. This is just for academic purposes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>an <code>int</code>. See details. (Default is <code>2</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This algorithm uses an exact algorithm based on a novel lower bounding technique, which is
specifically designed for the motif discovery problem. <code>verbose</code> changes how much information
is printed by this function; <code>0</code> means nothing, <code>1</code> means text, <code>2</code> adds the progress bar,
<code>3</code> adds the finish sound. <code>exclusion_zone</code> is used to avoid  trivial matches; if a query data
is provided (join similarity), this parameter is ignored.
</p>
<p>Paper that implements <code>skimp()</code> suggests that window_max / window_min &gt; than 1.24 begins to
weakening pruning in <code>valmod()</code>.
</p>


<h3>Value</h3>

<p>Returns a <code>Valmod</code> object, a <code>list</code> with the matrix profile <code>mp</code>, profile index <code>pi</code>
left and right matrix profile <code>lmp</code>, <code>rmp</code> and profile index <code>lpi</code>, <code>rpi</code>, best window size <code>w</code>
for each index and exclusion zone <code>ez</code>. Additionally: <code>evolution_motif</code> the best motif distance
per window size, and non-length normalized versions of <code>mp</code>, <code>pi</code> and <code>w</code>: <code>mpnn</code>, <code>pinn</code> and <code>wnn</code>.
</p>


<h3>References</h3>


<ul><li>
<p> Linardi M, Zhu Y, Palpanas T, Keogh E. VALMOD: A Suite for Easy and Exact Detection
of Variable Length Motifs in Data Series. In: Proceedings of the 2018 International Conference
on Management of Data - SIGMOD '18. New York, New York, USA: ACM Press; 2018. p. 1757-60.
</p>
</li></ul>
<p>Website: <a href="http://www.cs.ucr.edu/~eamonn/MatrixProfile.html">http://www.cs.ucr.edu/~eamonn/MatrixProfile.html</a>
</p>


<h3>See Also</h3>

<p>Other matrix profile computations: 
<code>mstomp_par()</code>,
<code>scrimp()</code>,
<code>stamp_par()</code>,
<code>stomp_par()</code>,
<code>tsmp()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">mp &lt;- valmod(mp_toy_data$data[1:200, 1], window_min = 30, window_max = 40, verbose = 0)

ref_data &lt;- mp_toy_data$data[, 1]
query_data &lt;- mp_toy_data$data[, 2]
# self similarity
mp &lt;- valmod(ref_data, window_min = 30, window_max = 40)
# join similarity
mp &lt;- valmod(ref_data, query_data, window_min = 30, window_max = 40)


</code></pre>


</div>