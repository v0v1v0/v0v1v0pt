<div class="container">

<table style="width: 100%;"><tr>
<td>betydb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Search for traits from BETYdb</h2>

<h3>Description</h3>

<p>Search for traits from BETYdb
</p>
<p>Get details about a single item from a table
</p>


<h3>Usage</h3>

<pre><code class="language-R">betydb_record(
  id,
  table,
  api_version = NULL,
  betyurl = NULL,
  fmt = NULL,
  key = NULL,
  user = NULL,
  pwd = NULL,
  progress = TRUE,
  ...
)

betydb_trait(
  id,
  genus = NULL,
  species = NULL,
  api_version = NULL,
  betyurl = NULL,
  fmt = "json",
  key = NULL,
  user = NULL,
  pwd = NULL,
  progress = TRUE,
  ...
)

betydb_specie(
  id,
  genus = NULL,
  species = NULL,
  api_version = NULL,
  betyurl = NULL,
  fmt = "json",
  key = NULL,
  user = NULL,
  pwd = NULL,
  progress = TRUE,
  ...
)

betydb_citation(
  id,
  genus = NULL,
  species = NULL,
  api_version = NULL,
  betyurl = NULL,
  fmt = "json",
  key = NULL,
  user = NULL,
  pwd = NULL,
  progress = TRUE,
  ...
)

betydb_site(
  id,
  api_version = NULL,
  betyurl = NULL,
  fmt = "json",
  key = NULL,
  user = NULL,
  pwd = NULL,
  progress = TRUE,
  ...
)

betydb_experiment(
  id,
  api_version = NULL,
  betyurl = NULL,
  fmt = "json",
  key = NULL,
  user = NULL,
  pwd = NULL,
  progress = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>(integer) One or more ids for a species, site, variable, etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table</code></td>
<td>
<p>(character) Name of the database table with which this ID is associated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_version</code></td>
<td>
<p>(character) Which version of the BETY API should we query? One of "v0" or "beta". Default is <code>options("betydb_api_version")</code> if set, otherwise  "v0".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>betyurl</code></td>
<td>
<p>(string) url to target instance of betydb. Default is <code>options("betydb_url")</code> if set, otherwise "https:/www.betydb.org/"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fmt</code></td>
<td>
<p>(character) Format to return data in, one of json, xml, csv. Only json
currently supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>(character) An API key. Use this or user/pwd combo. Save in your
<code>.Rprofile</code> file as <code>options(betydb_key = "your40digitkey")</code>. Optional</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user, pwd</code></td>
<td>
<p>(character) A user name and password. Use a user/pwd combo or an API key.
Save in your <code>.Rprofile</code> file as <code>options(betydb_user = "yournamehere")</code> and <code>options(betydb_pwd = "yourpasswordhere")</code>. Optional</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>show progress bar? default: <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Curl options passed on to <code>GET</code>. Optional</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>genus</code></td>
<td>
<p>(character) A genus name. Optional</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species</code></td>
<td>
<p>(character) A specific epithet. Optional</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>BETYdb includes a primary home page (betydb.org) focused on bioenergy crops as well as a network of harmonized
databases that support and share data among more focused research programs.
</p>
<p>For a list of publicly accessible instances of BETYdb and the urls that can be queried,
see <a href="https://pecan.gitbooks.io/betydb-documentation/content/distributed_betydb.html">https://pecan.gitbooks.io/betydb-documentation/content/distributed_betydb.html</a>
</p>
<p>This package queries plant traits, phenotypes, biomass yields, and ecosystem functions.
It does not currently interface with the workflow and provenance data that support PEcAn Project (pecanproject.org) and TERRA REF (terraref.org) software.
</p>
<p>API documentation: <a href="https://pecan.gitbooks.io/betydb-data-access/content/API.html">https://pecan.gitbooks.io/betydb-data-access/content/API.html</a>
API endpoints are here: <a href="https://www.betydb.org/api/docs">https://www.betydb.org/api/docs</a>
This package currently uses the original 'v0' API by default.
To use a newer version, set <code>api_version</code>.
Newer versions of the API will support database inserts.
</p>


<h3>Authentication</h3>

<p>Defers to use API key first since it's simpler, but if you don't have
an API key, you can supply a username and password.
</p>


<h3>Functions</h3>

<p>Singular functions like <code>betydb_trait</code> accept an id and additional parameters,
and return a list of variable outputs depending on the inputs.
</p>
<p>However, plural functions like <code>betydb_traits</code> accept query parameters, but not
ids, and always return a single data.frame.
</p>
<p><code>betydb_search("Search terms", ...)</code> is a convenience wrapper that passes all further arguments to <code>betydb_query(table = "search", search = "Search terms", ...)</code>. See there for details on possible arguments.
</p>


<h3>References</h3>

<p>API documentation <a href="https://pecan.gitbooks.io/betydb-data-access/content/API.html">https://pecan.gitbooks.io/betydb-data-access/content/API.html</a> and
<a href="https://www.betydb.org/api/docs">https://www.betydb.org/api/docs</a>
</p>


<h3>See Also</h3>

<p><code>betydb_query</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# General Search
out &lt;- betydb_search(query = "Switchgrass Yield")
library("dplyr")
out %&gt;%
 group_by(id) %&gt;%
 summarise(mean_result = mean(as.numeric(mean), na.rm = TRUE)) %&gt;%
 arrange(desc(mean_result))
# Get by ID
## Traits
betydb_trait(id = 10)
## Species
betydb_specie(id = 1)
## Citations
betydb_citation(id = 1)
## Site information
betydb_site(id = 795)

## End(Not run)
</code></pre>


</div>