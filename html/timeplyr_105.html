<div class="container">

<table style="width: 100%;"><tr>
<td>time_id</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Time ID</h2>

<h3>Description</h3>

<p>Generate a time ID that signifies how many time steps away
a time value is from the starting time point or more intuitively,
this is the time passed since
the first time point.
</p>


<h3>Usage</h3>

<pre><code class="language-R">time_id(
  x,
  time_by = NULL,
  g = NULL,
  na_skip = TRUE,
  time_type = getOption("timeplyr.time_type", "auto"),
  shift = 1L
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Time variable. <br>
Can be a <code>Date</code>, <code>POSIXt</code>, <code>numeric</code>, <code>integer</code>, <code>yearmon</code>, or <code>yearqtr</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_by</code></td>
<td>
<p>Time unit. <br>
This signifies the granularity of the time data with which to measure gaps
in the sequence.
If your data is daily for example, supply <code>time_by = "days"</code>.
If weekly, supply <code>time_by = "week"</code>.
Must be one of the three:
</p>

<ul>
<li>
<p> string, specifying either the unit or the number and unit, e.g
<code>time_by = "days"</code> or <code>time_by = "2 weeks"</code>
</p>
</li>
<li>
<p> named list of length one, the unit being the name, and
the number the value of the list, e.g. <code>list("days" = 7)</code>.
For the vectorized time functions, you can supply multiple values,
e.g. <code>list("days" = 1:10)</code>.
</p>
</li>
<li>
<p> Numeric vector. If time_by is a numeric vector and x is not a date/datetime,
then arithmetic is used, e.g <code>time_by = 1</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g</code></td>
<td>
<p>Object used for grouping x.
This can for example be a vector or data frame.
<code>g</code> is passed directly to <code>collapse::GRP()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_skip</code></td>
<td>
<p>Should <code>NA</code> values be skipped? Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_type</code></td>
<td>
<p>If "auto", <code>periods</code> are used for
the time expansion when days, weeks, months or years are specified,
and <code>durations</code> are used otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shift</code></td>
<td>
<p>Value used to shift the time IDs. Typically this is 1 to ensure the
IDs start at 1 but can be 0 or even negative if for example
your time values are going backwards in time.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is heavily inspired by <code>collapse::timeid</code> but differs in 3 ways:
</p>

<ul>
<li>
<p> The time steps need not be the greatest common divisor of successive
differences
</p>
</li>
<li>
<p> The starting time point may not necessarily
be the earliest chronologically and thus <code>time_id</code> can generate negative IDs.
</p>
</li>
<li> <p><code>g</code> can be supplied to calculate IDs by group.
</p>
</li>
</ul>
<p><code>time_id(c(3, 2, 1))</code> is not the same as <code>collapse::timeid(c(3, 2, 1))</code>.
In general <code>time_id(sort(x))</code>
should be equal to  <code>collapse::timeid(sort(x))</code>.
The time difference GCD is always calculated using all the data and not
by-group.
</p>


<h3>Value</h3>

<p>An integer vector the same length as <code>x</code>.
</p>


<h3>See Also</h3>

<p>time_elapsed time_seq_id
</p>


</div>