<div class="container">

<table style="width: 100%;"><tr>
<td>set_reference_dataset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set reference dataset</h2>

<h3>Description</h3>

<p>Change a dataset used as reference for calculating SHAP values.
Reference dataset is initially set with <code>data</code> argument in unifying function.
Usually reference dataset is dataset used to train the model.
Important property of reference dataset is that SHAP values for each observation add up to its deviation from mean prediction for a reference dataset.
</p>


<h3>Usage</h3>

<pre><code class="language-R">set_reference_dataset(unified_model, x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>unified_model</code></td>
<td>
<p>Unified model representation of the model created with a (model).unify function. (<code>model_unified.object</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Reference dataset. A <code>data.frame</code> or <code>matrix</code> with the same columns as in the training set of the model.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>model_unified.object</code>. Unified representation of the model as created with a (model).unify function,
but with changed reference dataset (Cover column containing updated values).
</p>


<h3>See Also</h3>

<p><code>lightgbm.unify</code> for <code>LightGBM models</code>
</p>
<p><code>gbm.unify</code> for <code>GBM models</code>
</p>
<p><code>xgboost.unify</code> for <code>XGBoost models</code>
</p>
<p><code>ranger.unify</code> for <code>ranger models</code>
</p>
<p><code>randomForest.unify</code> for <code>randomForest models</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(gbm)
data &lt;- fifa20$data[colnames(fifa20$data) != 'work_rate']
data['value_eur'] &lt;- fifa20$target
gbm_model &lt;- gbm::gbm(
formula = value_eur ~ .,
  data = data,
  distribution = "laplace",
  n.trees = 20,
  interaction.depth = 4,
  n.cores = 1)
unified &lt;- gbm.unify(gbm_model, data)
set_reference_dataset(unified, data[200:700, ])

</code></pre>


</div>