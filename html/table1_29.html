<div class="container">

<table style="width: 100%;"><tr>
<td>table1</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate an HTML table of descriptive statistics.</h2>

<h3>Description</h3>

<p>Produces a nicely formatted table of descriptive statistics for any number
of numeric or categorical variables, optionally stratified by a factor.
</p>


<h3>Usage</h3>

<pre><code class="language-R">table1(x, ...)

## Default S3 method:
table1(
  x,
  labels,
  groupspan = NULL,
  rowlabelhead = "",
  transpose = FALSE,
  topclass = "Rtable1",
  footnote = NULL,
  caption = NULL,
  render = render.default,
  render.strat = render.strat.default,
  extra.col = NULL,
  extra.col.pos = NULL,
  ...
)

## S3 method for class 'formula'
table1(
  x,
  data,
  overall = "Overall",
  rowlabelhead = "",
  transpose = FALSE,
  droplevels = TRUE,
  topclass = "Rtable1",
  footnote = NULL,
  caption = NULL,
  render = render.default,
  render.strat = render.strat.default,
  extra.col = NULL,
  extra.col.pos = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object, typically a <code>formula</code> or list of <code>data.frame</code>s (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments, passed to <code>render</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>A list containing labels for variables, strata and groups (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groupspan</code></td>
<td>
<p>A vector of integers specifying the number of strata to group together.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rowlabelhead</code></td>
<td>
<p>A heading for the first column of the table, which contains the row labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transpose</code></td>
<td>
<p>Logical. Should the table be transposed (i.e. strata as
rows and variables as columns)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topclass</code></td>
<td>
<p>A class attribute for the outermost (i.e. <code>&lt;table&gt;</code>) tag.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>footnote</code></td>
<td>
<p>A character string to be added as a footnote to the table.
Can also be a vector which results in multiple lines of footnotes.
The default <code>NULL</code> causes the footnote to be omitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption</code></td>
<td>
<p>A character string to be added as a caption to the table.
The default <code>NULL</code> causes the caption to be omitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>render</code></td>
<td>
<p>A function to render the table cells (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>render.strat</code></td>
<td>
<p>A function to render the stratum labels. Accepts 3
arguments: the stratum label, the stratum size (number of observations), and
a flag indicating whether we are in transpose mode or not. See
<code>render.strat.default</code> for an example.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extra.col</code></td>
<td>
<p>An optional names list of functions that produce extra columns in the table (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extra.col.pos</code></td>
<td>
<p>An optional integer vector given the positions of extra columns (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>For the formula interface, a <code>data.frame</code> from which the
variables in <code>x</code> should be taken.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overall</code></td>
<td>
<p>A label for the "Overall" column. Specify <code>NULL</code> or
<code>FALSE</code> to omit the column altogether. By default, the "Overall" column
appears at the right end of the table; to place it on the left instead use a
named <code>character</code> with the name "left", e.g. <code>c(left="Overall")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>droplevels</code></td>
<td>
<p>Should empty factor levels be dropped?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>There are two interfaces, the default, which typically takes a list of
<code>data.frame</code>s for <code>x</code>, and the formula interface. The formula
interface is less flexible, but simpler to use and designed to handle the
most common use cases. It is important to use factors appropriately for
categorical variables (i.e. have the levels labeled properly and in the
desired order). The contents of the table can be customized by providing
user-defined ‘renderer’ functions. Customization of the table appearance is
deliberately not attempted, as this is best accomplished with CSS. To
facilitate this, some tags (such as row labels) are given specific classes
for easy CSS selection.
</p>
<p>For the formula version, the formula is expected to be a one-sided formula,
optionally  with a vertical bar separating the variables that are to appear
as data in the table (as rows) from those used for stratification (i.e.
columns). There can be at most 2 variables for stratification (and only one
if <code>transpose = TRUE</code> is specified), and if 2 are specified, the second
is nested within the first. Stratification variables may not contain missing
values. The formula may contain a dot (".") to refer to "all variables in
<code>data</code> other than those that appear elsewhere in the formula". It is
legitimate to use functions inside the formula to create new variables.
</p>
<p>For the default version, is is expected that <code>x</code> is a named
list of <code>data.frame</code>s, one for each stratum, with names corresponding to
strata labels.
</p>
<p>Extra columns can be added to the table using the <code>extra.col</code> argument.
This is an optional named list of functions, with the names corresponding to
the column headings. Each function will be called once for each variable
included in the table. Each function should expect 2 arguments, the first
being a list, the second the name of the variable. The contents of the
list passed in as the first argument will be the data associated with each
stratum in the table; i.e., one element for each normal column (not extra
column). It is then up the function to compute the value to appear in
the extra column and return it as a string. By default, extra columns will
be placed to the far right, after the normal columns, in the order they are
specified in. This can be overridden, however, using the
<code>extra.col.pos</code> vector of integer positions. For example, to place the
first extra column in position 1 (far left), and the second extra column in
position 3, use <code>extra.col.pos = c(1, 3)</code>; any extra columns that are
not assigned positions will be placed to the far right. A typical use case
for extra columns would be a column of p-values for differences between
strata. Note that this feature is not available when the option
<code>transpose = TRUE</code> is specified.
</p>


<h3>Value</h3>

<p>An object of class "table1".
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>table1(default)</code>: The default interface, where <code>x</code> is a <code>data.frame</code>.
</p>
</li>
<li> <p><code>table1(formula)</code>: The <code>formula</code> interface.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
dat &lt;- expand.grid(id=1:10, sex=c("Male", "Female"), treat=c("Treated", "Placebo"))
dat$age &lt;- runif(nrow(dat), 10, 50)
dat$age[3] &lt;- NA  # Add a missing value
dat$wt &lt;- exp(rnorm(nrow(dat), log(70), 0.2))

label(dat$sex) &lt;- "Sex"
label(dat$age) &lt;- "Age"
label(dat$treat) &lt;- "Treatment Group"
label(dat$wt) &lt;- "Weight"

units(dat$age) &lt;- "years"
units(dat$wt) &lt;- "kg"

# One level of stratification
table1(~ sex + age + wt | treat, data=dat)

# Two levels of stratification (nesting)
table1(~ age + wt | treat*sex, data=dat)

# Switch the order or nesting
table1(~ age + wt | sex*treat, data=dat)

# No stratification
table1(~ treat + sex + age + wt, data=dat)

# Something more complicated

dat$dose &lt;- ifelse(dat$treat=="Placebo", "Placebo",
                   sample(c("5 mg", "10 mg"), nrow(dat), replace=TRUE))
dat$dose &lt;- factor(dat$dose, levels=c("Placebo", "5 mg", "10 mg"))

strata &lt;- c(split(dat, dat$dose),
            list("All treated"=subset(dat, treat=="Treated")),
            list(Overall=dat))

labels &lt;- list(
    variables=list(sex=render.varlabel(dat$sex),
                   age=render.varlabel(dat$age),
                   wt=render.varlabel(dat$wt)),
    groups=list("", "Treated", ""))

my.render.cont &lt;- function(x) {
    with(stats.default(x), 
        sprintf("%0.2f (%0.1f)", MEAN, SD))
}

table1(strata, labels, groupspan=c(1, 3, 1), render.continuous=my.render.cont)

# Transposed table
table1(~ age + wt | treat, data=dat, transpose=TRUE)

</code></pre>


</div>