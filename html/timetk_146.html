<div class="container">

<table style="width: 100%;"><tr>
<td>tk_ts</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Coerce time series objects and tibbles with date/date-time columns to ts.</h2>

<h3>Description</h3>

<p>Coerce time series objects and tibbles with date/date-time columns to ts.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tk_ts(
  data,
  select = NULL,
  start = 1,
  end = numeric(),
  frequency = 1,
  deltat = 1,
  ts.eps = getOption("ts.eps"),
  silent = FALSE
)

tk_ts_(
  data,
  select = NULL,
  start = 1,
  end = numeric(),
  frequency = 1,
  deltat = 1,
  ts.eps = getOption("ts.eps"),
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A time-based tibble or time-series object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>
<p><strong>Applicable to tibbles and data frames only</strong>.
The column or set of columns to be coerced to <code>ts</code> class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>the time of the first observation.  Either a single
number or a vector of two numbers (the second of which is an integer),
which specify a natural time
unit and a (1-based) number of samples into the time unit.  See
the examples for the use of the second form.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>the time of the last observation, specified in the same way
as <code>start</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frequency</code></td>
<td>
<p>the number of observations per unit of time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deltat</code></td>
<td>
<p>the fraction of the sampling period between successive
observations; e.g., 1/12 for monthly data.  Only one of
<code>frequency</code> or <code>deltat</code> should be provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ts.eps</code></td>
<td>
<p>time series comparison tolerance.  Frequencies are
considered equal if their absolute difference is less than
<code>ts.eps</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>Used to toggle printing of messages and warnings.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>tk_ts()</code> is a wrapper for <code>stats::ts()</code> that is designed
to coerce <code>tibble</code> objects that have a "time-base" (meaning the values vary with time)
to <code>ts</code> class objects. There are two main advantages:
</p>

<ol>
<li>
<p> Non-numeric columns get removed instead of being populated by NA's.
</p>
</li>
<li>
<p> The returned <code>ts</code> object retains a "timetk index" (and various other attributes) if detected.
The "timetk index" can be used to coerce between <code>tbl</code>, <code>xts</code>, <code>zoo</code>, and <code>ts</code> data types.
</p>
</li>
</ol>
<p>The <code>select</code> argument is used to select subsets
of columns from the incoming data.frame.
Only columns containing numeric data are coerced. <em>At a minimum, a <code>frequency</code>
and a <code>start</code> should be specified.</em>
</p>
<p>For non-data.frame object classes (e.g. <code>xts</code>, <code>zoo</code>, <code>timeSeries</code>, etc) the objects are coerced
using <code>stats::ts()</code>.
</p>
<p><code>tk_ts_</code> is a nonstandard evaluation method.
</p>


<h3>Value</h3>

<p>Returns a <code>ts</code> object.
</p>


<h3>See Also</h3>

<p><code>tk_index()</code>, <code>tk_tbl()</code>, <code>tk_xts()</code>, <code>tk_zoo()</code>, <code>tk_zooreg()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)

### tibble to ts: Comparison between tk_ts() and stats::ts()
data_tbl &lt;- tibble::tibble(
    date = seq.Date(as.Date("2016-01-01"), by = 1, length.out = 5),
    x    = rep("chr values", 5),
    y    = cumsum(1:5),
    z    = cumsum(11:15) * rnorm(1))

# as.ts: Character columns introduce NA's; Result does not retain index
stats::ts(data_tbl[,-1], start = 2016)

# tk_ts: Only numeric columns get coerced; Result retains index in numeric format
data_ts &lt;- tk_ts(data_tbl, start = 2016)
data_ts

# timetk index
tk_index(data_ts, timetk_idx = FALSE)   # Regularized index returned
tk_index(data_ts, timetk_idx = TRUE)    # Original date index returned

# Coerce back to tibble
data_ts %&gt;% tk_tbl(timetk_idx = TRUE)


### Using select
tk_ts(data_tbl, select = y)


### NSE: Enables programming
select   &lt;- "y"
tk_ts_(data_tbl, select = select)

</code></pre>


</div>