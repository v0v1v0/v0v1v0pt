<div class="container">

<table style="width: 100%;"><tr>
<td>tar_unversion</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Delete cloud object version IDs from local metadata.</h2>

<h3>Description</h3>

<p>Delete version IDs from local metadata.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tar_unversion(
  names = tidyselect::everything(),
  store = targets::tar_config_get("store")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>Tidyselect expression to identify the targets to drop
version IDs.
The object supplied to <code>names</code> should be <code>NULL</code> or a
<code>tidyselect</code> expression like <code>any_of()</code> or <code>starts_with()</code>
from <code>tidyselect</code> itself, or <code>tar_described_as()</code> to select target names
based on their descriptions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>store</code></td>
<td>
<p>Character of length 1, path to the
<code>targets</code> data store. Defaults to <code>tar_config_get("store")</code>,
which in turn defaults to <code style="white-space: pre;">⁠_targets/⁠</code>.
When you set this argument, the value of <code>tar_config_get("store")</code>
is temporarily changed for the current function call.
See <code>tar_config_get()</code> and <code>tar_config_set()</code> for details
about how to set the data store path persistently
for a project.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>NULL</code> (invisibly).
</p>


<h3>Cloud target data versioning</h3>

<p>Some buckets in Amazon S3 or Google Cloud Storage are "versioned",
which means they track historical versions of each data object.
If you use <code>targets</code> with cloud storage
(<a href="https://books.ropensci.org/targets/cloud-storage.html">https://books.ropensci.org/targets/cloud-storage.html</a>)
and versioning is turned on, then <code>targets</code> will record each
version of each target in its metadata.
</p>
<p>Functions like <code>tar_read()</code>
and <code>tar_load()</code> load the version recorded in the local metadata,
which may not be the same as the "current" version of the
object in the bucket. Likewise, functions <code>tar_delete()</code>
and <code>tar_destroy()</code> only remove
the version ID of each target as recorded in the local
metadata.
</p>
<p>If you want to interact with the <em>latest</em> version of an object
instead of the version ID recorded in the local metadata,
then you will need to delete the object from the metadata.
</p>

<ol>
<li>
<p> Make sure your local copy of the metadata is current and
up to date. You may need to run <code>tar_meta_download()</code> or
<code>tar_meta_sync()</code> first.
</p>
</li>
<li>
<p> Run <code>tar_unversion()</code> to remove the recorded version IDs of
your targets in the local metadata.
</p>
</li>
<li>
<p> With the version IDs gone from the local metadata,
functions like <code>tar_read()</code> and <code>tar_destroy()</code> will use the
<em>latest</em> version of each target data object.
</p>
</li>
<li>
<p> Optional: to back up the local metadata file with the version IDs
deleted, use <code>tar_meta_upload()</code>.
</p>
</li>
</ol>
<h3>See Also</h3>

<p>Other clean: 
<code>tar_delete()</code>,
<code>tar_destroy()</code>,
<code>tar_invalidate()</code>,
<code>tar_prune()</code>,
<code>tar_prune_list()</code>
</p>


</div>