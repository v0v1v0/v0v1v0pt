<div class="container">

<table style="width: 100%;"><tr>
<td>gof</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Goodness of fit based on left-truncated regression model</h2>

<h3>Description</h3>

<p>Provide goodness-of-fit diagnostics for the transformation model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gof(x, B = 200, P = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>trSurvfit</code> returned by the <code>trSurvfit()</code> or the <code>trReg()</code> function or a survival object returned by the <code>Surv()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>an integer value specifies the bootstrap size for the left-truncated regression model. A value greater than 2 is required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>P</code></td>
<td>
<p>an integer value specifies number of breakpoints to test the linearity of the transformation model.
When <code>P &gt; 0</code>, <code class="reqn">P</code> breakpoints divides the event times into <code class="reqn">P</code> equal spaced segments.
Piecewise linear function constructed from those segments of event times  are used in the left-truncated regression model,
and the overall significance testing if the coefficient estimates are equal is reported. 
Default value for <code>P</code> is 1. See <b>Details</b> for a description of the goodness of fit procedure.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The googness of fit assessment of the transformation model focus on the structure of the
transformation model, which has the form:
</p>
<p style="text-align: center;"><code class="reqn">h(U) = (1 + a)^{-1} \times (h(T) + ah(X)),</code>
</p>

<p>where <code class="reqn">T</code> is the truncation time, <code class="reqn">X</code> is the observed failure time,
<code class="reqn">U</code> is the transformed truncation time that is quasi-independent from <code class="reqn">X</code> and
<code class="reqn">h(\cdot)</code> is a monotonic transformation function.
With the condition, <code class="reqn">T &lt; X</code>, assumed to be satisfied,
the structure of the transformation model implies
</p>
<p style="text-align: center;"><code class="reqn">X - T = -(1 + a) E(U) + (1 + a) X - (1 + a) \times [U - E(U)] := \beta_0 + \beta_1X + \epsilon.</code>
</p>

<p>The regression estimates can be obtained by the left-truncated regression model (Karlsson and Lindmark, 2014).
To evaluate the goodness of fit of the transformation model,
the <code>gof()</code> function directly test the inearity in <code class="reqn">X</code> by considering larger model that are nonlinear in <code class="reqn">X</code>.
In particular, we expand the covariates <code class="reqn">X</code> to <code>P</code> piecewise linearity terms and test for equality of the associated coefficients.
</p>


<h3>Value</h3>

<p>A list containing the following elements
</p>

<dl>
<dt>coefficients</dt>
<dd>
<p>the regression coefficients of the left-truncated regression model.</p>
</dd>
<dt>pval</dt>
<dd>
<p>the p-value for the equality of the piecewise linearity terms in the expanded model. See <b>Details</b>.</p>
</dd>
</dl>
<h3>References</h3>

<p>Karlsson, M., Lindmark, A. (2014) truncSP: An R Package for Estimation of Semi-Parametric Truncated Linear Regression Models, <em>Journal of Statistical Software</em>, <b>57</b> (14), pp 1â€“19.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(channing, package = "boot")
chan &lt;- subset(channing, entry &lt; exit)
fit &lt;- trReg(Surv(entry, exit, cens) ~ sex, data = chan)
gof(fit, B = 10)
</code></pre>


</div>