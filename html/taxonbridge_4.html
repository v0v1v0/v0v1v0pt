<div class="container">

<table style="width: 100%;"><tr>
<td>download_ncbi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download the NCBI taxonomy</h2>

<h3>Description</h3>

<p>Download the NCBI taxonomy
</p>


<h3>Usage</h3>

<pre><code class="language-R">download_ncbi(taxonkitpath = NA)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>taxonkitpath</code></td>
<td>
<p>A string containing the full path to where <code>Taxonkit</code> is installed (optional).</p>
</td>
</tr></table>
<h3>Details</h3>

<p>This method downloads a NCBI taxonomy archive file to a temporary directory,
extracts four files (<code>nodes.dmp</code>, <code>names.dmp</code>, <code>merged.dmp</code> and <code>delnodes.dmp</code>)
from the downloaded archive file, and then removes the archive file. Further parsing of
these four files must be carried out with Taxonkit (<a href="https://bioinf.shenwei.me/taxonkit/download/">https://bioinf.shenwei.me/taxonkit/download/</a>),
either automatically or manually. If the path to a Taxonkit installation is supplied, Taxonkit is
called and the location of the four files is passed to Taxonkit as an argument for automatic parsing.
Taxonkit output is saved in the same temporary folder in a file called <code>All.lineages.tsv.gz</code>.
If the path to Taxonkit is not supplied, parsing should be carried out manually using the command:
<code style="white-space: pre;">⁠taxonkit list --data-dir=path/to/downloaded/files --ids 1 | taxonkit lineage --show-lineage-taxids --show-lineage-ranks --show-rank --show-name --data-dir=path/to/downloaded/files | taxonkit reformat --taxid-field 1 --data-dir=path/to/downloaded/files -o All.lineages.tsv.gz⁠</code>
</p>


<h3>Value</h3>

<p>A character vector containing paths to the relevant downloaded and unzipped NCBI data dump files, or
if the <code>taxonkitpath</code> parameter was set, the path to <code>All.lineages.tsv.gz</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: download_ncbi()
## Not run: download_ncbi(taxonkitpath = "/home/usr/bin/taxonkit")
</code></pre>


</div>