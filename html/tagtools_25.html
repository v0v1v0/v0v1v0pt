<div class="container">

<table style="width: 100%;"><tr>
<td>dive_stats</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute summary statistics for dives or flights</h2>

<h3>Description</h3>

<p>Given a depth/altitude profile and a series of dive/flight start and end times,
compute summary dive statistics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dive_stats(
  P,
  X = NULL,
  dive_cues,
  sampling_rate = NULL,
  prop = 0.85,
  angular = FALSE,
  X_name = NULL,
  na.rm = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>P</code></td>
<td>
<p>Depth data. A vector (or one-column matrix), or a tag sensor data list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>(optional) Another data stream (as a vector (or a one-column matrix) or a tag sensor data list) for which to compute mean and variability. If <code>angular</code> is TRUE, interpreted as angular data (for example pitch, roll, or heading) and means and variances are computed accordingly.
The unit of measure must be radians (NOT degrees). Currently, <code>X</code> must be regularly sampled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dive_cues</code></td>
<td>
<p>A two-column data frame or matrix with dive/flight start times in the first column and dive/flight end times in the second. May be obtained from <code>find_dives</code>. Units should be seconds since start of tag recording.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampling_rate</code></td>
<td>
<p>(optional and ignored if <code>P</code> or <code>X</code> are tag sensor data lists) Sampling rate of <code>P</code> (and <code>X</code>, if <code>X</code> is given). If omitted, then input data must be sensor data lists. If one value is given and both <code>P</code> and <code>X</code> are input, they are assumed to have the same sampling rate. If <code>P</code> and <code>X</code> have different sampling rates, then this input can have two elements (first for <code>P</code>, second for <code>X</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop</code></td>
<td>
<p>The proportion of the maximal excursion to use for defining the "destination" phase of a dive or flight. For example, if <code>prop</code> is 0.85 (the default), then the destination phase lasts from the first to the last time depth/altitude exceeds 0.85 times the within-dive maximum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>angular</code></td>
<td>
<p>Is X angular data? Defaults to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X_name</code></td>
<td>
<p>A short name to use for X variable in the output data frame. For example, if X is pitch data, use X_name='pitch' to get outputs column names like mean_pitch, etc. Defaults to 'angle' for angular data and 'aux' for non-angular data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>Logical, default is TRUE. If TRUE, then returned mean values ignore missing values, computing an average over all non-missing observations.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In addition to the maximum excursion and duration, <code>dive_stats</code> divides each excursion into three phases:
"to" (descent for dives, ascent for flights), "from" (ascent for dives, descent for flights), and "destination".
The "destination" (bottom for dives and top for flights)
phase of the excursion is identified using a "proportion of maximum depth/altitude" method,
whereby for example the bottom phase of a dive lasts from the first to the last time the depth exceeds a stated proportion of the maximum depth.
Average vertical velocity is computed for the to and from phases using a simple method: total depth/altitude change divided by total time.
If an angular data variable is also supplied (for example, pitch, roll or heading),
then the circular mean (computed via <code>circ.mean</code>) and variance (computed via <code>circ.disp</code> and reporting the <code>var</code> output)
are also computed for each dive phase and the dive as a whole.
</p>


<h3>Value</h3>

<p>A data frame with one row for each dive/flight and columns as detailed below. All times are in seconds, and rates in units of x/sec where x is the units of <code>P</code>.
</p>

<ul>
<li> <p><code>max</code>  The maximum depth or altitude
</p>
</li>
<li> <p><code>st</code> start time of dive (seconds) - from input dive_cues
</p>
</li>
<li> <p><code>et</code> end time of dive (seconds) - from input dive_cues
</p>
</li>
<li> <p><code>dur</code>  The duration of the excursion
</p>
</li>
<li> <p><code>dest_st</code>  The start time of the destination phase in seconds since start of tag recording (which is also the end time of to phase)
</p>
</li>
<li> <p><code>dest_et</code>  The end time of the destination phase in seconds since start of tag recording (which is also the start of the from phase).
</p>
</li>
<li> <p><code>dest_dur</code>  The duration in seconds of destination phase
</p>
</li>
<li> <p><code>to_dur</code>  The duration in seconds of to phase
</p>
</li>
<li> <p><code>from_dur</code>  The duration in seconds of from phase
</p>
</li>
<li> <p><code>mean_angle</code>  If angular=TRUE and X is input, the mean angle for the entire excursion. Values for each phase are also provided in columns <code>mean_to_angle</code>, <code>mean_dest_angle</code>, and <code>mean_from_angle</code>.
</p>
</li>
<li> <p><code>angle_var</code>  If angular=TRUE and X is input, the angular variance for the entire excursion. Values for each phase are also provided individually in columns <code>to_angle_var</code>, <code>dest_angle_var</code>, and <code>from_angle_var</code>.
</p>
</li>
<li> <p><code>mean_aux</code>  If angular=FALSE and X is input, the mean value of X for the entire excursion. Values for each phase are also provided in columns <code>mean_to_aux</code>, <code>mean_dest_aux</code>, and <code>mean_from_aux</code>.
</p>
</li>
<li> <p><code>aux_sd</code>  If angular=FALSE and X is input, the standard deviation of X for the entire excursion. Values for each phase are also provided individually in columns <code>to_aux_sd</code>, <code>dest_aux_sd</code>, and <code>from_aux_sd</code>.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>find_dives</code>
</p>


</div>