<div class="container">

<table style="width: 100%;"><tr>
<td>tf_switch</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>tf.switch_case</h2>

<h3>Description</h3>

<p>tf.switch_case
</p>


<h3>Usage</h3>

<pre><code class="language-R">tf_switch(
  branch_index,
  ...,
  branch_fns = list(...),
  default = NULL,
  name = "switch_case"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>branch_index</code></td>
<td>
<p>an integer tensor</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>..., branch_fns</code></td>
<td>
<p>a list of function bodies specified with a <code>~</code>,
optionally supplied with a branch index on the left hand side. See examples</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default</code></td>
<td>
<p>A function defined with a <code>~</code>, or something coercible via
'as.function()â€œ</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>a string, passed on to <code>tf.switch_case()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The result from <code>tf.switch_case()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
tf_pow &lt;- tf_function(function(x, pow) {
   tf_switch(pow,
   0 ~ 1,
   1 ~ x,
   2 ~ x * x,
   3 ~ x * x * x,
   default = ~ -1)
})

# can optionally also omit the left hand side int, in which case the order of
# the functions is used.
tf_pow &lt;- function(x, pow) {
  tf_switch(pow,
            ~ 1,
            ~ x,
            ~ x * x,
            ~ x * x * x,
            default = ~ -1)
}

# supply just some of the ints to override the default order
tf_pow &lt;- function(x, pow) {
  tf_switch(pow,
            3 ~ x * x * x,
            2 ~ x * x,
            ~ 1,
            ~ x,
            default = ~ -1)
}

# A slightly less contrived example:
tf_norm &lt;- tf_function(function(x, l) {
  tf_switch(l,
            0 ~ tf$reduce_sum(tf$cast(x != 0, tf$float32)), # L0 norm
            1 ~ tf$reduce_sum(tf$abs(x)),                   # L1 norm
            2 ~ tf$sqrt(tf$reduce_sum(tf$square(x))),       # L2 norm
            default = ~ tf$reduce_max(tf$abs(x)))         # L-infinity norm
})

## End(Not run)
</code></pre>


</div>