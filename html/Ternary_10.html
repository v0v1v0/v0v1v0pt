<div class="container">

<table style="width: 100%;"><tr>
<td>ColourTernary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Colour a ternary plot according to the output of a function</h2>

<h3>Description</h3>

<p>Colour a ternary plot according to the output of a function
</p>


<h3>Usage</h3>

<pre><code class="language-R">ColourTernary(
  values,
  spectrum = hcl.colors(256L, palette = "viridis", alpha = 0.6),
  resolution = sqrt(ncol(values)),
  direction = getOption("ternDirection", 1L),
  legend,
  ...
)

ColorTernary(
  values,
  spectrum = hcl.colors(256L, palette = "viridis", alpha = 0.6),
  resolution = sqrt(ncol(values)),
  direction = getOption("ternDirection", 1L),
  legend,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>Numeric matrix, possibly created using
<code>TernaryPointValues()</code>, with four named rows:
<code>x</code>, <code>y</code>, cartesian coordinates of each triangle centre;
<code>z</code>, value associated with that coordinate;
<code>down</code>, triangle direction: <code>0</code> = point upwards; <code>1</code> = point downwards.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spectrum</code></td>
<td>
<p>Vector of colours to use as a spectrum, or <code>NULL</code> to use
<code>values["z", ]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution</code></td>
<td>
<p>The number of triangles whose base should lie on the longest
axis of the triangle.  Higher numbers will result in smaller subdivisions and smoother
colour gradients, but at a computational cost.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>(optional) Integer specifying the direction that the
current ternary plot should point: 1, up; 2, right; 3, down; 4, left.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>Character vector specifying annotations for colour scale.
If not provided, no colour legend is displayed.
Specify <code>TRUE</code> to generate automatically, or a single integer to generate
<code>legend</code> annotations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to
<code>SpectrumLegend()</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p><a href="https://orcid.org/0000-0001-5660-1727">Martin R. Smith</a>
(<a href="mailto:martin.smith@durham.ac.uk">martin.smith@durham.ac.uk</a>)
</p>


<h3>See Also</h3>

<p>Fine control over continuous legends:
<code>PlotTools::SpectrumLegend()</code>
</p>
<p>Other contour plotting functions: 
<code>TernaryContour()</code>,
<code>TernaryDensityContour()</code>,
<code>TernaryPointValues()</code>
</p>
<p>Other functions for colouring and shading: 
<code>TernaryTiles()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">TernaryPlot(alab = "a", blab = "b", clab = "c")

FunctionToContour &lt;- function (a, b, c) {
  a - c + (4 * a * b) + (27 * a * b * c)
}

values &lt;- TernaryPointValues(FunctionToContour, resolution = 24L)
ColourTernary(
  values,
  x = "topleft",
  bty = "n", # No box
  legend = signif(seq(max(values), min(values), length.out = 4), 3)
)
TernaryContour(FunctionToContour, resolution = 36L)


TernaryPlot()
values &lt;- TernaryPointValues(rgb, resolution = 20)
ColourTernary(values, spectrum = NULL)

# Create a helper function to place white centrally:
rgbWhite &lt;- function (r, g, b) {
  highest &lt;- apply(rbind(r, g, b), 2L, max)
  rgb(r/highest, g/highest, b/highest)
}

TernaryPlot()
values &lt;- TernaryPointValues(rgbWhite, resolution = 20)
ColourTernary(values, spectrum = NULL)


</code></pre>


</div>