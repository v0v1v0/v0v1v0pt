<div class="container">

<table style="width: 100%;"><tr>
<td>lsh_probability</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Probability that a candidate pair will be detected with LSH</h2>

<h3>Description</h3>

<p>Functions to help choose the correct parameters for the <code>lsh</code> and
<code>minhash_generator</code> functions. Use <code>lsh_threshold</code> to
determine the minimum Jaccard similarity for two documents for them to likely
be considered a match. Use <code>lsh_probability</code> to determine the
probability that a pair of documents with a known Jaccard similarity will be
detected.
</p>


<h3>Usage</h3>

<pre><code class="language-R">lsh_probability(h, b, s)

lsh_threshold(h, b)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>The number of minhash signatures.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>The number of LSH bands.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>The Jaccard similarity.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Locality sensitive hashing returns a list of possible matches for
similar documents. How likely is it that a pair of documents will be detected
as a possible match? If <code>h</code> is the number of minhash signatures,
<code>b</code> is the number of bands in the LSH function (implying then that the
number of rows <code>r = h / b</code>), and <code>s</code> is the actual Jaccard
similarity of the two documents, then the probability <code>p</code> that the two
documents will be marked as a candidate pair is given by this equation.
</p>
<p style="text-align: center;"><code class="reqn">p = 1 - (1 - s^{r})^{b}</code>
</p>

<p>According to <a href="http://infolab.stanford.edu/~ullman/mmds/book.pdf">MMDS</a>,
that equation approximates an S-curve. This implies that there is a threshold
(<code>t</code>) for <code>s</code> approximated by this equation.
</p>
<p style="text-align: center;"><code class="reqn">t = \frac{1}{b}^{\frac{1}{r}}</code>
</p>



<h3>References</h3>

<p>Jure Leskovec, Anand Rajaraman, and Jeff Ullman,
<a href="http://www.mmds.org/#book"><em>Mining of Massive Datasets</em></a>
(Cambridge University Press, 2011), ch. 3.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Threshold for default values
lsh_threshold(h = 200, b = 40)

# Probability for varying values of s
lsh_probability(h = 200, b = 40, s = .25)
lsh_probability(h = 200, b = 40, s = .50)
lsh_probability(h = 200, b = 40, s = .75)
</code></pre>


</div>