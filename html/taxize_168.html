<div class="container">

<table style="width: 100%;"><tr>
<td>gbif_downstream</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Retrieve all taxonomic names downstream in hierarchy for GBIF</h2>

<h3>Description</h3>

<p>Retrieve all taxonomic names downstream in hierarchy for GBIF
</p>


<h3>Usage</h3>

<pre><code class="language-R">gbif_downstream(
  id,
  downto,
  intermediate = FALSE,
  limit = 100,
  start = NULL,
  key = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A taxonomic serial number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>downto</code></td>
<td>
<p>The taxonomic level you want to go down to. See examples below.
The taxonomic level IS case sensitive, and you do have to spell it
correctly. See <code>data(rank_ref)</code> for spelling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intermediate</code></td>
<td>
<p>(logical) If TRUE, return a list of length two with
target taxon rank names, with additional list of data.frame's of
intermediate taxonomic groups. Default: FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit</code></td>
<td>
<p>Number of records to return. default: 100. max: 1000. use in
combination with the <code>start</code> parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>Record number to start at. default: 0. use in combination
with the <code>limit</code> parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>Deprecated, see <code>id</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further args passed on to <code>gbif_name_usage()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Sometimes records don't have a <code>canonicalName</code> entry which is
what we look for. In that case we grab the <code>scientificName</code> entry.
You can see the type of name colleceted in the column <code>name_type</code>
</p>


<h3>Value</h3>

<p>data.frame of taxonomic information downstream to family from e.g.,
Order, Class, etc., or if <code>intermediated=TRUE</code>, list of length two,
with target taxon rank names, and intermediate names.
</p>


<h3>Author(s)</h3>

<p>Scott Chamberlain
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## the plant class Bangiophyceae
gbif_downstream(id = 198, downto="genus")
gbif_downstream(id = 198, downto="genus", intermediate=TRUE)

# families downstream from the family Strepsiptera (twisted wing parasites)
gbif_downstream(id = 1227, "family")
## here, intermediate leads to the same result as the target
gbif_downstream(id = 1227, "family", intermediate=TRUE)

if (interactive()) {
# Lepidoptera
gbif_downstream(id = 797, "family")

# get species downstream from the genus Ursus
gbif_downstream(id = 2433406, "species")

# get tribes down from the family Apidae
gbif_downstream(id = 7799978, downto="species")
gbif_downstream(id = 7799978, downto="species", intermediate=TRUE)

# names that don't have canonicalname entries for some results
# Myosotis: key 2925668
key &lt;- 2925668
res &lt;- gbif_downstream(key, downto = "species")
res2 &lt;- downstream(key, db = "gbif", downto = "species")

# Pagination
# GBIF limits queries to a maximum of 1000 records per request, so if
# there's more than 1000, use the start parameter
# Piper, taxonKey = 3075433
x1 &lt;- gbif_downstream(id = 3075433, downto = "species", limit=1000)
x2 &lt;- gbif_downstream(id = 3075433, downto = "species", limit=1000,
  start=1000)
x3 &lt;- gbif_downstream(id = 3075433, downto = "species", limit=1000,
  start=2000)
x4 &lt;- gbif_downstream(id = 3075433, downto = "species", limit=1000,
  start=3000)
rbind(x1, x2, x3, x4)
}

## End(Not run)
</code></pre>


</div>