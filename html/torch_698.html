<div class="container">

<table style="width: 100%;"><tr>
<td>torch_stft</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stft</h2>

<h3>Description</h3>

<p>Stft
</p>


<h3>Usage</h3>

<pre><code class="language-R">torch_stft(
  input,
  n_fft,
  hop_length = NULL,
  win_length = NULL,
  window = NULL,
  center = TRUE,
  pad_mode = "reflect",
  normalized = FALSE,
  onesided = NULL,
  return_complex = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>(Tensor) the input tensor</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_fft</code></td>
<td>
<p>(int) size of Fourier transform</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hop_length</code></td>
<td>
<p>(int, optional) the distance between neighboring sliding window
frames. Default: <code>NULL</code> (treated as equal to <code>floor(n_fft / 4)</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>win_length</code></td>
<td>
<p>(int, optional) the size of window frame and STFT filter.
Default: <code>NULL</code>  (treated as equal to <code>n_fft</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p>(Tensor, optional) the optional window function.
Default: <code>NULL</code> (treated as window of all <code class="reqn">1</code> s)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>(bool, optional) whether to pad <code>input</code> on both sides so
that the <code class="reqn">t</code>-th frame is centered at time <code class="reqn">t \times \mbox{hop\_length}</code>.
Default: <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pad_mode</code></td>
<td>
<p>(string, optional) controls the padding method used when
<code>center</code> is <code>TRUE</code>. Default: <code>"reflect"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalized</code></td>
<td>
<p>(bool, optional) controls whether to return the normalized
STFT results Default: <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>onesided</code></td>
<td>
<p>(bool, optional) controls whether to return half of results to
avoid redundancy Default: <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_complex</code></td>
<td>
<p>(bool, optional) controls whether to return complex tensors
or not.</p>
</td>
</tr>
</table>
<h3>Short-time Fourier transform (STFT). </h3>

<p>Short-time Fourier transform (STFT).
</p>
<div class="sourceCode"><pre>Ignoring the optional batch dimension, this method computes the following
expression:
</pre></div>
<p style="text-align: center;"><code class="reqn">
        X[m, \omega] = \sum_{k = 0}^{\mbox{win\_length-1}}%
                            \mbox{window}[k]\ \mbox{input}[m \times \mbox{hop\_length} + k]\ %
                            \exp\left(- j \frac{2 \pi \cdot \omega k}{\mbox{win\_length}}\right),
</code>
</p>

<p>where <code class="reqn">m</code> is the index of the sliding window, and <code class="reqn">\omega</code> is
the frequency that <code class="reqn">0 \leq \omega &lt; \mbox{n\_fft}</code>. When
<code>onesided</code> is the default value <code>TRUE</code>,
</p>
<div class="sourceCode"><pre>* `input` must be either a 1-D time sequence or a 2-D batch of time
  sequences.

* If `hop_length` is `NULL` (default), it is treated as equal to
  `floor(n_fft / 4)`.

* If `win_length` is `NULL` (default), it is treated as equal to
  `n_fft`.

* `window` can be a 1-D tensor of size `win_length`, e.g., from
  `torch_hann_window`. If `window` is `NULL` (default), it is
  treated as if having \eqn{1} everywhere in the window. If
  \eqn{\mbox{win\_length} &lt; \mbox{n\_fft}}, `window` will be padded on
  both sides to length `n_fft` before being applied.

* If `center` is `TRUE` (default), `input` will be padded on
  both sides so that the \eqn{t}-th frame is centered at time
  \eqn{t \times \mbox{hop\_length}}. Otherwise, the \eqn{t}-th frame
  begins at time  \eqn{t \times \mbox{hop\_length}}.

* `pad_mode` determines the padding method used on `input` when
  `center` is `TRUE`. See `torch_nn.functional.pad` for
  all available options. Default is `"reflect"`.

* If `onesided` is `TRUE` (default), only values for \eqn{\omega}
  in \eqn{\left[0, 1, 2, \dots, \left\lfloor \frac{\mbox{n\_fft}}{2} \right\rfloor + 1\right]}
  are returned because the real-to-complex Fourier transform satisfies the
  conjugate symmetry, i.e., \eqn{X[m, \omega] = X[m, \mbox{n\_fft} - \omega]^*}.

* If `normalized` is `TRUE` (default is `FALSE`), the function
  returns the normalized STFT results, i.e., multiplied by \eqn{(\mbox{frame\_length})^{-0.5}}.

Returns the real and the imaginary parts together as one tensor of size
\eqn{(* \times N \times T \times 2)}, where \eqn{*} is the optional
batch size of `input`, \eqn{N} is the number of frequencies where
STFT is applied, \eqn{T} is the total number of frames used, and each pair
in the last dimension represents a complex number as the real part and the
imaginary part.
</pre></div>


<h3>Warning</h3>

<p>This function changed signature at version 0.4.1. Calling with the
previous signature may cause error or return incorrect result.
</p>


</div>