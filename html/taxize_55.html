<div class="container">

<table style="width: 100%;"><tr>
<td>get_nbnid</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get the UK National Biodiversity Network ID from taxonomic names.</h2>

<h3>Description</h3>

<p>Get the UK National Biodiversity Network ID from taxonomic names.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_nbnid(
  sci_com,
  ask = TRUE,
  messages = TRUE,
  rec_only = FALSE,
  rank = NULL,
  rows = NA,
  name = NULL,
  ...
)

as.nbnid(x, check = TRUE)

## S3 method for class 'nbnid'
as.nbnid(x, check = TRUE)

## S3 method for class 'character'
as.nbnid(x, check = TRUE)

## S3 method for class 'list'
as.nbnid(x, check = TRUE)

## S3 method for class 'data.frame'
as.nbnid(x, check = TRUE)

## S3 method for class 'nbnid'
as.data.frame(x, ...)

get_nbnid_(
  sci_com,
  messages = TRUE,
  rec_only = FALSE,
  rank = NULL,
  rows = NA,
  name = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sci_com</code></td>
<td>
<p>character; a vector of common or scientific names. Or, a
<code>taxon_state</code> object (see taxon-state)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ask</code></td>
<td>
<p>logical; should get_nbnid be run in interactive mode?
If TRUE and more than one ID is found for the species, the user is asked for
input. If FALSE NA is returned for multiple matches.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>messages</code></td>
<td>
<p>logical; If TRUE the actual taxon queried is printed on the
console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rec_only</code></td>
<td>
<p>(logical) If <code>TRUE</code> ids of recommended names are
returned (i.e. synonyms are removed). Defaults to <code>FALSE</code>. Remember,
the id of a synonym is a taxa with 'recommended' name status.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rank</code></td>
<td>
<p>(character) If given, we attempt to limit the results to those
taxa with the matching rank.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>
<p>numeric; Any number from 1 to infinity. If the default NA, all
rows are considered. Note that this function still only gives back a nbnid
class object with one to many identifiers. See
<code>get_nbnid_()</code> to get back all, or a subset, of the raw
data that you are presented during the ask process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>Deprecated, see <code>sci_com</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further args passed on to <code>nbn_search</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Input to <code>as.nbnid()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>logical; Check if ID matches any existing on the DB, only
used in <code>as.nbnid()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector of taxonomic identifiers as an S3 class.
If a taxon is not found an <code>NA</code> is given. If more than one identifier
is found the function asks for user input if <code>ask = TRUE</code>, otherwise
returns <code>NA</code>. If <code>ask=FALSE</code> and <code>rows</code> does not equal
<code>NA</code>, then a data.frame is given back, but not of the uid class, which
you can't pass on to other functions as you normally can.
</p>
<p>See <code>get_id_details</code> for further details including
attributes and exceptions
</p>
<p>an object of class nbnid, a light wrapper around a character
string that is the taxonomic ID - includes attributes with relavant
metadata
</p>


<h3>Author(s)</h3>

<p>Scott Chamberlain,
</p>


<h3>References</h3>

<p>https://api.nbnatlas.org/
</p>


<h3>See Also</h3>

<p><code>classification()</code>
</p>
<p>Other taxonomic-ids: 
<code>get_boldid()</code>,
<code>get_eolid()</code>,
<code>get_gbifid()</code>,
<code>get_ids()</code>,
<code>get_iucn()</code>,
<code>get_natservid()</code>,
<code>get_pow()</code>,
<code>get_tolid()</code>,
<code>get_tpsid()</code>,
<code>get_tsn()</code>,
<code>get_uid()</code>,
<code>get_wiki()</code>,
<code>get_wormsid()</code>
</p>
<p>Other nbn: 
<code>nbn_classification()</code>,
<code>nbn_search()</code>,
<code>nbn_synonyms()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
get_nbnid(sci_com='Poa annua')
get_nbnid(sci_com='Poa annua', rec_only=TRUE)
get_nbnid(sci_com='Poa annua', rank='Species')
get_nbnid(sci_com='Poa annua', rec_only=TRUE, rank='Species')
get_nbnid(sci_com='Pinus contorta')

# The NBN service handles common names too
get_nbnid(sci_com='red-winged blackbird')

# specify rows to limit choices available
get_nbnid('Poa ann')
get_nbnid('Poa ann', rows=1)
get_nbnid('Poa ann', rows=25)
get_nbnid('Poa ann', rows=1:2)

# When not found
get_nbnid(sci_com="uaudnadndj")
get_nbnid(c("Zootoca vivipara", "uaudnadndj"))
get_nbnid(c("Zootoca vivipara","Chironomus riparius", "uaudnadndj"))

# Convert an nbnid without class information to a nbnid class
as.nbnid(get_nbnid("Zootoca vivipara")) # already a nbnid, returns the same
as.nbnid(get_nbnid(c("Zootoca vivipara","Pinus contorta"))) # same
as.nbnid('NHMSYS0001706186') # character
# character vector, length &gt; 1
as.nbnid(c("NHMSYS0001706186","NHMSYS0000494848","NBNSYS0000010867"))
# list
as.nbnid(list("NHMSYS0001706186","NHMSYS0000494848","NBNSYS0000010867"))
## dont check, much faster
as.nbnid('NHMSYS0001706186', check=FALSE)
as.nbnid(list("NHMSYS0001706186","NHMSYS0000494848","NBNSYS0000010867"),
  check=FALSE)

(out &lt;- as.nbnid(c("NHMSYS0001706186","NHMSYS0000494848",
  "NBNSYS0000010867")))
data.frame(out)
as.nbnid( data.frame(out) )

# Get all data back
get_nbnid_("Zootoca vivipara")
get_nbnid_("Poa annua", rows=2)
get_nbnid_("Poa annua", rows=1:2)
get_nbnid_(c("asdfadfasd","Pinus contorta"), rows=1:5)

# use curl options
invisible(get_nbnid("Quercus douglasii", verbose = TRUE))

## End(Not run)
</code></pre>


</div>