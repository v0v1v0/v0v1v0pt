<div class="container">

<table style="width: 100%;"><tr>
<td>hy_src</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Open a connection to the HYDAT database</h2>

<h3>Description</h3>

<p>This function gives low-level access to the underlying HYDAT database used by
other functions. Many of these tables are too large to load into memory,
so it is best to use dplyr to <code>dplyr::filter()</code> them before using
<code>dplyr::collect()</code> to read them into memory.
</p>


<h3>Usage</h3>

<pre><code class="language-R">hy_src(hydat_path = NULL)

hy_src_disconnect(src)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>hydat_path</code></td>
<td>
<p>The path to the hydat database or NULL to use the default location
used by download_hydat. It is also possible to pass in an existing
src_sqlite such that the database only needs to be opened once per
user-level call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>src</code></td>
<td>
<p>A  as returned by <code>hy_src()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A SQLite DBIConnection
</p>


<h3>See Also</h3>

<p><code>download_hydat()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(dplyr)

# src is a src_sqlite
src &lt;- hy_src(hydat_path = hy_test_db())
src_tbls(src)

# to get a table, use dplyr::tbl()
tbl(src, "STATIONS")

# one you're sure the results are what you want
# get a data.frame using collect()
tbl(src, "STATIONS") |&gt;
  filter(PROV_TERR_STATE_LOC == "BC") |&gt;
  collect()

# close the connection to the database
hy_src_disconnect(src)

## End(Not run)
</code></pre>


</div>