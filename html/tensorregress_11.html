<div class="container">

<table style="width: 100%;"><tr>
<td>sim_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulation of supervised tensor decomposition models</h2>

<h3>Description</h3>

<p>Generate tensor data with multiple side information matrices under different simulation models, specifically for tensors with 3 modes
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim_data(
  seed = NA,
  whole_shape = c(20, 20, 20),
  core_shape = c(3, 3, 3),
  p = c(3, 3, 0),
  dist,
  dup,
  signal,
  block = rep(FALSE, 3),
  ortho = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>a random seed for generating data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>whole_shape</code></td>
<td>
<p>a vector containing dimension of the tensor</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>core_shape</code></td>
<td>
<p>a vector containing Tucker rank of the tensor decomposition</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>a vector containing numbers of side information on each mode, see "details"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>distribution of response tensor, see "details"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dup</code></td>
<td>
<p>number of simulated tensors from the same linear predictor</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>signal</code></td>
<td>
<p>a scalar controlling the max norm of the linear predictor</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block</code></td>
<td>
<p>a vector containing boolean variables, see "details"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ortho</code></td>
<td>
<p>if "TRUE", generate side information matrices with orthogonal columns; if "FLASE" (default), generate side information matrices with gaussian entries</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default non-positive entry in <code>p</code> indicates no covariate on the corresponding mode of the tensor.
</p>
<p><code>dist</code> specifies three distributions of response tensor: binary, poisson or normal distribution.
</p>
<p><code>block</code> specifies whether the coefficient factor matrix is a membership matrix, set to <code>TRUE</code> when utilizing the stochastic block model
</p>


<h3>Value</h3>

<p>a list containing the following:
</p>
<p><code>tsr</code> a list of simulated tensors, with the number of replicates specified by <code>dup</code>
</p>
<p><code>X_covar1</code>  a matrix, side information on first mode
</p>
<p><code>X_covar2</code>  a matrix, side information on second mode
</p>
<p><code>X_covar3</code>  a matrix, side information on third mode
</p>
<p><code>W</code> a list of orthogonal factor matrices - one for each mode, with the number of columns given by <code>core_shape</code>
</p>
<p><code>G</code>  an array, core tensor with size specified by <code>core_shape</code>
</p>
<p><code>C_ts</code>  an array, coefficient tensor, Tucker product of <code>G</code>,<code>A</code>,<code>B</code>,<code>C</code>
</p>
<p><code>U</code> an array, linear predictor,i.e. Tucker product of <code>C_ts</code>,<code>X_covar1</code>,<code>X_covar2</code>,<code>X_covar3</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">seed = 34
dist = 'binary'
data=sim_data(seed, whole_shape = c(20,20,20), core_shape=c(3,3,3),
p=c(5,5,5),dist=dist, dup=5, signal=4)
</code></pre>


</div>