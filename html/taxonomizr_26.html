<div class="container">

<table style="width: 100%;"><tr>
<td>taxonomizrSwitch</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Switch from data.table to SQLite</h2>

<h3>Description</h3>

<p>In version 0.5.0, taxonomizr switched from data.table to SQLite name and node lookups. See below for more details.
</p>


<h3>Details</h3>

<p>Version 0.5.0 marked a change for name and node lookups from using data.table to using SQLite. This was necessary to increase performance (10-100x speedup for <code>getTaxonomy</code>) and create a simpler interface (a single SQLite database contains all necessary data). Unfortunately, this switch requires a couple breaking changes:
</p>

<ul>
<li> <p><code>getTaxonomy</code> changes from <code>getTaxonomy(ids,namesDT,nodesDT)</code> to <code>getTaxonomy(ids,sqlFile)</code>
</p>
</li>
<li>  <p><code>getId</code> changes from  <code>getId(taxa,namesDT)</code> to <code>getId(taxa,sqlFile)</code>
</p>
</li>
<li> <p><code>read.names</code> is deprecated, instead use <code>read.names.sql</code>. For example, instead of calling <code>names&lt;-read.names('names.dmp')</code> in every session, simply call <code>read.names.sql('names.dmp','accessionTaxa.sql')</code> once (or use the convenient <code>prepareDatabase</code>)).
</p>
</li>
<li> <p><code>read.nodes</code> is deprecated, instead use <code>read.names.sql</code>. For example. instead of calling <code>nodes&lt;-read.names('nodes.dmp')</code> in every session, simply call <code>read.nodes.sql('nodes.dmp','accessionTaxa.sql')</code> once (or use the convenient <code>prepareDatabase</code>).
</p>
</li>
</ul>
<p>I've tried to ease any problems with this by overloading <code>getTaxonomy</code> and <code>getId</code> to still function (with a warning) if passed a data.table names and nodes argument and providing a simpler <code>prepareDatabase</code> function for completing all setup steps (hopefully avoiding direct calls to <code>read.names</code> and <code>read.nodes</code> for most users).
</p>
<p>I plan to eventually remove data.table functionality to avoid a split codebase so please switch to the new SQLite format in all new code.
</p>


<h3>See Also</h3>

<p><code>getTaxonomy</code>, <code>read.names.sql</code>, <code>read.nodes.sql</code>, <code>prepareDatabase</code>, <code>getId</code>
</p>


</div>