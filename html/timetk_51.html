<div class="container">

<table style="width: 100%;"><tr>
<td>plot_seasonal_diagnostics</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Visualize Multiple Seasonality Features for One or More Time Series</h2>

<h3>Description</h3>

<p>An interactive and scalable function for visualizing time series seasonality.
Plots are available in interactive <code>plotly</code> (default) and static <code>ggplot2</code> format.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_seasonal_diagnostics(
  .data,
  .date_var,
  .value,
  .facet_vars = NULL,
  .feature_set = "auto",
  .geom = c("boxplot", "violin"),
  .geom_color = "#2c3e50",
  .geom_outlier_color = "#2c3e50",
  .title = "Seasonal Diagnostics",
  .x_lab = "",
  .y_lab = "",
  .interactive = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>A <code>tibble</code> or <code>data.frame</code> with a time-based column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.date_var</code></td>
<td>
<p>A column containing either date or date-time values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.value</code></td>
<td>
<p>A column containing numeric values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.facet_vars</code></td>
<td>
<p>One or more grouping columns that broken out into <code>ggplot2</code> facets.
These can be selected using <code>tidyselect()</code> helpers (e.g <code>contains()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.feature_set</code></td>
<td>
<p>One or multiple selections to analyze for seasonality. Choices include:
</p>

<ul>
<li>
<p> "auto" - Automatically selects features based on the time stamps and length of the series.
</p>
</li>
<li>
<p> "second" - Good for analyzing seasonality by second of each minute.
</p>
</li>
<li>
<p> "minute" - Good for analyzing seasonality by minute of the hour
</p>
</li>
<li>
<p> "hour" - Good for analyzing seasonality by hour of the day
</p>
</li>
<li>
<p> "wday.lbl" - Labeled weekdays. Good for analyzing seasonality by day of the week.
</p>
</li>
<li>
<p> "week" - Good for analyzing seasonality by week of the year.
</p>
</li>
<li>
<p> "month.lbl" - Labeled months. Good for analyzing seasonality by month of the year.
</p>
</li>
<li>
<p> "quarter" - Good for analyzing seasonality by quarter of the year
</p>
</li>
<li>
<p> "year" - Good for analyzing seasonality over multiple years.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.geom</code></td>
<td>
<p>Either "boxplot" or "violin"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.geom_color</code></td>
<td>
<p>Geometry color. Line color.
Use keyword: "scale_color" to change the color by the facet.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.geom_outlier_color</code></td>
<td>
<p>Color used to highlight outliers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.title</code></td>
<td>
<p>Plot title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.x_lab</code></td>
<td>
<p>Plot x-axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.y_lab</code></td>
<td>
<p>Plot y-axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.interactive</code></td>
<td>
<p>If TRUE, returns a <code>plotly</code> interactive plot.
If FALSE, returns a static <code>ggplot2</code> plot.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><strong>Automatic Feature Selection</strong>
</p>
<p>Internal calculations are performed to detect a sub-range of features to include
useing the following logic:
</p>

<ul>
<li>
<p> The <em>minimum</em> feature is selected based on the median difference between consecutive
timestamps
</p>
</li>
<li>
<p> The <em>maximum</em> feature is selected based on having 2 full periods.
</p>
</li>
</ul>
<p>Example: Hourly timestamp data that lasts more than 2 weeks will have the following features:
"hour", "wday.lbl", and "week".
</p>
<p><strong>Scalable with Grouped Data Frames</strong>
</p>
<p>This function respects grouped <code>data.frame</code> and <code>tibbles</code> that were made with <code>dplyr::group_by()</code>.
</p>
<p>For grouped data, the automatic feature selection returned is a collection of all
features within the sub-groups. This means extra features are returned even though
they may be meaningless for some of the groups.
</p>
<p><strong>Transformations</strong>
</p>
<p>The <code>.value</code> parameter respects transformations (e.g. <code>.value = log(sales)</code>).
</p>


<h3>Value</h3>

<p>A <code>plotly</code> or <code>ggplot2</code> visualization
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(dplyr)

# ---- MULTIPLE FREQUENCY ----
# Taylor 30-minute dataset from forecast package
taylor_30_min

# Visualize series
taylor_30_min %&gt;%
    plot_time_series(date, value, .interactive = FALSE)

# Visualize seasonality
taylor_30_min %&gt;%
    plot_seasonal_diagnostics(date, value, .interactive = FALSE)

# ---- GROUPED EXAMPLES ----
# m4 hourly dataset
m4_hourly

# Visualize series
m4_hourly %&gt;%
    group_by(id) %&gt;%
    plot_time_series(date, value, .facet_scales = "free", .interactive = FALSE)

# Visualize seasonality
m4_hourly %&gt;%
    group_by(id) %&gt;%
    plot_seasonal_diagnostics(date, value, .interactive = FALSE)



</code></pre>


</div>