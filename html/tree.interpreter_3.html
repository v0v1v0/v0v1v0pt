<div class="container">

<table style="width: 100%;"><tr>
<td>MDITree</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mean Decrease in Impurity</h2>

<h3>Description</h3>

<p>Calculate the MDI feature importance measure.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MDITree(tidy.RF, tree, trainX, trainY)

MDI(tidy.RF, trainX, trainY)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tidy.RF</code></td>
<td>
<p>A tidy random forest. The random forest to calculate MDI
from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tree</code></td>
<td>
<p>An integer. The index of the tree to look at.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trainX</code></td>
<td>
<p>A data frame. Train set features, such that the <code>T</code>th
tree is trained with <code>X[tidy.RF$inbag.counts[[T]], ]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trainY</code></td>
<td>
<p>A data frame. Train set responses, such that the <code>T</code>th
tree is trained with <code>Y[tidy.RF$inbag.counts[[T]], ]</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>MDI stands for Mean Decrease in Impurity. It is a widely adopted measure of
feature importance in random forests. In this package, we calculate MDI with
a new analytical expression derived by Li et al. (See references)
</p>
<p>See <code>vignette('MDI', package='tree.interpreter')</code> for more context.
</p>


<h3>Value</h3>

<p>A matrix. The content depends on the type of the response.
</p>

<ul>
<li>
<p> Regression: A P-by-1 matrix, where P is the number of features in
<code>X</code>. The pth row contains the MDI of feature p.
</p>
</li>
<li>
<p> Classification: A P-by-D matrix, where P is the number of features
in <code>X</code> and D is the number of response classes. The dth column of
the pth row contains the MDI of feature p to class d. You can get the
MDI of each feature by calling <code>rowSums</code> on the result.
</p>
</li>
</ul>
<h3>Functions</h3>


<ul>
<li> <p><code>MDITree</code>: Mean decrease in impurity within a single tree
</p>
</li>
<li> <p><code>MDI</code>: Mean decrease in impurity within the whole forest
</p>
</li>
</ul>
<h3>References</h3>

<p>A Debiased MDI Feature Importance Measure for Random Forests
<a href="https://arxiv.org/abs/1906.10845">https://arxiv.org/abs/1906.10845</a>
</p>


<h3>See Also</h3>

<p><code>MDIoob</code>
</p>
<p><code>vignette('MDI', package='tree.interpreter')</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(ranger)
rfobj &lt;- ranger(Species ~ ., iris, keep.inbag=TRUE)
tidy.RF &lt;- tidyRF(rfobj, iris[, -5], iris[, 5])
MDITree(tidy.RF, 1, iris[, -5], iris[, 5])
MDI(tidy.RF, iris[, -5], iris[, 5])

</code></pre>


</div>