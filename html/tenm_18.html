<div class="container">

<table style="width: 100%;"><tr>
<td>pROC</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Partial ROC calculation for Niche Models</h2>

<h3>Description</h3>

<p>Apply partial ROC tests to continuous niche models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pROC(
  continuous_mod,
  test_data,
  n_iter = 1000,
  E_percent = 5,
  boost_percent = 50,
  rseed = FALSE,
  sub_sample = TRUE,
  sub_sample_size = 1000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>continuous_mod</code></td>
<td>
<p>A SpatRaster or numeric vector of the ecological
niche model to be evaluated. If a numeric vector is provided, it should
contain the values of the predicted suitability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test_data</code></td>
<td>
<p>A numerical matrix, data.frame, or numeric vector:
</p>

<ul>
<li>
<p> If data.frame or matrix, it should contain coordinates of the
occurrences used to test the ecological niche model.
Columns must be: longitude and latitude.
</p>
</li>
<li>
<p> If numeric vector, it should contain the values of the predicted
suitability.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_iter</code></td>
<td>
<p>Number of bootstrap iterations to perform for partial ROC
calculations. Default is 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>E_percent</code></td>
<td>
<p>Numeric value from 0 to 100 used as the threshold (E)
for partial ROC calculations. Default is 5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boost_percent</code></td>
<td>
<p>Numeric value from 0 to 100 representing the
percentage of testing data to use for bootstrap iterations in partial ROC.
Default is 50.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rseed</code></td>
<td>
<p>Logical. Whether or not to set a random seed for
reproducibility. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub_sample</code></td>
<td>
<p>Logical. Indicates whether to use a subsample of
the test data. Recommended for large datasets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub_sample_size</code></td>
<td>
<p>Size of the subsample to use for computing pROC
values when sub_sample is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Partial ROC is calculated following Peterson et al.
(2008; <a href="https://doi.org/10.1016/j.ecolmodel.2007.11.008">doi:10.1016/j.ecolmodel.2007.11.008</a>).
This function is a modification of the PartialROC function, available
at <a href="https://github.com/narayanibarve/ENMGadgets">https://github.com/narayanibarve/ENMGadgets</a>.
</p>


<h3>Value</h3>

<p>A list of two elements:
</p>

<ul>
<li>
<p> "pROC_summary": a data.frame containing the mean
AUC value, AUC ratio calculated for each iteration and the p-value of the
test.
</p>
</li>
<li>
<p> "pROC_results": a data.frame with four columns containing the AUC
(auc_model), partial AUC (auc_pmodel), partial AUC of the random model
(auc_prand) and the AUC ratio (auc_ratio) for each iteration.
</p>
</li>
</ul>
<h3>References</h3>

<p>Peterson, A.T. et al. (2008) Rethinking receiver operating
characteristic analysis applications in ecological niche modeling.
Ecol. Modell., 213, 63â€“72. <a href="https://doi.org/10.1016/j.ecolmodel.2007.11.008">doi:10.1016/j.ecolmodel.2007.11.008</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(abronia)
suit_1970_2000 &lt;- terra::rast(system.file("extdata/suit_1970_2000.tif",
                                          package = "tenm"))
print(suit_1970_2000)
proc_test &lt;- tenm::pROC(continuous_mod = suit_1970_2000,
                        test_data = abronia[,c("decimalLongitude",
                                               "decimalLatitude")],
                        n_iter = 500, E_percent=5,
                        boost_percent=50)
print(proc_test$pROC_summary)

</code></pre>


</div>