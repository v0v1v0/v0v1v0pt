<div class="container">

<table style="width: 100%;"><tr>
<td>bin_cols</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bin Cols</h2>

<h3>Description</h3>

<p>Make bins in a tidy fashion. Adds a column to your data frame containing the integer codes of the specified bins of a certain column.
Specifying multiple columns is only intended for supervised binning, so mutliple columns can be simultaneously binned
optimally with respect to a target variable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bin_cols(
  .data,
  col,
  n_bins = 10,
  bin_type = "frequency",
  ...,
  target = NULL,
  pretty_labels = FALSE,
  seed = 1,
  method = "mdlp"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>a data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>a column, vector of columns, or tidyselect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_bins</code></td>
<td>
<p>number of bins</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bin_type</code></td>
<td>
<p>method to make bins</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>params to be passed to selected binning method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>unquoted column for supervised binning</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pretty_labels</code></td>
<td>
<p>logical. If T returns interval label rather than integer rank</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>seed for stochastic binning (xgboost)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>method for bin mdlp</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Description of the arguments for bin_type
</p>

<dl>
<dt><em>frequency (fr)</em></dt>
<dd>
<p> creates bins of equal content via quantiles. Wraps <code>bin</code> with method "content". Similar to  <code>ntile</code></p>
</dd>
<dt><em>width (wi)</em></dt>
<dd>
<p> create bins of equal numeric width. Wraps <code>bin</code> with method "length"</p>
</dd>
<dt><em>kmeans (km)</em></dt>
<dd>
<p> create bins using 1-dimensional kmeans. Wraps <code>bin</code> with method "clusters"</p>
</dd>
<dt><em>value (va)</em></dt>
<dd>
<p> each bin has equal sum of values</p>
</dd>
<dt><em>xgboost (xg)</em></dt>
<dd>
<p> column is binned by best predictor of a target column using  <code>step_discretize_xgb</code> </p>
</dd>
<dt><em>cart (ca)</em></dt>
<dd>
<p> if the col does not have enough distinct values, xgboost will fail and automatically revert to <code>step_discretize_cart</code> </p>
</dd>
<dt><em>woe (wo)</em></dt>
<dd>
<p> column is binned by weight of evidence. Requires binary target</p>
</dd>
<dt><em>logreg (lr)</em></dt>
<dd>
<p> column is binned by logistic regression. Requires binary target.</p>
</dd>
<dt><em>mdlp</em></dt>
<dd>
<p> uses the <code>discretizeDF.supervised</code> algorithm with a variety of methods.</p>
</dd>
</dl>
<h3>Value</h3>

<p>a data frame
</p>


<h3>Examples</h3>

<pre><code class="language-R">
iris %&gt;%
bin_cols(Sepal.Width, n_bins = 5, pretty_labels = TRUE) %&gt;%
bin_cols(Petal.Width, n_bins = 3, bin_type = c("width", "kmeans")) %&gt;%
bin_cols(Sepal.Width, bin_type = "xgboost", target = Species, seed = 1) -&gt; iris1

#binned columns are named by original name + method abbreviation + number bins created.
#Sometimes the actual number of bins is less than n_bins if the col lacks enough variance.
iris1 %&gt;%
print(width = Inf)

iris1 %&gt;%
bin_summary() %&gt;%
print(width = Inf)
</code></pre>


</div>