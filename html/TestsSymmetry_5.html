<div class="container">

<table style="width: 100%;"><tr>
<td>n.symm.test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sample size determination for nonparametric tests of symmetry when the center is unknown</h2>

<h3>Description</h3>

<p>Determine the sample size required for one-sample Wilcoxon signed-rank test or Sign test 
with an unknown symmetry center estimated by sample mean given a target power.The function uses learning sample 
in order to predict (calculate) sample size needed to reach a preassumed power based on the underlying data that
is exemplified by the learning sample.
</p>


<h3>Usage</h3>

<pre><code class="language-R">n.symm.test(
  x,
  sig.level = 0.05,
  power = 0.8,
  method = "wilcox",
  alternative = c("two.sided")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>learning sample data, numeric vector of data values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig.level</code></td>
<td>
<p>significance level (Type I error probability), the default value is 0.05</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>power of test (1 minus Type II error probability), the default value is 0.8</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a character string specifying which symmetry test to be used, "wilcox" refers to Wilcoxon signed-rank test,
and "sign" sign test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string specifying the alternative hypothesis
"two.sided" : test whether skewed</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A Normal approximation to the power requires specification of some unknown quantities in the nonparametric context. 
In this regard, empirical smoothed CDF and Bootstrap methods were leveraged to estimate these quantities using learning sample 'x'.  
</p>
<p>Remark: If the test provides a power, say, P, based on the learning data and P is higher than the target power, a warning
message will be shown. However, a needed sample size N to reach the target power will be conducted.
</p>


<h3>Value</h3>

<p>A list of class "power.htest" containing the following components:
</p>

<ul>
<li>
<p> N - sample size estimated
</p>
</li>
<li>
<p> sig.level - significance level (Type I error probability)
</p>
</li>
<li>
<p> power - power of test (1 minus Type II error probability)
</p>
</li>
<li>
<p> method - the test method applied
</p>
</li>
<li>
<p> alternative - two-sided test. Can be abbreviated
</p>
</li>
</ul>
<h3>References</h3>

<p>Chakraborti, S., Hong, B., &amp; van de Wiel, M. A. (2006). A Note on Sample Size Determination for a Nonparametric Test of Location. Technometrics, 48(1), 88-94.
</p>
<p>Vexler, A., Gao, X., &amp; Zhou, J. (2023). How to implement signed-rank 'wilcox.test()' type procedures when a center of symmetry is unknown. Computational Statistics &amp; Data Analysis, 107746. 
</p>
<p>Gastwirth, J. L. (1971). On the Sign Test for Symmetry. Journal of the American Statistical Association, 66(336), 821-823.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
 data("plasma.silicon")
 post &lt;- plasma.silicon$postoperative 
 pre &lt;- plasma.silicon$preoperative
 diff &lt;- post - pre
 n.symm.test(diff, sig.level = 0.05, power = 0.5, method = "wilcox", alternative ="two.sided" )

# Result:
# Sample size calculation under wilcox procedure 

#           N = 83
#   sig.level = 0.05
#       power = 0.5
#        type = wilcox
# alternative = two.sided

# Interpretation: 
# Given the pilot sample `diff` and the significance level 0.05. The sample size of 
# the data that is expected toprovide the target power 0.5 of the Wilcoxon test procedure 
# is computed as 83.

</code></pre>


</div>