<div class="container">

<table style="width: 100%;"><tr>
<td>categorical_browser</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert tokens into full texts in an HTML file with category highlighting</h2>

<h3>Description</h3>

<p>Convert tokens into full texts in an HTML file with category highlighting
</p>


<h3>Usage</h3>

<pre><code class="language-R">categorical_browser(
  tokens,
  category,
  alpha = 0.3,
  labels = NULL,
  meta = NULL,
  colors = NULL,
  doc_col = "doc_id",
  token_col = "token",
  filename = NULL,
  unfold = NULL,
  span_adjacent = T,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tokens</code></td>
<td>
<p>A data.frame with a column for document ids (doc_col)
and a column for tokens (token_col)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>category</code></td>
<td>
<p>Either a numeric vector with values representing categories, or a factor vector, in which case
the values are used as labels. If a numeric vector is used, the labels can also be specified in the labels argument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Optionally, the alpha (transparency) can be specified, with 0 being fully
transparent and 1 being fully colored. This can be a vector to specify a
different alpha for each value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>A character vector giving names to the unique category values. If category is a factor vector, the factor levels are
used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meta</code></td>
<td>
<p>A data.frame with a column for document_ids (doc_col). All other columns are added
to the browser as document meta.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors</code></td>
<td>
<p>A character vector with color names for unique values of the category argument. Has to be the same length
as unique(na.omit(category))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doc_col</code></td>
<td>
<p>The name of the document id column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token_col</code></td>
<td>
<p>The name of the token column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>Name of the output file. Default is temp file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unfold</code></td>
<td>
<p>Either a character vector or a named list of vectors of the same length as tokens. If given, all tokens with a tag can be clicked on to unfold the given text. If a list of vectors is given,
the values of the columns are concatenated with the column name. E.g. list(doc_id = 1, sentence = 1) will be [doc_id = 1, sentence = 2].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>span_adjacent</code></td>
<td>
<p>If TRUE, include adjacent tokens with identical attributes within the same tag</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional formatting arguments passed to create_browser()</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The name of the file where the browser is saved. Can be opened conveniently from within R using browseUrl()
</p>


<h3>Examples</h3>

<pre><code class="language-R">## as an example, use simple grep to code tokens
code = rep(NA, nrow(sotu_data$tokens))
code[grep('war', sotu_data$tokens$token)] = 'War'
code[grep('mother|father|child', sotu_data$tokens$token)] = 'Family'
code = as.factor(code)
url = categorical_browser(sotu_data$tokens, category=code, meta=sotu_data$meta)


view_browser(url)   ## view browser in the Viewer

if (interactive()) {
browseURL(url)     ## view in default webbrowser
}
</code></pre>


</div>