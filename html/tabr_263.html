<div class="container">

<table style="width: 100%;"><tr>
<td>tab</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Render sheet music with LilyPond</h2>

<h3>Description</h3>

<p>Render sheet music/tablature from a music score with LilyPond.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tab(
  score,
  file,
  key = "c",
  time = "4/4",
  tempo = "2 = 60",
  header = NULL,
  paper = NULL,
  string_names = NULL,
  endbar = "|.",
  midi = TRUE,
  colors = NULL,
  crop_png = TRUE,
  transparent = FALSE,
  res = 150,
  keep_ly = FALSE,
  simplify = TRUE,
  details = FALSE
)

render_tab(
  score,
  file,
  key = "c",
  time = "4/4",
  tempo = "2 = 60",
  header = NULL,
  paper = NULL,
  string_names = NULL,
  endbar = "|.",
  midi = TRUE,
  colors = NULL,
  crop_png = TRUE,
  transparent = FALSE,
  res = 150,
  keep_ly = FALSE,
  simplify = TRUE,
  details = FALSE
)

render_score(
  score,
  file,
  key = "c",
  time = "4/4",
  tempo = "2 = 60",
  header = NULL,
  paper = NULL,
  endbar = "|.",
  colors = NULL,
  crop_png = TRUE,
  transparent = FALSE,
  res = 150,
  keep_ly = FALSE,
  simplify = TRUE,
  details = FALSE
)

render_midi(score, file, key = "c", time = "4/4", tempo = "2 = 60")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>score</code></td>
<td>
<p>a score object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>character, output file ending in .pdf or .png for sheet music or
tablature for <code>score()</code>. May include an absolute or relative path. For
<code>render_midi()</code>, a file ending in <code>.mid</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>character, key signature, e.g., <code>c</code>, <code>b_</code>, <code>f#m</code>, etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>character, defaults to <code>"4/4"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tempo</code></td>
<td>
<p>character, defaults to <code>"2 = 60"</code>. Set to <code>NULL</code> to suppress
display of the time signature in the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>header</code></td>
<td>
<p>a named list of arguments passed to the header of the LilyPond
file. See <code>lilypond()</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paper</code></td>
<td>
<p>a named list of arguments for the LilyPond file page layout. See
<code>lilypond()</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>string_names</code></td>
<td>
<p>label strings at beginning of tab staff. <code>NULL</code> (default)
for non-standard tunings only, <code>TRUE</code> or <code>FALSE</code> for force on or off
completely.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endbar</code></td>
<td>
<p>character, the global end bar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>midi</code></td>
<td>
<p>logical, output midi file in addition to sheet music.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors</code></td>
<td>
<p>a named list of LilyPond element color overrides. See
<code>lilypond()</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crop_png</code></td>
<td>
<p>logical, see <code>lilypond()</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transparent</code></td>
<td>
<p>logical, transparent background, png only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>numeric, resolution, png only. <code>transparent = TRUE</code> may fail when
<code>res</code> exceeds ~150.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_ly</code></td>
<td>
<p>logical, keep the intermediary LilyPond file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simplify</code></td>
<td>
<p>logical, uses <code>simplify_phrase()</code> to convert to simpler,
more efficient LilyPond syntax for the LilyPond file before rendering it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>details</code></td>
<td>
<p>logical, set to <code>TRUE</code> to print LilyPond log output to
console. Windows only.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Generate a pdf or png of a music score using the LilyPond music engraving
program.
Output format is inferred from <code>file</code> extension. This function is a wrapper
around <code>lilypond()</code>, the function that creates the LilyPond (<code>.ly</code>) file.
</p>
<p><code>render_score()</code> renders <code>score()</code> to pdf or png. <code>render_midi()</code> renders a
MIDI file based on <code>score()</code>. This is still done via LilyPond. The sheet
music is created automatically in the process behind the scenes but is
deleted and only the MIDI output is retained.
</p>
<p><code>tab()</code> or <code>render_tab()</code> (equivalent) produces both the sheet music and the
MIDI file output by default and includes other arguments such as the
tablature-relevant argument <code>string_names</code>. This is the all-purpose function.
Also use this when you intend to create both a sheet music document and a
MIDI file.
</p>
<p>Remember that whether a track contains a tablature staff, standard music
staff, or both, is defined in each individual track object contained in
<code>score()</code>. It is the contents you have assembled in<code>score()</code> that dictate
what render function you should use. <code>render_tab()</code> is general and always
works, but <code>render_score()</code> would not be the best choice when a tablature
staff is present unless you accept the default string naming convention.
</p>
<p><code>render_midi()</code> is different from <code>midily()</code> and <code>miditab()</code>, whose purpose
is to create sheet music from an existing MIDI file using a LilyPond command
line utility.
</p>
<p>For Windows users, add the path to the LilyPond executable to the system
path variable. For example, if the file is at
<code style="white-space: pre;">⁠C:/lilypond-2.24.2/bin/lilypond.exe⁠</code>, then add <code style="white-space: pre;">⁠C:/lilypond-2.24.2/bin⁠</code> to
the system path.
</p>


<h3>Value</h3>

<p>nothing returned; a file is written.
</p>


<h3>See Also</h3>

<p><code>lilypond()</code>, <code>render_chordchart()</code>,
<code>miditab()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(tabr_options()$lilypond != ""){
  x &lt;- phrase("c ec'g' ec'g'", "4 4 2", "5 432 432")
  x &lt;- track(x)
  x &lt;- score(x)
  outfile &lt;- file.path(tempdir(), "out.pdf")
  tab(x, outfile) # requires LilyPond installation
}
</code></pre>


</div>