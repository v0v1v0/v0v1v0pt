<div class="container">

<table style="width: 100%;"><tr>
<td>weighted_Stats</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Descriptive Statistics for Weighted Data
</h2>

<h3>Description</h3>

<p>Some descriptive statistics for weighted data: variance,
standard deviation, means, skewness, excess kurtosis, quantiles and
frequency tables. Missing values are automatically removed from
the data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">weighted_mean(x, w=rep(1, length(x)), select=NULL  )

weighted_var(x, w=rep(1, length(x)), method="unbiased", select=NULL )

weighted_sd(x, w=rep(1, length(x)), method="unbiased", select=NULL )

weighted_skewness( x, w=rep(1,length(x)), select=NULL  )

weighted_kurtosis( x, w=rep(1,length(x)), select=NULL  )

weighted_quantile( x, w=rep(1,length(x)), probs=seq(0,1,.25), type=NULL, select=NULL )

weighted_table( x, w=NULL, props=FALSE )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>A numeric vector. For <code>weighted_table</code>, a matrix with
two columns can be used as input for cross-tabulation.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>

<p>Optional vector of sample weights
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>
<p>Vector referring to selected cases</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>

<p>Computation method (can be <code>"unbiased"</code> or <code>"ML"</code>)), see
<code>stats::cov.wt</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>Vector with probabilities</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Quantile type. For unweighted data, quantile types 6 and
7 can be used (see
<code>stats::quantile</code>).
For weighted data, the quantile type <code>"i/n"</code>
is used (see <code>Hmisc::wtd.quantile</code>)).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>props</code></td>
<td>
<p>Logical indicating whether relative or absolute
frequencies should be calculated.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Numeric value
</p>


<h3>See Also</h3>

<p>See <code>stats::weighted.mean</code> for
computing a weighted mean.
</p>
<p>See <code>stats::var</code> for computing
unweighted variances.
</p>
<p>See <code>stats::quantile</code> and
<code>Hmisc::wtd.quantile</code>) for quantiles.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#############################################################################
# EXAMPLE 1: Toy example for weighted_var function
#############################################################################

set.seed(9897)
# simulate data
N &lt;- 10
x &lt;- stats::rnorm(N)
w &lt;- stats::runif(N)

#---- variance

# use weighted_var
weighted_var( x=x, w=w )
# use cov.wt
stats::cov.wt( data.frame(x=x), w=w )$cov[1,1]
## Not run: 
# use wtd.var from Hmisc package
Hmisc::wtd.var(x=x, weights=w, normwt=TRUE, method="unbiased")

#---- standard deviation
weighted_sd( x=x, w=w )

#---- mean
weighted_mean( x=x, w=w )
stats::weighted.mean( x=x, w=w )

#---- weighted quantiles for unweighted data
pvec &lt;- c(.23, .53, .78, .99 )  # choose probabilities
type &lt;- 7

# quantiles for unweighted data
weighted_quantile( x, probs=pvec, type=type)
quantile( x, probs=pvec, type=type)
Hmisc::wtd.quantile(x,probs=pvec, type=type)

# quantiles for weighted data
pvec &lt;- c(.23, .53, .78, .99 )  # probabilities
weighted_quantile( x, w=w, probs=pvec)
Hmisc::wtd.quantile(x, weights=w, probs=pvec)

#--- weighted skewness and kurtosis
weighted_skewness(x=x, w=w)
weighted_kurtosis(x=x, w=w)

#############################################################################
# EXAMPLE 2: Descriptive statistics normally distributed data
#############################################################################

# simulate some normally distributed data
set.seed(7768)
x &lt;- stats::rnorm( 10000, mean=1.7, sd=1.2)
# some statistics
weighted_mean(x=x)
weighted_sd(x=x)
weighted_skewness(x=x)
weighted_kurtosis(x=x)

#############################################################################
# EXAMPLE 3: Frequency tables
#############################################################################

#*****
# simulate data for weighted frequency tables
y &lt;- scan()
   1 0  1 1   1 2   1 3    1 4
   2 0  2 1   2 2   2 3    2 4

y &lt;- matrix( y, ncol=2, byrow=TRUE)
# define probabilities
set.seed(976)
pr &lt;- stats::runif(10)
pr &lt;- pr / sum(pr)
# sample data
N &lt;- 300
x &lt;- y[ sample( 1:10, size=300, prob=pr, replace=TRUE ), ]
w &lt;- stats::runif( N, 0.5, 1.5 )

# frequency table unweighted data
weighted_table(x[,2] )
table( x[,2] )

# weighted data and proportions
weighted_table(x[,2], w=w, props=TRUE)

#*** contingency table
table( x[,1], x[,2] )
weighted_table( x )
# table using weights
weighted_table( x, w=w )

## End(Not run)
</code></pre>


</div>