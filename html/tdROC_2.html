<div class="container">

<table style="width: 100%;"><tr>
<td>AUC.cr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate Time-dependent ROC and AUC with competing risk</h2>

<h3>Description</h3>

<p>This function calculates the time-dependent sensitivity and specificity and area under the curve (AUC)
using precalculated weights by <code>td.kw.cr</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">AUC.cr(X, W.prim, W.cmp, cut.off = NULL, n.grid = 1000, method)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a numeric vector of risk score ranging from 0 to 1 in the same length as <code>Y</code> and <code>delta</code>. A higher value indicates higher
higher risk of the event. It can be a biomarker value, a function of multiple value, or the predicted cumulative incidence
probability from a copeting risk regression model that we want to evaluate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W.prim</code></td>
<td>
<p>a numeric vector of weight for the primary event you want to study. It has the same length as <code>X</code>.
It should be generated by <code>td.kw.cr</code> with <code>event.code = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W.cmp</code></td>
<td>
<p>a numeric vector of weight for the competing event. It has the same length as <code>X</code>.
It should be generated by <code>td.kw.cr</code> with <code>event.code = 2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cut.off</code></td>
<td>
<p>a vector of risk score cut-off values at which sensitivity and specificity will be calculated. Default is <code>NULL</code>,
and we set cut off point by  <code>n.grid</code> to calculate sensitivity and specificity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.grid</code></td>
<td>
<p>a positive integer, the number of grid points used when calculating the ROC curve. The default is <code>1000</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function read in the risk score value <code>X</code>, estimated conditional probability for primary event <code>W.prim</code>,
and estimated conditional probability for competing event <code>W.cmp</code> to calculate sensitivity and specificity
for a series specified grid points. Based on the definition of controls mentioned in Wu and Li, 2018, we separately
calculate specificity and corresponding AUC for each definition. In addition, this function returns both the
AUC estimated by trapezoidal integration and AUC estimated by nonparametric framework mentioned in Wu and Li, 2018.
</p>


<h3>Value</h3>

<p>Returns a list of the following items:
</p>
<p>a list of <code>AUC.A.integral</code> estimated by trapezoidal integration for definition A,
<code>AUC.A.empirical</code> estimated by nonparametric framework for definition A (Wu and Li, 2018),
<code>AUC.B.integral</code> estimated by trapezoidal integration for definition B,
<code>AUC.B.empirical</code> estimated by nonparametric framework for definition B (Wu and Li, 2018),
and a data frame <code>ROC</code> with dimension <code>(2+n.grid) x 4</code> with columns <code>cut.off</code>, <code>sens</code>, <code>specA</code> and <code>specB</code>.
</p>


<h3>See Also</h3>

<p><code>survfit</code>
</p>


</div>