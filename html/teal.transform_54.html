<div class="container">

<table style="width: 100%;"><tr>
<td>filter_spec_internal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data extract dynamic filter specification</h2>

<h3>Description</h3>

<p>Builds a configuration for the <code>data_extract_ui</code> module. This function covers
the configuration of filtering datasets (so called <code>filter_spec</code>), which then
is used to build the UI element in the <code>teal</code> app.
</p>


<h3>Usage</h3>

<pre><code class="language-R">filter_spec_internal(
  vars_choices,
  vars_selected = NULL,
  vars_label = NULL,
  vars_fixed = FALSE,
  vars_multiple = TRUE,
  choices = NULL,
  selected = NULL,
  label = NULL,
  fixed = FALSE,
  multiple = TRUE,
  sep = attr(vars_choices, "sep"),
  drop_keys = FALSE,
  dataname = NULL,
  initialized = FALSE
)

## S3 method for class 'delayed_data'
filter_spec_internal(
  vars_choices,
  vars_selected = NULL,
  vars_label = NULL,
  vars_fixed = FALSE,
  vars_multiple = TRUE,
  choices = NULL,
  selected = NULL,
  label = NULL,
  fixed = FALSE,
  multiple = TRUE,
  sep = attr(vars_choices, "sep"),
  drop_keys = FALSE,
  dataname = NULL,
  initialized = FALSE
)

## Default S3 method:
filter_spec_internal(
  vars_choices,
  vars_selected = NULL,
  vars_label = NULL,
  vars_fixed = FALSE,
  vars_multiple = TRUE,
  choices = NULL,
  selected = NULL,
  label = NULL,
  fixed = FALSE,
  multiple = TRUE,
  sep = attr(vars_choices, "sep"),
  drop_keys = FALSE,
  dataname = NULL,
  initialized = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>vars_choices</code></td>
<td>
<p>(<code>character</code> or <code>delayed_data</code>)
the vector of dataset column names available to build dynamic filter
<code>delayed_data</code> objects can be created via <code>variable_choices()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars_selected</code></td>
<td>
<p>(<code>NULL</code> or named <code>character</code>)
the selected column name out from <code>choices</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars_label</code></td>
<td>
<p>(<code>character</code>)
the title printed on the UI element generated on the basis of this <code>filter_spec</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars_fixed</code></td>
<td>
<p>(<code>logical</code>)
if true allow to change the selected variables in the UI element; otherwise, do not allow.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars_multiple</code></td>
<td>
<p>(<code>logical</code>)
if true allow to select multiple variables in the UI elements; otherwise, do not allow.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>choices</code></td>
<td>
<p>(<code>character</code> or <code>numeric</code> or <code>logical</code> or (<code>delayed_data</code>) object.
Named character vector to define the choices of a shiny <code>shiny::selectInput()</code>.
These choices will be used to filter the dataset.
</p>
<p>These shall be filter values of the <code>vars</code> input separated by the separator(<code>sep</code>). Please
watch out that the filter values have to follow the order of the <code>vars</code> input. In the following
example we will show how to filter two columns:
</p>
<p><code>vars = c("PARAMCD","AVISIT")</code> and <code>choices = c("CRP - BASELINE", "ALT - BASELINE")</code>
will lead to a filtering of
<code>(PARAMCD == "CRP" &amp; AVISIT == "BASELINE") | (PARAMCD == "ALT" &amp; AVISIT == "BASELINE")</code>.
</p>
<p>The <code>sep</code> input has to be <code>" - "</code> in this case.
</p>
<p><code>delayed_data</code> objects can be created via <code>variable_choices()</code> or <code>value_choices()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selected</code></td>
<td>
<p>(<code>character</code> or <code>numeric</code> or <code>logical</code> or (<code>delayed_data</code> or <code>all_choices</code>) object.
Named character vector to define the selected values of a shiny <code>shiny::selectInput()</code>
(default values).
This value will be displayed inside the shiny app upon start.
The <code>all_choices</code> object indicates selecting all possible choices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>(optional <code>character</code>). Define a label on top of this specific
shiny <code>shiny::selectInput()</code>. The default value is <code>"Filter by"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed</code></td>
<td>
<p>(<code>logical</code>)
if true allow to change the initially selected values of the variables; otherwise, do not allow.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multiple</code></td>
<td>
<p>(<code>logical</code>) Whether multiple values shall be allowed in the
shiny <code>shiny::selectInput()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>(<code>character</code>) A separator string to split the <code>choices</code> or
<code>selected</code> inputs into the values of the different columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop_keys</code></td>
<td>
<p>(optional <code>logical</code>) whether to drop filter column from the
dataset keys, <code>TRUE</code> on default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataname</code></td>
<td>
<p>(<code>character</code>)
the name of the dataset this filter covers. Set during the initialization of the <code>teal</code> application.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initialized</code></td>
<td>
<p>(<code>logical</code>)
indicates whether this filter was already initialized in the application.
TRUE if this filter was already consumed by the server function; FALSE otherwise.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>filter_spec</code> or <code>delayed_filter_spec</code> S3-class object.
</p>


<h3>See Also</h3>

<p>filter_spec
</p>


</div>