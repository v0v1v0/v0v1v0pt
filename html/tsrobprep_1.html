<div class="container">

<table style="width: 100%;"><tr>
<td>auto_data_cleaning</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform automatic data cleaning of time series data</h2>

<h3>Description</h3>

<p>Returns a matrix or a list of matrices with imputed missing values and
outliers. The function automatizes the usage of functions
model_missing_data, detect_outliers and
impute_modelled_data. The function is designed for
numerical data only.
</p>


<h3>Usage</h3>

<pre><code class="language-R">auto_data_cleaning(
  data,
  S,
  tau = NULL,
  no.of.last.indices.to.fix = S[1],
  indices.to.fix = NULL,
  model.missing.pars = list(),
  detect.outliers.pars = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an input vector, matrix or data frame of dimension nobs x nvars
containing missing values; each column is a variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p>a number or vector describing the seasonalities (S_1, ..., S_K) in
the data, e.g. c(24, 168) if the data consists of 24 observations per day
and there is a weekly seasonality in the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>the quantile(s) of the missing values to be estimated in the
quantile regression. Tau accepts all values in (0,1). If NULL, then the
weighted lasso regression is performed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no.of.last.indices.to.fix</code></td>
<td>
<p>a number of observations in the tail of
the data to be fixed, by default set to S.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indices.to.fix</code></td>
<td>
<p>indices of the data to be fixed. If NULL, then it is
calculated based on the no.of.last.indices.to.fix parameter. Otherwise, the
no.of.last.indices.to.fix parameter is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.missing.pars</code></td>
<td>
<p>named list containing additional arguments for the
model_missing_data function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>detect.outliers.pars</code></td>
<td>
<p>named list containing additional arguments for
the detect_outliers function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function calls model_missing_data to clean
the data from missing values, detect_outliers to detect
outliers, removes them and finally applies again
model_missing_data function. For details see the
functions' respective help sections. <code style="white-space: pre;">⁠

⁠</code>
</p>


<h3>Value</h3>

<p>A list which contains a matrix or a list of matrices with imputed
missing values or outliers, the indices of the data that were modelled, and
the given quantile values.
</p>


<h3>References</h3>

<p>Narajewski M, Kley-Holsteg J, Ziel F (2021).
“tsrobprep — an R package for robust preprocessing of time series data.”
<em>SoftwareX</em>, <b>16</b>, 100809.
doi: <a href="https://doi.org/10.1016/j.softx.2021.100809">10.1016/j.softx.2021.100809</a>.
</p>


<h3>See Also</h3>

<p><code>model_missing_data</code>,
detect_outliers, impute_modelled_data
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
autoclean &lt;- auto_data_cleaning(
  data = GBload[,-1], S = c(48, 7*48),
  no.of.last.indices.to.fix = dim(GBload)[1],
  model.missing.pars = list(consider.as.missing = 0, min.val = 0)
)
autoclean$replaced.indices

## End(Not run)
</code></pre>


</div>