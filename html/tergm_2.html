<div class="container">

<table style="width: 100%;"><tr>
<td>.extract.fd.formulae</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>An Internal Function for Extracting (Some) Formation and Dissolution Formulas from a Combined Formula</h2>

<h3>Description</h3>

<p>This function is used in <code>tergm.EGMME.initialfit</code> and also when targets or monitoring
formulas are specified by characters.  It makes a basic attempt to identify the
formation and dissolution formulas within a larger combined formula (which may also
include non-separable terms).  Instances of <code>Form</code> at the top level (which may occur
inside <code>offset</code>) contribute to the formation formula; instances of <code>Persist</code> and
<code>Diss</code> at the top level (which may also occur inside <code>offset</code>) contribute to the
dissolution formula.  All other terms are regarded as non-separable; this includes instances
of <code>Form</code>, <code>Persist</code>, and <code>Diss</code> that occur inside other operator terms,
including inside <code>Offset</code>, and also includes all interactions at the top level (for which
the top level term is effectively the interaction operator <code>*</code> or <code>:</code>),
whether or not they include <code>Form</code>, <code>Persist</code>, and/or <code>Diss</code>.
The formation and dissolution formulas are obtained by adding
the contributing terms, replacing <code>Form</code> and <code>Persist</code> with trivial operators that protect
the environments of their formula arguments but have no effect on statistics or coefficient names
(meaning the formulas effectively become cross-sectional), and replacing <code>Diss</code> by a similar operator
that negates statistics.  These are included in the return value as the <code>form</code> and <code>pers</code>
elements of the list (the "dissolution" formula really being the persistence formula), which also includes
the formula of non-separable terms as <code>nonsep</code>, and the formula of all terms after replacing
<code>Form</code>, <code>Persist</code>, and <code>Diss</code> as described above as <code>all</code>.
</p>
<p>If usage proves problematic, one may specify the monitoring and/or targets formulas explicitly
(rather than by characters), and one may pass initial coefficient values for the EGMME to avoid
running <code>tergm.EGMME.initialfit</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">.extract.fd.formulae(formula)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a <code>formula</code>.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A <code>list</code> containing <code>form</code>, <code>pers</code>, <code>nonsep</code>, and <code>all</code> formulas as described above.
</p>


</div>