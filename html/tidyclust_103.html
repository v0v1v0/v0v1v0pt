<div class="container">

<table style="width: 100%;"><tr>
<td>tune_cluster</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Model tuning via grid search</h2>

<h3>Description</h3>

<p><code>tune_cluster()</code> computes a set of performance metrics (e.g. accuracy or
RMSE) for a pre-defined set of tuning parameters that correspond to a model
or recipe across one or more resamples of the data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tune_cluster(object, ...)

## S3 method for class 'cluster_spec'
tune_cluster(
  object,
  preprocessor,
  resamples,
  ...,
  param_info = NULL,
  grid = 10,
  metrics = NULL,
  control = tune::control_grid()
)

## S3 method for class 'workflow'
tune_cluster(
  object,
  resamples,
  ...,
  param_info = NULL,
  grid = 10,
  metrics = NULL,
  control = tune::control_grid()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A <code>tidyclust</code> model specification or a <code>workflows::workflow()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preprocessor</code></td>
<td>
<p>A traditional model formula or a recipe created using
<code>recipes::recipe()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resamples</code></td>
<td>
<p>An <code>rset()</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param_info</code></td>
<td>
<p>A <code>dials::parameters()</code> object or <code>NULL</code>. If none is given,
a parameters set is derived from other arguments. Passing this argument can
be useful when parameter ranges need to be customized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid</code></td>
<td>
<p>A data frame of tuning combinations or a positive integer. The
data frame should have columns for each parameter being tuned and rows for
tuning parameter candidates. An integer denotes the number of candidate
parameter sets to be created automatically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metrics</code></td>
<td>
<p>A <code>cluster_metric_set()</code> or <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>An object used to modify the tuning process. Defaults to
<code>tune::control_grid()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An updated version of <code>resamples</code> with extra list columns for
<code>.metrics</code> and <code>.notes</code> (optional columns are <code>.predictions</code> and
<code>.extracts</code>). <code>.notes</code> contains warnings and errors that occur during
execution.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(recipes)
library(rsample)
library(workflows)
library(tune)

rec_spec &lt;- recipe(~., data = mtcars) %&gt;%
  step_normalize(all_numeric_predictors()) %&gt;%
  step_pca(all_numeric_predictors())

kmeans_spec &lt;- k_means(num_clusters = tune())

wflow &lt;- workflow() %&gt;%
  add_recipe(rec_spec) %&gt;%
  add_model(kmeans_spec)

grid &lt;- tibble(num_clusters = 1:3)

set.seed(4400)
folds &lt;- vfold_cv(mtcars, v = 2)

res &lt;- tune_cluster(
  wflow,
  resamples = folds,
  grid = grid
)
res

collect_metrics(res)
</code></pre>


</div>