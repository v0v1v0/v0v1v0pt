<div class="container">

<table style="width: 100%;"><tr>
<td>as_transfr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create transfR object</h2>

<h3>Description</h3>

<p>Create a transfR object or add new attributes to a transfR object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as_transfr(
  object,
  st,
  uc,
  lagtime,
  surface,
  delineation,
  outlet,
  centroid,
  uh,
  hl
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>object of class <code>transfR</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>st</code></td>
<td>
<p>spatio-temporal arrays of class <code>stars</code>. Observed discharge must be described by the column name 'Qobs'.
Time should be the first dimension, space the second dimension. If no unit is provided, Qobs is assumed to be in [m3/s]
and RnInv is assumed to be in [mm/h] (or [mm/d] at daily time step).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uc</code></td>
<td>
<p>vector of the streamflow velocities of the catchments. If no unit is provided, <code>uc</code> is assumed to be in [m/s].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lagtime</code></td>
<td>
<p>vector of the lag times of the catchments. If no unit is provided, <code>lagtime</code> is assumed to be in [h].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>surface</code></td>
<td>
<p>vector of the surfaces of the catchments. If no unit is provided, <code>surface</code> is assumed to be in [km2].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delineation</code></td>
<td>
<p>spatial layer of the boundary of the catchments of class <code>sfc_POLYGON</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outlet</code></td>
<td>
<p>spatial layer of the outlets of the catchments of class <code>sfc_POINT</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>centroid</code></td>
<td>
<p>spatial layer of the centroids of the catchments of class <code>sfc_POINT</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uh</code></td>
<td>
<p>list of the unit hydrographs of the catchments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hl</code></td>
<td>
<p>hydraulic length of class <code>stars</code>, <code>matrix</code> or <code>vector</code>. If no unit is provided, <code>hl</code>
is assumed to be in [m]. See details below.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function creates an object of class <code>transfR</code> or increment an existing <code>transfR</code> object
with new attributes. It can be used to gather and organize most of the inputs and outputs of the other functions
like streamflow velocities, unit hydrograph, a priori on net rainfall, inversions and simulations of every catchments.
</p>
<p>This function can be used to organise the two user inputs required for a conventional use of the package, namely <code>st</code>
and <code>hl</code>. The hydraulic lengths are defined as the flow path length from each pixel to the outlet within
the river network (Cudennec et al. 2004; Aouissi et al. 2013). Catchment delineations and hydraulic lengths
need to be prepared beforehand by the user. This package does not provide functions to create them.
However, several GIS software offer possibilities to extract them from a digital elevation model
such as GRASS toolkits (Jasiewicz and Metz 2011),
Whitebox GAT (see Lindsay (2016) or <a href="https://github.com/jblindsay/whitebox-tools">WhiteboxTools</a>),
TauDEM (D. Tarboton, Utah State University)
or online services (see Squividant et al. (2015) for catchment delineation in the Brittany French region).
</p>


<h3>Value</h3>

<p>An object of class transfR.
</p>


<h3>References</h3>

<p>Aouissi J, Pouget J, Boudhraâ H, Storer G, Cudennec C (2013).
“Joint spatial, topological and scaling analysis framework of river-network geomorphometry.”
<em>Géomorphologie : relief, processus, environnement</em>, <b>19</b>(1), 7–16.
<a href="https://doi.org/10.4000/geomorphologie.10082">doi:10.4000/geomorphologie.10082</a>.
</p>
<p>Cudennec C, Fouad Y, Gatot IS, Duchesne J (2004).
“A geomorphological explanation of the unit hydrograph concept.”
<em>Hydrological Processes</em>, <b>18</b>(4), 603–621.
<a href="https://doi.org/10.1002/hyp.1368">doi:10.1002/hyp.1368</a>.
</p>
<p>Jasiewicz J, Metz M (2011).
“A new GRASS GIS toolkit for Hortonian analysis of drainage networks.”
<em>Computers &amp; Geosciences</em>, <b>37</b>(8), 1162–1173.
<a href="https://doi.org/10.1016/j.cageo.2011.03.003">doi:10.1016/j.cageo.2011.03.003</a>.
</p>
<p>Lindsay JB (2016).
“Whitebox GAT: A case study in geomorphometric analysis.”
<em>Computers &amp; Geosciences</em>, <b>95</b>, 75–84.
<a href="https://doi.org/10.1016/j.cageo.2016.07.003">doi:10.1016/j.cageo.2016.07.003</a>.
</p>
<p>Squividant H, Bera R, Aurousseau P, Cudennec C (2015).
“Online watershed boundary delineation: sharing models through Spatial Data Infrastructures.”
<em>Proceedings of the International Association of Hydrological Sciences</em>, <b>368</b>, 144–149.
<a href="https://doi.org/10.5194/piahs-368-144-2015">doi:10.5194/piahs-368-144-2015</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Oudon)
object &lt;- as_transfr(st = Oudon$obs, hl = Oudon$hl)
</code></pre>


</div>