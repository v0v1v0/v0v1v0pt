<div class="container">

<table style="width: 100%;"><tr>
<td>read_directory</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read all supported container files from a supplied directory</h2>

<h3>Description</h3>

<p>Read all supported container files from a supplied directory
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_directory(
  directory,
  aggregate = FALSE,
  table = "gps_data",
  timezone = "",
  session_threshold = 2,
  smooth_elevation_gain = TRUE,
  correct_distances = FALSE,
  country = NULL,
  mask = TRUE,
  from_distances = NULL,
  speedunit = list(tcx = "m_per_s", gpx = "km_per_h", db3 = "km_per_h", json =
    "km_per_h"),
  distanceunit = list(tcx = "m", gpx = "km", db3 = "km", json = "km"),
  sport = NULL,
  lgap = 30,
  lskip = 5,
  m = 11,
  silent = FALSE,
  parallel = FALSE,
  verbose = TRUE
)

readDirectory(
  directory,
  aggregate = FALSE,
  table = "gps_data",
  timezone = "",
  session_threshold = 2,
  smooth_elevation_gain = TRUE,
  correct_distances = FALSE,
  country = NULL,
  mask = TRUE,
  from_distances = NULL,
  speedunit = list(tcx = "m_per_s", gpx = "km_per_h", db3 = "km_per_h", json =
    "km_per_h"),
  distanceunit = list(tcx = "m", gpx = "km", db3 = "km", json = "km"),
  sport = NULL,
  lgap = 30,
  lskip = 5,
  m = 11,
  silent = FALSE,
  parallel = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>directory</code></td>
<td>
<p>The path to the directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggregate</code></td>
<td>
<p>Logical. Aggregate data from different files to
the same session if observations are less then
<code>session_threshold</code> hours apart? Alternatively, data from
different files is stored in different sessions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table</code></td>
<td>
<p>The name of the table in the database for db3 files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timezone</code></td>
<td>
<p>The timezone of the observations as passed on to
<code>as.POSIXct</code>.  Ignored for JSON files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>session_threshold</code></td>
<td>
<p>The threshold in hours for the time
difference between consecutive timestamps above which they are
considered to belong to different training sessions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth_elevation_gain</code></td>
<td>
<p>Logical. Should the elevation gain be
smoothed before computing elevation gain? Default
is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct_distances</code></td>
<td>
<p>Logical. Should the distances be corrected
for elevation? Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>country</code></td>
<td>
<p>ISO3 country code for downloading altitude data. If
<code>NULL</code>, country is derived from longitude and latitude</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mask</code></td>
<td>
<p>Logical. Passed on to
<code>getData</code>. Should only the altitudes for
the specified <code>country</code> be extracted (<code>TRUE</code>) or also
those for the neighbouring countries (<code>FALSE</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from_distances</code></td>
<td>
<p>Logical. Should the speeds be calculated from
the distance recordings instead of taken from the speed
recordings directly. Defaults to <code>TRUE</code> for tcx and Golden
Cheetah's json files and to <code>FALSE</code> for db3 files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>speedunit</code></td>
<td>
<p>Character string indicating the measurement unit
of the speeds in the container file to be converted into meters
per second. Default is <code>m_per_s</code> for tcx files and
<code>km_per_h</code> for db3 and Golden Cheetah's json files. See
Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distanceunit</code></td>
<td>
<p>Character string indicating the measurement
unit of the distance in the container file to be converted into
meters. Default is <code>m</code> for tcx files and <code>km</code> for db3
and Golden Cheetah's json files. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sport</code></td>
<td>
<p>What sport do the files in <code>directory</code> correspond
to? Either <code>'cycling'</code>, <code>'running'</code>,
<code>'swimming'</code> or <code>NULL</code> (default), in which case an
attempt is made to extract the sport from each file in
<code>directory</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lgap</code></td>
<td>
<p>Time in seconds corresponding to the minimal sampling rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lskip</code></td>
<td>
<p>Time in seconds between the last observation before a small break
and the first imputed speed or the last imputed speed and the first
observation after a small break.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Number of imputed observations in each small break.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>Logical. Should warnings be generated if any of the
sanity checks on the data are triggered?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Logical. Should reading be carried out in parallel?
If <code>TRUE</code> reading is performed in parallel using the
backend provided to <code>foreach</code>. Default is
<code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical. Should progress reports be printed?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Available options for <code>speedunit</code> currently are
<code>km_per_h</code>, <code>m_per_s</code>, <code>mi_per_h</code>,
<code>ft_per_min</code> and <code>ft_per_s</code>.  Available options for
<code>distanceunit</code> currently are <code>km</code>, <code>m</code>,
<code>mi</code> and <code>ft</code>.
</p>
<p>If <code>aggregate = TRUE</code>, then if <code>sport = NULL</code> the
sport in all sessions is determined by the first file read with
a sport specification; else if <code>sport</code> is one of the other
valid options it determines the sport for all sessions.
</p>


<h3>Value</h3>

<p>An object of class <code>trackeRdata</code>.
</p>


<h3>See Also</h3>

<p><code>trackeRdata</code>, <code>readTCX</code>, <code>readDB3</code>, <code>readJSON</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
filepath &lt;- system.file("extdata/gpx", package = "trackeR")
gpx_files &lt;- read_directory(filepath)

## End(Not run)

</code></pre>


</div>