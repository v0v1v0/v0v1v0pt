<div class="container">

<table style="width: 100%;"><tr>
<td>similarity-functions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Measure similarity/dissimilarity in documents</h2>

<h3>Description</h3>

<p>A set of functions which take two sets or bag of words and measure their
similarity or dissimilarity.
</p>


<h3>Usage</h3>

<pre><code class="language-R">jaccard_similarity(a, b)

jaccard_dissimilarity(a, b)

jaccard_bag_similarity(a, b)

ratio_of_matches(a, b)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>The first set (or bag) to be compared. The origin bag for
directional comparisons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>The second set (or bag) to be compared. The destination bag for
directional comparisons.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The functions <code>jaccard_similarity</code> and
<code>jaccard_dissimilarity</code> provide the Jaccard measures of similarity or
dissimilarity for two sets. The coefficients will be numbers between
<code>0</code> and <code>1</code>. For the similarity coefficient, the higher the
number the more similar the two sets are. When applied to two documents of
class <code>TextReuseTextDocument</code>, the hashes in those documents
are compared. But this function can be passed objects of any class accepted
by the set functions in base R. So it is possible, for instance, to pass
this function two character vectors comprised of word, line, sentence, or
paragraph tokens, or those character vectors hashed as integers.
</p>
<p>The Jaccard similarity coeffecient is defined as follows:
</p>
<p style="text-align: center;"><code class="reqn">J(A, B) = \frac{ | A \cap B | }{ | A \cup B | }</code>
</p>

<p>The Jaccard dissimilarity is simply
</p>
<p style="text-align: center;"><code class="reqn">1 - J(A, B)</code>
</p>

<p>The function <code>jaccard_bag_similarity</code> treats <code>a</code> and <code>b</code> as
bags rather than sets, so that the result is a fraction where the numerator
is the sum of each matching element counted the minimum number of times it
appears in each bag, and the denominator is the sum of the lengths of both
bags. The maximum value for the Jaccard bag similarity is <code>0.5</code>.
</p>
<p>The function <code>ratio_of_matches</code> finds the ratio between the number of
items in <code>b</code> that are also in <code>a</code> and the total number of items
in <code>b</code>. Note that this similarity measure is directional: it measures
how much <code>b</code> borrows from <code>a</code>, but says nothing about how much of
<code>a</code> borrows from <code>b</code>.
</p>


<h3>References</h3>

<p>Jure Leskovec, Anand Rajaraman, and Jeff Ullman,
<a href="http://www.mmds.org/#book"><em>Mining of Massive Datasets</em></a>
(Cambridge University Press, 2011).
</p>


<h3>Examples</h3>

<pre><code class="language-R">jaccard_similarity(1:6, 3:10)
jaccard_dissimilarity(1:6, 3:10)

a &lt;- c("a", "a", "a", "b")
b &lt;- c("a", "a", "b", "b", "c")
jaccard_similarity(a, b)
jaccard_bag_similarity(a, b)
ratio_of_matches(a, b)
ratio_of_matches(b, a)

ny         &lt;- system.file("extdata/legal/ny1850-match.txt", package = "textreuse")
ca_match   &lt;- system.file("extdata/legal/ca1851-match.txt", package = "textreuse")
ca_nomatch &lt;- system.file("extdata/legal/ca1851-nomatch.txt", package = "textreuse")

ny         &lt;- TextReuseTextDocument(file = ny,
                                    meta = list(id = "ny"))
ca_match   &lt;- TextReuseTextDocument(file = ca_match,
                                    meta = list(id = "ca_match"))
ca_nomatch &lt;- TextReuseTextDocument(file = ca_nomatch,
                                    meta = list(id = "ca_nomatch"))

# These two should have higher similarity scores
jaccard_similarity(ny, ca_match)
ratio_of_matches(ny, ca_match)

# These two should have lower similarity scores
jaccard_similarity(ny, ca_nomatch)
ratio_of_matches(ny, ca_nomatch)

</code></pre>


</div>