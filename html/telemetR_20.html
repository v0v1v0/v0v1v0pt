<div class="container">

<table style="width: 100%;"><tr>
<td>prefilter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Apply the "prefilter" to a Detection Dataframe</h2>

<h3>Description</h3>

<p>This function takes a detection dataframe output from format_detects and
filters out multipath signals (signals which are bounced off of surfaces,
usually seen in underwater systems with hard surfaces which reflect sound)
and spurious signals which do not occur within a user defined time frame
of the last detection (12x the ping rate for organisms or 3x the ping rate
for beacons). Following this, the dataframe is standardized so
that all detection dataframes from any technology type are identical and
superfluous fields are removed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prefilter(
  data,
  reference_tags,
  time_unit,
  multipath_time,
  org_ping_rate,
  beacon_ping
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A dataframe which is the output from read_jstats() or
format_detects()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference_tags</code></td>
<td>
<p>A vector of potential reference (beacon) tag IDs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_unit</code></td>
<td>
<p>The unit of time used for analyses (seconds, minutes, hours,
days, weeks, months)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multipath_time</code></td>
<td>
<p>A numeric maximum amount of time which must pass
between detections for a detection to be considered a "true", not a bounced,
signal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>org_ping_rate</code></td>
<td>
<p>The expected time between transmissions emitted from
tags/transmitters implanted or attached to an organism</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beacon_ping</code></td>
<td>
<p>The expected time between transmissions emitted from
tags/transmitters used as beacon or reference tags to check receiver
functionality.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A standardized detection dataframe with multipath detects removed
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Run the prefilter on a set of raw detection data

#format the detection data
detects_formatted &lt;- format_detects(data = raw_detections,
                                    var_Id = "tag_id",
                                    var_datetime_local = "local_time",
                                    var_receiver_serial = "serial",
                                    local_time_zone = "America/Los_Angeles",
                                    time_format = "%Y-%m-%d %H:%M:%S")

#apply the prefilter
prefilter(data = detects_formatted,
          reference_tags = reftags,
          time_unit = "secs",
          multipath_time = 0.3,
          org_ping_rate = 3,
          beacon_ping = 30)
</code></pre>


</div>