<div class="container">

<table style="width: 100%;"><tr>
<td>chk-helper</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Checks: data frame helpers</h2>

<h3>Description</h3>

<p>These helper functions allowing easy checking using an arbitrary function
(<code>func</code>) over multiple columns (<code>vars</code>) of a data frame (<code>data</code>), with an
optional filter (<code>flt</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">chk_filter(data, vars, func, flt = TRUE, args = list())

chk_filter_all(data, vars, func, flt = TRUE, args = list())

chk_filter_any(data, vars, func, flt = TRUE, args = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame to check.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>&lt;<code>tidy-select</code>&gt; A set of columns to
check.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>func</code></td>
<td>
<p>A function to use for checking that takes a vector as the first
argument and returns a logical vector of the same length showing whether an
element passed or failed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flt</code></td>
<td>
<p>&lt;<code>data-masking</code>&gt; A filter specifying
a subset of the data frame to test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>A list of additional arguments to be added to the function calls.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ul>
<li> <p><code>chk_filter()</code> applies <code>func</code> with <code>args</code> to <code>vars</code> in <code>data</code> filtered
with <code>flt</code> and returns a data frame containing the resulting logical vectors.
</p>
</li>
<li> <p><code>chk_filter_all()</code> and <code>chk_filter_any()</code> both run <code>chk_filter()</code> and
return a single logical vector flagging whether <em>all</em> or <em>any</em> values in each
row are <code>TRUE</code> (i.e. the conjunction and disjunction, respectively, of the
columns in the output of <code>chk_filter()</code>).
</p>
</li>
</ul>
<h3>Value</h3>

<p>A logical vector or data frame of logical vectors flagging records
that have passed or failed the check, with <code>NA</code> where records do not meet
the filter condition.
</p>


<h3>See Also</h3>

<p>Other <code style="white-space: pre;">⁠chk_*()⁠</code> functions such as <code>chk_values()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Check that every 4-cylinder car has an engine displacement of &lt; 100 cubic
# inches AND &lt; 100 horsepower - return a data frame
chk_filter(
  mtcars,
  c("disp", "hp"),
  chk_range,
  cyl == 4,
  list(min = 0, max = 100)
)

# Check that every 4-cylinder car has an engine displacement of &lt; 100 cubic
# inches AND &lt; 100 horsepower
chk_filter_all(
  mtcars,
  c("disp", "hp"),
  chk_range,
  cyl == 4,
  list(min = 0, max = 100)
)

# Check that every 4-cylinder car has an engine displacement of &lt; 100 cubic
# inches OR &lt; 100 horsepower
chk_filter_any(
  mtcars,
  c("disp", "hp"),
  chk_range,
  cyl == 4,
  list(min = 0, max = 100)
)

# Check that columns made up of whole numbers are binary
chk_filter_all(
  mtcars,
  where(~ all(. %% 1 == 0)),
  chk_values,
  TRUE,
  list(0:1)
)

</code></pre>


</div>