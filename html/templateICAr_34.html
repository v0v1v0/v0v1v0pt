<div class="container">

<table style="width: 100%;"><tr>
<td>groupICA.cifti</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform group ICA based on CIFTI data</h2>

<h3>Description</h3>

<p>Perform group ICA based on CIFTI data
</p>


<h3>Usage</h3>

<pre><code class="language-R">groupICA.cifti(
  cifti_fnames,
  subjects = NULL,
  brainstructures = "all",
  num_PCs = 100,
  num_ICs,
  max_rows_GPCA = 10000,
  GSR = FALSE,
  scale = c("local", "global", "none"),
  scale_sm_FWHM = 2,
  TR = NULL,
  hpf = 0.01,
  verbose = TRUE,
  out_fname = NULL,
  surfL = NULL,
  surfR = NULL,
  smooth = TRUE,
  smooth_surf_FWHM = 5,
  smooth_vol_FWHM = 5,
  smooth_zeroes_as_NA = FALSE,
  smooth_subcortical_merged = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cifti_fnames</code></td>
<td>
<p>Vector of file paths of CIFTI-format fMRI timeseries
(*.dtseries.nii) for which to calculate group ICA</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subjects</code></td>
<td>
<p>Use this argument if some subjects have more than one scan.
This is a numeric or factor vector the same length as <code>cifti_fnames</code>. Scans
for the same subject should have the same value. For example, if there are four
subjects with two visits each, and the scans are ordered with the first subject's
two scans first, then the second subject's two scans next, etc., then this argument
should be <code>rep(seq(4), each=2)</code>. If there are three subjects and four scans,
with the last two scans belonging to the same subject, this argument should be
<code>c(1,2,3,3)</code>. If all subjects only have one scan, keep this argument as
<code>NULL</code> (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>brainstructures</code></td>
<td>
<p>Character vector indicating which brain structure(s)
to obtain: <code>"left"</code> (left cortical surface), <code>"right"</code> (right
cortical surface) and/or <code>"subcortical"</code> (subcortical and cerebellar
gray matter). Can also be <code>"all"</code> (obtain all three brain structures).
Default: <code>c("all")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_PCs</code></td>
<td>
<p>Maximum number of PCs to retain in initial subject-level PCA</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_ICs</code></td>
<td>
<p>Number of independent components to identify.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_rows_GPCA</code></td>
<td>
<p>The maximum number of rows for the matrix on which group
level PCA will be performed.  This matrix is the result of temporal concatenation
and contains <code>length(cifti_fnames) * num_PCs</code> rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GSR, scale, scale_sm_FWHM, TR, hpf</code></td>
<td>
<p>Center BOLD columns, scale by the
standard deviation, and detrend voxel timecourses? See
<code>norm_BOLD</code>. Normalization is applied separately to each scan.
Defaults: Center BOLD columns, scale by the global standard deviation, and
apply a .01 Hz HPF if the <code>TR</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If <code>TRUE</code>, display progress updates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_fname</code></td>
<td>
<p>(Optional) If not specified, a xifti object will be returned but
the GICA maps will not be written to a CIFTI file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>surfL</code></td>
<td>
<p>(Optional) File path to a surface GIFTI for the left cortex.
If provided, will be part of xifti result object for visualization in R.
Will also be used to perform any smoothing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>surfR</code></td>
<td>
<p>(Optional) File path to a surface GIFTI for the right cortex.
If provided, will be part of xifti result object for visualization in R.
Will also be used to perform any smoothing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>Smooth the CIFTI data prior to reading in each file? Default:
<code>TRUE</code>. Use the following arguments to control the smoothing parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth_surf_FWHM, smooth_vol_FWHM, smooth_zeroes_as_NA, smooth_subcortical_merged</code></td>
<td>
<p>See <code>smooth_cifti</code>. The defaults here are the same.
Note that <code>smooth_zeroes_as_NA</code> will control both of the corresponding
surface and volume arguments to <code>smooth_cifti</code>.
These arguments only apply if <code>smooth</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>out_fname</code> if a file was written, or the GICA as a <code>"xifti"</code> object
if not.
</p>


</div>