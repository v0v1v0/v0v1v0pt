<div class="container">

<table style="width: 100%;"><tr>
<td>n_prefix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prefix function generator for composing dimension index columns</h2>

<h3>Description</h3>

<p>Generates a function for generating names of index columns for factors in
<code>compose_data()</code> by prefixing a character vector to the original
column name.
</p>


<h3>Usage</h3>

<pre><code class="language-R">n_prefix(prefix)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>Character vector to be prepended to column names by
<code>compose_data()</code> to create index columns. Typically something
like <code>"n"</code> (that is the default used in the <code>.n_name</code> argument
of <code>compose_data()</code>).
</p>
<p>Returns a function. The function returned takes a character vector, <code>name</code>
and returns <code>paste0(prefix, "_", name)</code>, unless <code>name</code> is empty, in
which case it will return <code>prefix</code>.
</p>
<p><code>n_prefix("n")</code> is the default method that <code>compose_data()</code> uses to
generate column names for variables storing the number of levels in a factor. Under
this method, given a data frame
<code>df</code> with a factor column <code>"foo"</code> containing 5 levels, the results of
<code>compose_data(df)</code> will include an element named <code>"n"</code> (the result of
<code>n_prefix("n")("")</code>) equal to the number of rows in <code>df</code> and an element
named <code>"n_foo"</code> (the result of <code>n_prefix("n")("foo")</code>) equal to the
number of levels in <code>df$foo</code>.</p>
</td>
</tr></table>
<h3>See Also</h3>

<p>The <code>.n_name</code> argument of <code>compose_data()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(magrittr)

df = data.frame(
  plot = factor(paste0("p", rep(1:8, times = 2))),
  site = factor(paste0("s", rep(1:4, each = 2, times = 2)))
)

# without changing `.n_name`, compose_data() will prefix indices
# with "n" by default
df %&gt;%
  compose_data()

# you can use n_prefix() to define a different prefix (e.g. "N"):
df %&gt;%
  compose_data(.n_name = n_prefix("N"))

</code></pre>


</div>