<div class="container">

<table style="width: 100%;"><tr>
<td>tm_add_legend</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add manual legend</h2>

<h3>Description</h3>

<p>Creates a <code>tmap-element</code> that adds a manual legend.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tm_add_legend(
  type = c("fill", "symbol", "text", "line", "title"),
  labels = NULL,
  col = NULL,
  size = NULL,
  shape = NULL,
  lwd = NULL,
  lty = NULL,
  text = NULL,
  alpha = NA,
  border.col = "black",
  border.lwd = 1,
  border.alpha = NA,
  title = "",
  is.portrait = TRUE,
  legend.format = list(),
  reverse = FALSE,
  z = NA,
  zindex = NA,
  group = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of legend. One of <code>"fill"</code>, <code>"symbol"</code>, <code>"text"</code>, <code>"line"</code>, or <code>"title"</code>. The last option only displays a title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>legend labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>legend colors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>legend symbol sizes (if <code>type=="symbol"</code>). See example how to replicate the sizes of symbols created with <code>tm_symbols</code>. If not specified, the symbols will have the same size as when calling <code>tm_symbols</code> without specifying the <code>size</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>legend symbol shapes (if <code>type=="symbol"</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>legend line widths (if <code>type=="line"</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>legend line types (if <code>type=="line"</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>legend texts (if <code>type=="text"</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>legend fill transparency</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border.col</code></td>
<td>
<p>legend border col (if <code>type</code> is <code>"fill"</code> or <code>"symbol"</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border.lwd</code></td>
<td>
<p>legend border width (if <code>type</code> is <code>"fill"</code> or <code>"symbol"</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border.alpha</code></td>
<td>
<p>legend border alpha (if <code>type</code> is <code>"fill"</code> or <code>"symbol"</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>legend title</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is.portrait</code></td>
<td>
<p>is legend portrait (<code>TRUE</code>) or landscape (<code>FALSE</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.format</code></td>
<td>
<p>options to format the legend, see <code>tm_symbols</code> (the description of the argument <code>legend.format</code>) for details. Note that many of these arguments are not applicable for <code>tm_add_legend</code> since <code>labels</code> should be a character vector. However, some options could still be handy, e.g. <code>list(text.align = "right")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reverse</code></td>
<td>
<p>are the legend items reversed (by default <code>FALSE</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>legend stack position</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zindex</code></td>
<td>
<p>zindex of the pane in view mode to which the legend belongs (if any).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>name of the group to which this layer belongs in view mode. Each group can be selected or deselected in the layer control item. By default <code>NULL</code>, which means that the legend will not be shown in the layer control item.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>tm_symbols</code> for another example
</p>


<h3>Examples</h3>

<pre><code class="language-R"># This example adds a manual legend that combines the tm_symbols color and size legend.
## Not run: 
data(World)
data(metro)

# legend bubble size (10, 20, 30, 40 million) are
# - are normlized by upper limit (40e6),
# - square rooted (see argument perceptual of tm_symbols), and 
# - scaled by 2:
bubble_sizes &lt;- ((c(10, 20, 30, 40) * 1e6) / 40e6) ^ 0.5 * 2 

tm_shape(World) + 
	tm_polygons() + 
tm_shape(metro) +
	tm_symbols(col='pop2020', 
		breaks = c(0, 15, 25, 35, 40) * 1e6,
		n=4,
		palette = 'YlOrRd',
		size='pop2020',
		sizes.legend = c(10, 20, 30, 40) * 1e6,
		size.lim = c(0, 40e6),
		scale = 2,
		legend.size.show = FALSE,    # comment this line to see the original size legend
		legend.col.show = FALSE,     # comment this line to see the original color legend
		legend.size.is.portrait = TRUE) + 
tm_add_legend('symbol', 
	col = RColorBrewer::brewer.pal(4, "YlOrRd"),
	border.col = "grey40",
	size = bubble_sizes,
	labels = c('0-15 mln','15-25 mln','25-35 mln','35-40 mln'),
	title="Population Estimate")

## End(Not run)

# See also the documentation of tm_symbols for another example
</code></pre>


</div>