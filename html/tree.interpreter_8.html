<div class="container">

<table style="width: 100%;"><tr>
<td>trainsetBiasTree</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Trainset Bias</h2>

<h3>Description</h3>

<p>For a tree in the forest, trainset bias is the prediction of its root node,
or the unconditional prediction of the tree, or the average response of the
samples used to train the tree.
</p>


<h3>Usage</h3>

<pre><code class="language-R">trainsetBiasTree(tidy.RF, tree)

trainsetBias(tidy.RF)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tidy.RF</code></td>
<td>
<p>A tidy random forest. The random forest to extract train
set bias from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tree</code></td>
<td>
<p>An integer. The index of the tree to look at.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For a forest, the trainset bias is simply the average trainset bias across
all trees. This is because the prediction of a forest is the average of the
predictions of its trees.
</p>
<p>Together with <code>featureContrib(Tree)</code>, they can decompose the prediction
by feature importance:
</p>
<p style="text-align: center;"><code class="reqn">prediction(MODEL, X) =
    trainsetBias(MODEL) +
    featureContrib_1(MODEL, X) + ... + featureContrib_p(MODEL, X),</code>
</p>

<p>where MODEL can be either a tree or a forest.
</p>


<h3>Value</h3>

<p>A matrix. The content depends the type of the response.
</p>

<ul>
<li>
<p> Regression: A 1-by-1 matrix. The trainset bias for the prediction
of the response.
</p>
</li>
<li>
<p> Classification: A 1-by-D matrix, where D is the number of response
classes. Each column of the matrix stands for the trainset bias for
the prediction of each response class.
</p>
</li>
</ul>
<h3>Functions</h3>


<ul>
<li> <p><code>trainsetBiasTree</code>: Trainset bias within a single tree
</p>
</li>
<li> <p><code>trainsetBias</code>: Trainset bias within the whole forest
</p>
</li>
</ul>
<h3>References</h3>

<p>Interpreting random forests
<a href="http://blog.datadive.net/interpreting-random-forests/">http://blog.datadive.net/interpreting-random-forests/</a>
</p>
<p>Random forest interpretation with scikit-learn
<a href="http://blog.datadive.net/random-forest-interpretation-with-scikit-learn/">http://blog.datadive.net/random-forest-interpretation-with-scikit-learn/</a>
</p>


<h3>See Also</h3>

<p><code>featureContrib</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(ranger)
rfobj &lt;- ranger(Species ~ ., iris, keep.inbag=TRUE)
tidy.RF &lt;- tidyRF(rfobj, iris[, -5], iris[, 5])
trainsetBiasTree(tidy.RF, 1)
trainsetBias(tidy.RF)

</code></pre>


</div>