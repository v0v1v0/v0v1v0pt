<div class="container">

<table style="width: 100%;"><tr>
<td>TSPLIB</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read and write TSPLIB files</h2>

<h3>Description</h3>

<p>Reads and writes TSPLIB format files. TSPLIB files can be used by most TSP
solvers. Sample instances for the TSP in TSPLIB format are available on the
TSPLIB homepage (see references).
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_TSPLIB(file, precision = 0)

write_TSPLIB(x, file, precision = 6, inf = NULL, neg_inf = NULL)

## S3 method for class 'TSP'
write_TSPLIB(x, file, precision = 6, inf = NULL, neg_inf = NULL)

## S3 method for class 'ATSP'
write_TSPLIB(x, file, precision = 6, inf = NULL, neg_inf = NULL)

## S3 method for class 'ETSP'
write_TSPLIB(x, file, precision = 6, inf = NULL, neg_inf = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>file name or a connection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>precision</code></td>
<td>
<p>controls the number of decimal places used to represent
distances (see details).  If <code>x</code> already is <code>integer</code>, this
argument is ignored and <code>x</code> is used as is.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object with a TSP problem.
<code>NA</code>s are not allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inf</code></td>
<td>
<p>replacement value for <code>Inf</code> (TSPLIB format cannot handle
<code>Inf</code>). If <code>inf</code> is <code>NULL</code>, a large value of <code class="reqn">max(x) + 2
range(x)</code> (ignoring infinite entries) is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>neg_inf</code></td>
<td>
<p>replacement value for <code>-Inf</code>.  If no value is specified,
a small value of <code class="reqn">min(x) - 2 range(x)</code> (ignoring infinite entries) is
used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In the TSPLIB format distances are represented by integer values. Therefore,
if <code>x</code> contains <code>double</code> values (which is normal in R) the values
given in <code>x</code> are multiplied by <code class="reqn">10^{precision}</code> before coercion to
<code>integer</code>. Note that therefore all results produced by programs using
the TSPLIB file as input need to be divided by <code class="reqn">10^{precision}</code> (i.e.,
the decimal point has to be shifted <code>precision</code> placed to the left).
</p>
<p>Currently only the following <code>EDGE_WEIGHT_TYPE</code>s are implemented:
<code>EXPLICIT</code>, <code>EUC_2D</code> and <code>EUC_3D</code>.
</p>


<h3>Value</h3>

<p>returns an object of class <code>TSP</code> or
<code>ATSP</code>.
</p>


<h3>Author(s)</h3>

<p>Michael Hahsler
</p>


<h3>References</h3>

<p>TSPLIB home page,
<a href="http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/">http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/</a>
</p>


<h3>See Also</h3>

<p>Other TSP: 
<code>ATSP()</code>,
<code>Concorde</code>,
<code>ETSP()</code>,
<code>TSP()</code>,
<code>insert_dummy()</code>,
<code>reformulate_ATSP_as_TSP()</code>,
<code>solve_TSP()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Drilling problem from TSP
drill &lt;- read_TSPLIB(system.file("examples/d493.tsp", package = "TSP"))
drill
tour &lt;- solve_TSP(drill, method = "nn", two_opt = TRUE)
tour
plot(drill, tour, cex=.6, col = "red", pch= 3, main = "TSPLIB: d493")


## Write and read data in TSPLIB format
x &lt;- data.frame(x=runif(5), y=runif(5))

## create TSP, ATSP and ETSP (2D)
tsp &lt;- TSP(dist(x))
atsp &lt;- ATSP(dist(x))
etsp &lt;- ETSP(x[,1:2])

write_TSPLIB(tsp, file="example.tsp")
#file.show("example.tsp")
r &lt;- read_TSPLIB("example.tsp")
r

write_TSPLIB(atsp, file="example.tsp")
#file.show("example.tsp")
r &lt;- read_TSPLIB("example.tsp")
r

write_TSPLIB(etsp, file="example.tsp")
#file.show("example.tsp")
r &lt;- read_TSPLIB("example.tsp")
r

## clean up
unlink("example.tsp")
</code></pre>


</div>