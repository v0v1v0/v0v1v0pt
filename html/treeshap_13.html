<div class="container">

<table style="width: 100%;"><tr>
<td>plot_interaction</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>SHAP Interaction value plot</h2>

<h3>Description</h3>

<p>This function plots SHAP Interaction value for two variables depending on the value of the first variable.
Value of the second variable is marked with the color.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_interaction(
  treeshap,
  var1,
  var2,
  title = "SHAP Interaction Value Plot",
  subtitle = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>treeshap</code></td>
<td>
<p>A treeshap object produced with <code>treeshap(interactions = TRUE)</code> function. <code>treeshap.object</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var1</code></td>
<td>
<p>name or index of the first variable - plotted on x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var2</code></td>
<td>
<p>name or index of the second variable - marked with color.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>the plot's title, by default <code>'SHAP Interaction Value Plot'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtitle</code></td>
<td>
<p>the plot's subtitle. By default no subtitle.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>ggplot2</code> object
</p>


<h3>See Also</h3>

<p><code>treeshap</code> for calculation of SHAP Interaction values
</p>
<p><code>plot_contribution</code>, <code>plot_feature_importance</code>, <code>plot_feature_dependence</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data &lt;- fifa20$data[colnames(fifa20$data) != 'work_rate']
target &lt;- fifa20$target
param2 &lt;- list(objective = "reg:squarederror", max_depth = 5)
xgb_model2 &lt;- xgboost::xgboost(as.matrix(data), params = param2, label = target, nrounds = 10)
unified_model2 &lt;- xgboost.unify(xgb_model2, data)
inters &lt;- treeshap(unified_model2, as.matrix(data[1:50, ]), interactions = TRUE)
plot_interaction(inters, "dribbling", "defending")

</code></pre>


</div>