<div class="container">

<table style="width: 100%;"><tr>
<td>TwoSampleAalenJohansen</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Risk difference and ratio using the Aalen-Johansen method</h2>

<h3>Description</h3>

<p>Computes an (absolute) risk difference or ratio with right-censored competing risks data, together with a confidence interval and a
p-value (to test for a difference between the two risks). Pointwise estimates are computed via the Aalen-Johansen estimator. Computation of confidence intervals
and p-values are based on either Empirical Likelihood (EL) inference or Wald-type inference. Both are non-parametric approaches, which are asymptotically equivalent.
For the Wald-type approach, the asymptotic normal approximation is used on the log scale for the risk ratio. No transformation is used for the risk difference.
See Blanche &amp; Eriksson (2023) for details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">TwoSampleAalenJohansen(
  time,
  cause,
  group,
  t,
  RR.H0 = 1,
  Diff.H0 = 0,
  level = 0.95,
  contr = list(tol = 1e-05, algo = 2, k = 3, Trace = FALSE, method = "both")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>vector of times (possibly censored)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cause</code></td>
<td>
<p>vector of event types/causes. It should be coded 1 for main events, 2 for competing events and 0 for censored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>vector of binary group indicator. The reference group should be coded 0, the other 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>the time point of interest (e.g. 1 to compute a 1-year risk ratio)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RR.H0</code></td>
<td>
<p>the risk ratio under the null hypothesis, to compute a p-value. Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Diff.H0</code></td>
<td>
<p>the risk difference under the null hypothesis, to compute a p-value. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>confidence level for the confidence intervals. Default is 0.95.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contr</code></td>
<td>
<p>list of control parameters. tol=tolerance for numerical computation, default is 1e-5. method="EL", "Wald" or "both"  indicates wether 95% CI and the p-value should be computed based on Empirical Likelihood (EL) inference, Wald-type inference or both. algo=2 (default) or 1, depending on which computational method should be used to maximize the empirical likelihood (method 1 or 2, as described in Blanche &amp; Eriksson (2023))</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an object of class 'TwoSampleAalenJohansen'
</p>


<h3>Author(s)</h3>

<p>Paul Blanche
</p>


<h3>References</h3>

<p>Blanche &amp; Eriksson (2023). Empirical likelihood comparison of absolute risks.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## A simple example for Wald-type inference, using simulated data.
## It illustrates the possible inconsistency of Wald-type inference, in
## terms of statistical significance, when inference is based on the risk
## ratio and on the risk difference. This inconsistency cannot exist
## using an empirical likelihood approach.

ResSimA100 &lt;- TwoSampleAalenJohansen(time=SimA100$time,
                                     cause=SimA100$status,
                                     group=SimA100$group,
                                     t=1,
                                     contr=list(method="Wald"))
ResSimA100


## Same example data, but now analyzed with and empirical likelihood approach. It
## takes approx 20 seconds to run.

ResSimA100 &lt;- TwoSampleAalenJohansen(time=SimA100$time,
                                     cause=SimA100$status,
                                     group=SimA100$group,
                                     t=1)
ResSimA100


</code></pre>


</div>