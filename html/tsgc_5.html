<div class="container">

<table style="width: 100%;"><tr>
<td>FilterResults-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>FilterResults</h2>

<h3>Description</h3>

<p>Class for estimated Dynamic Gompertz Curve model and contains
methods to extract smoothed/filtered estimates of the states, the level of
the incidence variable <code class="reqn">y</code>, and forecasts of <code class="reqn">y</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>get_growth_y(smoothed = FALSE, return.components = FALSE)</code></dt>
<dd>
<p>Returns the growth rate of the incidence (<code class="reqn">y</code>) of the cumulated
variable (<code class="reqn">Y</code>). Computed as
</p>
<p style="text-align: center;"><code class="reqn">g_t = \exp\{\delta_t\}+\gamma_t.</code>
</p>



<h4>Parameters</h4>


<ul>
<li>
<p><code>smoothed</code> Logical value indicating whether to use the
smoothed estimates of <code class="reqn">\delta</code> and <code class="reqn">\gamma</code> to compute the
growth rate (<code>TRUE</code>), or the contemporaneous filtered estimates
(<code>FALSE</code>). Default is <code>FALSE</code>.
</p>
</li>
<li>
<p><code>return.components</code> Logical value indicating whether to
return the estimates of <code class="reqn">\delta</code> and <code class="reqn">\gamma</code> as well as
the estimates of the growth rate, or just the growth rate. Default is
<code>FALSE</code>.
</p>
</li>
</ul>
<h4>Return Value</h4>

<p><code>xts</code> object containing
smoothed/filtered growth rates and components (<code class="reqn">\delta</code> and
<code class="reqn">\gamma</code>), where applicable.</p>
</dd>
<dt><code>get_gy_ci(smoothed = FALSE, confidence_level = 0.68)</code></dt>
<dd>
<p>Returns the growth rate of the incidence (<code class="reqn">y</code>) of the cumulated
variable (<code class="reqn">Y</code>). Computed as
</p>
<p style="text-align: center;"><code class="reqn">g_t = \exp\{\delta_t\}+\gamma_t.</code>
</p>



<h4>Parameters</h4>


<ul>
<li>
<p><code>smoothed</code> Logical value indicating whether to use the
smoothed estimates of <code class="reqn">\delta</code> and <code class="reqn">\gamma</code> to compute the
growth rate (<code>TRUE</code>), or the contemporaneous filtered estimates
(<code>FALSE</code>). Default is <code>FALSE</code>.
</p>
</li>
<li>
<p><code>confidence_level</code> Confidence level for the confidence
interval.  Default is <code class="reqn">0.68</code>, which is one standard deviation for
a normally distributed random variable.
</p>
</li>
</ul>
<h4>Return Value</h4>

<p><code>xts</code> object containing smoothed/filtered
growth rates and upper and lower bounds for the confidence intervals.</p>
</dd>
<dt><code>predict_all(n.ahead, sea.on = FALSE, return.all = FALSE)</code></dt>
<dd>
<p>Returns forecasts of the incidence variable <code class="reqn">y</code>, the state variables
and the conditional covariance matrix
for the states.
</p>


<h4>Parameters</h4>


<ul>
<li>
<p><code>n.ahead</code> The number of forecasts you wish to create from
the end of your sample period.
</p>
</li>
<li>
<p><code>sea.on</code> Logical value indicating whether seasonal
components should be included in the
state-space model or not. Default is <code>TRUE</code>.
</p>
</li>
<li>
<p><code>return.all</code> Logical value indicating whether to return
all filtered estimates and forecasts
(<code>TRUE</code>) or only the forecasts (<code>FALSE</code>). Default is
<code>FALSE</code>.
</p>
</li>
</ul>
<h4>Return Value</h4>

<p><code>xts</code> object containing the forecast
(and filtered, where applicable) level
of <code class="reqn">y</code> (<code>y.hat</code>), <code class="reqn">\delta</code> (<code>level.t.t</code>),
<code class="reqn">\gamma</code> (<code>slope.t.t</code>), vector of states including the
seasonals where applicable (<code>a.t.t</code>) and covariance matrix of all
states including seasonals where applicable (<code>P.t.t</code>).</p>
</dd>
<dt><code>predict_level(
  y.cum,
  n.ahead,
  confidence_level,
  sea.on = FALSE,
  return.diff = FALSE
)</code></dt>
<dd>
<p>Forecast the cumulated variable or the incidence of it. This function returns
the forecast of the cumulated variable <code class="reqn">Y</code>, or the forecast of the incidence of the cumulated variable, <code class="reqn">y</code>. For
example, in the case of an epidemic, <code class="reqn">y</code> might be daily new cases of
the disease and
<code class="reqn">Y</code> the cumulative number of recorded infections.
</p>


<h4>Parameters</h4>


<ul>
<li>
<p><code>y.cum</code> The cumulated variable.
</p>
</li>
<li>
<p><code>n.ahead</code> The number of periods ahead you wish to forecast from
the end of the estimation window.
</p>
</li>
<li>
<p><code>confidence_level</code> The confidence level for the log growth
rate that should be used to compute
the forecast intervals of <code class="reqn">y</code>.
</p>
</li>
<li>
<p><code>return.diff</code> Logical value indicating whether to return the cumulated variable,
<code class="reqn">Y</code>, or the incidence of it,
<code class="reqn">y</code> (i.e., the first difference of the cumulated variable). Default is
<code>FALSE</code>.
</p>
</li>
</ul>
<h4>Return Value</h4>

<p><code>xts</code> object containing the point
forecasts and upper and lower bounds of
the forecast interval.</p>
</dd>
<dt><code>print_estimation_results()</code></dt>
<dd>
<p>Prints a table of estimated parameters in a format ready to paste into
LaTeX.</p>
</dd>
</dl>
<h3>References</h3>

<p>Harvey, A. C. and Kattuman, P. (2021). A Farewell to R:
Time Series Models for Tracking and
Forecasting Epidemics, Journal of the Royal Society Interface, vol 18(182):
20210179
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(tsgc)
data(gauteng,package="tsgc")
idx.est &lt;- zoo::index(gauteng) &lt;= as.Date("2020-07-20")

# Specify a model
model &lt;- SSModelDynamicGompertz$new(Y = gauteng[idx.est], q = 0.005)
# Estimate a specified model
res &lt;- model$estimate()
# Print estimation results
res$print_estimation_results()
# Forecast 7 days ahead from the end of the estimation window
res$predict_level(y.cum = gauteng[idx.est], n.ahead = 7,
  confidence_level = 0.68)
# Forecast 7 days ahead from the model and return filtered states
res$predict_all(n.ahead = 7, return.all = TRUE)
# Return the filtered growth rate and its components
res$get_growth_y(return.components = TRUE)
# Return smoothed growth rate of incidence variable and its confidence
# interval
res$get_gy_ci(smoothed = TRUE, confidence_level = 0.68)

</code></pre>


</div>