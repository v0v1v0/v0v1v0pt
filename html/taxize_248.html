<div class="container">

<table style="width: 100%;"><tr>
<td>lowest_common</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Retrieve the lowest common taxon and rank for a given taxon name or ID</h2>

<h3>Description</h3>

<p>Retrieve the lowest common taxon and rank for a given taxon name or ID
</p>


<h3>Usage</h3>

<pre><code class="language-R">lowest_common(...)

## Default S3 method:
lowest_common(
  sci_id,
  db = NULL,
  rows = NA,
  class_list = NULL,
  low_rank = NULL,
  x = NULL,
  ...
)

## S3 method for class 'uid'
lowest_common(sci_id, class_list = NULL, low_rank = NULL, ...)

## S3 method for class 'tsn'
lowest_common(sci_id, class_list = NULL, low_rank = NULL, ...)

## S3 method for class 'gbifid'
lowest_common(sci_id, class_list = NULL, low_rank = NULL, ...)

## S3 method for class 'tolid'
lowest_common(sci_id, class_list = NULL, low_rank = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to <code>get_tsn()</code>, <code>get_uid()</code>,
<code>get_gbifid()</code>, <code>get_tolid()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sci_id</code></td>
<td>
<p>Vector of taxa names (character) or id (character or numeric) to
query.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>db</code></td>
<td>
<p>character; database to query. either <code>ncbi</code>, <code>itis</code>, <code>gbif</code>,
<code>tol</code>. If using ncbi, we recommend getting an API key;
see taxize-authentication</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>
<p>(numeric) Any number from 1 to infinity. If the default NA,
all rows are considered. Note that this parameter is ignored if you pass in
a taxonomic id of any of the acceptable classes: tsn, gbifid, tolid.
NCBI has a method for this function but rows doesn't work.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class_list</code></td>
<td>
<p>(list) A list of classifications, as returned from
<code>classification()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>low_rank</code></td>
<td>
<p>(character) taxonomic rank to return, of length 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Deprecated, see <code>sci_id</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>NA when no match, or a data.frame with columns
</p>

<ul>
<li>
<p> name
</p>
</li>
<li>
<p> rank
</p>
</li>
<li>
<p> id
</p>
</li>
</ul>
<h3>Authentication</h3>

<p>See taxize-authentication for help on authentication
</p>


<h3>Author(s)</h3>

<p>Jimmy O'Donnell <a href="mailto:jodonnellbio@gmail.com">jodonnellbio@gmail.com</a>
Scott Chamberlain
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
id &lt;- c("9031", "9823", "9606", "9470")
id_class &lt;- classification(id, db = 'ncbi')
lowest_common(id[2:4], db = "ncbi")
lowest_common(id[2:4], db = "ncbi", low_rank = 'class')
lowest_common(id[2:4], db = "ncbi", low_rank = 'family')
lowest_common(id[2:4], class_list = id_class)
lowest_common(id[2:4], class_list = id_class, low_rank = 'class')
lowest_common(id[2:4], class_list = id_class, low_rank = 'family')

# TOL
taxa &lt;- c("Angraecum sesquipedale", "Dracula vampira",
  "Masdevallia coccinea")
(cls &lt;- classification(taxa, db = "tol"))
lowest_common(taxa, db = "tol", class_list = cls)
lowest_common(get_tolid(taxa), class_list = cls)
xx &lt;- get_tolid(taxa)
lowest_common(xx, class_list = cls)

spp &lt;- c("Sus scrofa", "Homo sapiens", "Nycticebus coucang")
lowest_common(spp, db = "ncbi")
lowest_common(get_uid(spp))

lowest_common(spp, db = "itis")
lowest_common(get_tsn(spp))

gbifid &lt;- c("2704179", "3119195")
lowest_common(gbifid, db = "gbif")

spp &lt;- c("Poa annua", "Helianthus annuus")
lowest_common(spp, db = "gbif")
lowest_common(get_gbifid(spp))

cool_orchid &lt;- c("Angraecum sesquipedale", "Dracula vampira",
  "Masdevallia coccinea")
orchid_ncbi &lt;- get_uid(cool_orchid)
orchid_gbif &lt;- get_gbifid(cool_orchid)

cool_orchids2 &lt;- c("Domingoa haematochila", "Gymnadenia conopsea",
  "Masdevallia coccinea")
orchid_itis &lt;- get_tsn(cool_orchids2)

orchid_hier_ncbi &lt;- classification(orchid_ncbi, db = 'ncbi')
orchid_hier_gbif &lt;- classification(orchid_gbif, db = 'gbif')
orchid_hier_itis &lt;- classification(orchid_itis, db = 'itis')

lowest_common(orchid_ncbi, low_rank = 'class')
lowest_common(orchid_ncbi, class_list = orchid_hier_ncbi,
  low_rank = 'class')
lowest_common(orchid_gbif, low_rank = 'class')
lowest_common(orchid_gbif, orchid_hier_gbif, low_rank = 'class')
lowest_common(get_uid(cool_orchid), low_rank = 'class')
lowest_common(get_uid(cool_orchid), low_rank = 'family')

lowest_common(orchid_ncbi, class_list = orchid_hier_ncbi,
  low_rank = 'subfamily')
lowest_common(orchid_gbif, class_list = orchid_hier_gbif,
  low_rank = 'subfamily')

lowest_common(orchid_itis, class_list = orchid_hier_itis,
  low_rank = 'class')

## Pass in sci. names
nms &lt;- c("Angraecum sesquipedale", "Dracula vampira", "Masdevallia coccinea")
lowest_common(x = nms, db = "ncbi")
lowest_common(x = nms, db = "gbif")
# lowest_common(x = nms, db = "itis")

## NAs due to taxon not found, stops with error message
# lowest_common(orchid_itis, db = "itis")
# lowest_common(get_tsn(cool_orchid))

## End(Not run)
</code></pre>


</div>