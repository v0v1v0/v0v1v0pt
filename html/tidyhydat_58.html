<div class="container">

<table style="width: 100%;"><tr>
<td>realtime_ws</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download realtime data from the ECCC web service</h2>

<h3>Description</h3>

<p>Function to actually retrieve data from ECCC web service.
The maximum number of days that can be queried depends on other parameters being requested.
If one station is requested, 18 months of data can be requested. If you continually receiving
errors when invoking this function, reduce the number of observations (via station_number,
parameters or dates) being requested.
</p>


<h3>Usage</h3>

<pre><code class="language-R">realtime_ws(
  station_number,
  parameters = NULL,
  start_date = Sys.Date() - 30,
  end_date = Sys.Date()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>station_number</code></td>
<td>
<p>Water Survey of Canada station number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameters</code></td>
<td>
<p>parameter ID. Can take multiple entries. Parameter is a numeric code. See <code>param_id</code>
for some options though undocumented parameters may be implemented. Defaults to Water level provisional, Secondary water level,
Tertiary water level, Discharge Provisional, Discharge, sensor, Water temperature, Secondary water temperature, Accumulated precipitation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_date</code></td>
<td>
<p>Accepts either YYYY-MM-DD or YYYY-MM-DD HH:MM:SS.
If only start date is supplied (i.e. YYYY-MM-DD) values are returned from the start of that day.
Defaults to 30 days before current date. Time is supplied in UTC.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end_date</code></td>
<td>
<p>Accepts either YYYY-MM-DD or YYYY-MM-DD HH:MM:SS.
If only a date is supplied (i.e. YYYY-MM-DD) values are returned from the end of that day.
Defaults to current date. Time is supplied in UTC.</p>
</td>
</tr>
</table>
<h3>Format</h3>

<p>A tibble with 6 variables:
</p>

<dl>
<dt>STATION_NUMBER</dt>
<dd>
<p>Unique 7 digit Water Survey of Canada station number</p>
</dd>
<dt>Date</dt>
<dd>
<p>Observation date and time. Formatted as a POSIXct class as UTC for consistency.</p>
</dd>
<dt>Name_En</dt>
<dd>
<p>Code name in English</p>
</dd>
<dt>Value</dt>
<dd>
<p>Value of the measurement.</p>
</dd>
<dt>Unit</dt>
<dd>
<p>Value units</p>
</dd>
<dt>Grade</dt>
<dd>
<p>future use</p>
</dd>
<dt>Symbol</dt>
<dd>
<p>future use</p>
</dd>
<dt>Approval</dt>
<dd>
<p>future use</p>
</dd>
<dt>Parameter</dt>
<dd>
<p>Numeric parameter code</p>
</dd>
<dt>Code</dt>
<dd>
<p>Letter parameter code</p>
</dd>
</dl>
<h3>See Also</h3>

<p>Other realtime functions: 
<code>realtime_dd()</code>,
<code>realtime_stations()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

ws_08 &lt;- realtime_ws(
  station_number = c("08NL071", "08NM174"),
  parameters = c(47, 5)
)

fivedays &lt;- realtime_ws(
  station_number = c("08NL071", "08NM174"),
  parameters = c(47, 5),
  end_date = Sys.Date(), # today
  start_date = Sys.Date() - 5 # five days ago
)

## End(Not run)
</code></pre>


</div>