<div class="container">

<table style="width: 100%;"><tr>
<td>pull.Spat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract a single layer/attribute</h2>

<h3>Description</h3>

<p><code>pull()</code> is similar to <code>$</code> on a data frame. It's mostly useful because it
looks a little nicer in pipes and it can optionally name the output.
</p>
<p><strong>It is possible to extract the geographic coordinates of a <code>SpatRaster</code></strong>.
You need to use <code>pull(.data, x, xy = TRUE)</code>. <code>x</code> and <code>y</code> are reserved
names on terra, since they refer to the geographic coordinates of the layer.
</p>
<p>See <strong>Examples</strong> and section <strong>About layer names</strong> on <code>as_tibble.Spat()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'SpatRaster'
pull(.data, var = -1, name = NULL, ...)

## S3 method for class 'SpatVector'
pull(.data, var = -1, name = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>A <code>SpatRaster</code> created with <code>terra::rast()</code> or a <code>SpatVector</code>
created with <code>terra::vect()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>A variable specified as:
</p>

<ul>
<li>
<p> a literal layer/attribute name.
</p>
</li>
<li>
<p> a positive integer, giving the position counting from the left.
</p>
</li>
<li>
<p> a negative integer, giving the position counting from the right.
</p>
</li>
</ul>
<p>The default returns the last layer/attribute (on the assumption that's the
column you've created most recently).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>An optional parameter that specifies the column to be used as
names for a named vector. Specified in a similar manner as <code>var</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed on to <code>as_tibble.Spat()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector the same number of cells/geometries as <code>.data</code>.
</p>
<p>On <code>SpatRaster</code> objects, note that the default (<code>na.rm = FALSE</code>) would remove
empty cells, so you may need to pass (<code>na.rm = FALSE</code>) to <code>...</code>. See
<code>terra::as.data.frame()</code>.
</p>


<h3>
<a href="https://CRAN.R-project.org/package=terra"><span class="pkg">terra</span></a> equivalent</h3>

<p><code>terra::values()</code>
</p>


<h3>Methods</h3>

<p>Implementation of the <strong>generic</strong> <code>dplyr::pull()</code> function. This is done
by coercing the <code style="white-space: pre;">⁠Spat*⁠</code> object to a tibble first (see as_tibble.Spat) and
then using <code>dplyr::pull()</code> method over the tibble.
</p>


<h4><code>SpatRaster</code></h4>

<p>When passing option <code>na.rm = TRUE</code> to <code>...</code>, only cells with a value
distinct to <code>NA</code> are extracted. See <code>terra::as.data.frame()</code>.
</p>
<p>If <code>xy = TRUE</code> option is passed to <code>...</code>, two columns names <code>x</code> and <code>y</code>
(corresponding to the geographic coordinates of each cell) are available
in position <code>1</code> and <code>2</code>. Hence, <code>pull(.data, 1)</code> and
<code>pull(.data, 1, xy = TRUE)</code> return different result.
</p>



<h4><code>SpatVector</code></h4>

<p>When passing <code>geom = "WKT"/geom = "HEX"</code> to <code>...</code>,  the geometry of the
<code>SpatVector</code> can be pulled passing <code>var = geometry</code>. Similarly to
<code>SpatRaster</code> method, when using <code>geom = "XY"</code> the <code style="white-space: pre;">⁠x,y⁠</code> coordinates can be
pulled with <code>var = x/var = y</code>. See  <code>terra::as.data.frame()</code> options.
</p>



<h3>See Also</h3>

<p><code>dplyr::pull()</code>
</p>
<p>Other <a href="https://CRAN.R-project.org/package=dplyr"><span class="pkg">dplyr</span></a> verbs that operate on columns:
<code>glimpse.Spat</code>,
<code>mutate.Spat</code>,
<code>relocate.Spat</code>,
<code>rename.Spat</code>,
<code>select.Spat</code>
</p>
<p>Other <a href="https://CRAN.R-project.org/package=dplyr"><span class="pkg">dplyr</span></a> methods:
<code>arrange.SpatVector()</code>,
<code>bind_cols.SpatVector</code>,
<code>bind_rows.SpatVector</code>,
<code>count.SpatVector()</code>,
<code>distinct.SpatVector()</code>,
<code>filter-joins.SpatVector</code>,
<code>filter.Spat</code>,
<code>glimpse.Spat</code>,
<code>group-by.SpatVector</code>,
<code>mutate-joins.SpatVector</code>,
<code>mutate.Spat</code>,
<code>relocate.Spat</code>,
<code>rename.Spat</code>,
<code>rowwise.SpatVector()</code>,
<code>select.Spat</code>,
<code>slice.Spat</code>,
<code>summarise.SpatVector()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(terra)
f &lt;- system.file("extdata/cyl_tile.tif", package = "tidyterra")
r &lt;- rast(f)

# Extract second layer
r %&gt;%
  pull(2) %&gt;%
  head()

# With xy the first two cols are `x` (longitude) and `y` (latitude)

r %&gt;%
  pull(2, xy = TRUE) %&gt;%
  head()

# With renaming

r %&gt;%
  mutate(cat = cut(cyl_tile_3, c(0, 100, 300))) %&gt;%
  pull(cyl_tile_3, name = cat) %&gt;%
  head()

</code></pre>


</div>