<div class="container">

<table style="width: 100%;"><tr>
<td>filter_by_time</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter (for Time-Series Data)</h2>

<h3>Description</h3>

<p>The easiest way to filter time-based <em><strong>start/end ranges</strong></em> using shorthand timeseries notation.
See <code>filter_period()</code> for applying filter expression by period (windows).
</p>


<h3>Usage</h3>

<pre><code class="language-R">filter_by_time(.data, .date_var, .start_date = "start", .end_date = "end")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>A tibble with a time-based column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.date_var</code></td>
<td>
<p>A column containing date or date-time values to filter.
If missing, attempts to auto-detect date column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.start_date</code></td>
<td>
<p>The starting date for the filter sequence</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.end_date</code></td>
<td>
<p>The ending date for the filter sequence</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><strong>Pure Time Series Filtering Flexibilty</strong>
</p>
<p>The <code>.start_date</code>  and <code>.end_date</code> parameters are designed with flexibility in mind.
</p>
<p>Each side of the <code>time_formula</code> is specified as the character
<code>'YYYY-MM-DD HH:MM:SS'</code>, but powerful shorthand is available.
Some examples are:
</p>

<ul>
<li> <p><strong>Year:</strong> <code style="white-space: pre;">⁠.start_date = '2013', .end_date = '2015'⁠</code>
</p>
</li>
<li> <p><strong>Month:</strong> <code style="white-space: pre;">⁠.start_date = '2013-01', .end_date = '2016-06'⁠</code>
</p>
</li>
<li> <p><strong>Day:</strong> <code style="white-space: pre;">⁠.start_date = '2013-01-05', .end_date = '2016-06-04'⁠</code>
</p>
</li>
<li> <p><strong>Second:</strong> <code style="white-space: pre;">⁠.start_date = '2013-01-05 10:22:15', .end_date = '2018-06-03 12:14:22'⁠</code>
</p>
</li>
<li> <p><strong>Variations:</strong> <code style="white-space: pre;">⁠.start_date = '2013', .end_date = '2016-06'⁠</code>
</p>
</li>
</ul>
<p><strong>Key Words: "start" and "end"</strong>
</p>
<p>Use the keywords "start" and "end" as shorthand, instead of specifying the
actual start and end values. Here are some examples:
</p>

<ul>
<li> <p><strong>Start of the series to end of 2015:</strong> <code style="white-space: pre;">⁠.start_date = 'start', .end_date = '2015'⁠</code>
</p>
</li>
<li> <p><strong>Start of 2014 to end of series:</strong> <code style="white-space: pre;">⁠.start_date = '2014', .end_date = 'end'⁠</code>
</p>
</li>
</ul>
<p><strong>Internal Calculations</strong>
</p>
<p>All shorthand dates are expanded:
</p>

<ul>
<li>
<p> The <code>.start_date</code> is expanded to be the <em>first date</em> in that period
</p>
</li>
<li>
<p> The <code>.end_date</code> side is expanded to be the <em>last date</em> in that period
</p>
</li>
</ul>
<p>This means that the following examples are equivalent (assuming your
index is a POSIXct):
</p>

<ul>
<li> <p><code>.start_date = '2015'</code> is equivalent to <code>.start_date = '2015-01-01 + 00:00:00' </code>
</p>
</li>
<li> <p><code>.end_date = '2016'</code> is equivalent to <code style="white-space: pre;">⁠2016-12-31 + 23:59:59'⁠</code>
</p>
</li>
</ul>
<h3>Value</h3>

<p>Returns a <code>tibble</code> or <code>data.frame</code> that has been filtered.
</p>


<h3>References</h3>


<ul><li>
<p> This function is based on the <code>tibbletime::filter_time()</code> function developed by Davis Vaughan.
</p>
</li></ul>
<h3>See Also</h3>

<p>Time-Based dplyr functions:
</p>

<ul>
<li> <p><code>summarise_by_time()</code> - Easily summarise using a date column.
</p>
</li>
<li> <p><code>mutate_by_time()</code> - Simplifies applying mutations by time windows.
</p>
</li>
<li> <p><code>pad_by_time()</code> - Insert time series rows with regularly spaced timestamps
</p>
</li>
<li> <p><code>filter_by_time()</code> - Quickly filter using date ranges.
</p>
</li>
<li> <p><code>filter_period()</code> - Apply filtering expressions inside periods (windows)
</p>
</li>
<li> <p><code>slice_period()</code> - Apply slice inside periods (windows)
</p>
</li>
<li> <p><code>condense_period()</code> - Convert to a different periodicity
</p>
</li>
<li> <p><code>between_time()</code> - Range detection for date or date-time sequences.
</p>
</li>
<li> <p><code>slidify()</code> - Turn any function into a sliding (rolling) function
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)

# Filter values in January 1st through end of February, 2013
FANG %&gt;%
    group_by(symbol) %&gt;%
    filter_by_time(.start_date = "start", .end_date = "2013-02") %&gt;%
    plot_time_series(date, adjusted, .facet_ncol = 2, .interactive = FALSE)

</code></pre>


</div>