<div class="container">

<table style="width: 100%;"><tr>
<td>tdigest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a new t-Digest histogram from a vector</h2>

<h3>Description</h3>

<p>The t-Digest construction algorithm, by Dunning et al., uses a variant of 1-dimensional
k-means clustering to produce a very compact data structure that allows
accurate estimation of quantiles. This t-Digest data structure can be used
to estimate quantiles, compute other rank statistics or even to estimate
related measures like trimmed means. The advantage of the t-Digest over
previous digests for this purpose is that the t-Digest handles data with
full floating point resolution. The accuracy of quantile estimates produced
by t-Digests can be orders of magnitude more accurate than those produced
by previous digest algorithms. Methods are provided to create and update
t-Digests and retrieve quantiles from the accumulated distributions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tdigest(vec, compression = 100)

## S3 method for class 'tdigest'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>vec</code></td>
<td>
<p>vector (will be converted to <code>double</code> if not already double).
NOTE that this is ALTREP-aware and will not materialize the passed-in
object in order to add the values to the t-Digest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compression</code></td>
<td>
<p>the input compression value; should be &gt;= 1.0; this
will control how aggressively the t-Digest compresses data together.
The original t-Digest paper suggests using a value of 100 for a good
balance between precision and efficiency. It will land at very small
(think like 1e-6 percentile points) errors at extreme points in the
distribution, and compression ratios of around 500 for large data sets
(~1 million datapoints). Defaults to 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>tdigest</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>unused</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>tdigest</code> object
</p>


<h3>References</h3>

<p><a href="https://arxiv.org/abs/1902.04023">Computing Extremely Accurate Quantiles Using t-Digests</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(1492)
x &lt;- sample(0:100, 1000000, replace = TRUE)
td &lt;- tdigest(x, 1000)
tquantile(td, c(0, 0.01, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 0.99, 1))
quantile(td)
</code></pre>


</div>