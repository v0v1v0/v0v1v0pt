<div class="container">

<table style="width: 100%;"><tr>
<td>matrix_ops</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Row- or Column-wise Re-ordering of Matrices</h2>

<h3>Description</h3>

<p>Infix operators for custom row- and column-wise re-ordering of matrices. <br><br>
The <code>x %row~% mat</code> operator re-orders the elements of every row,
each row ordered independently from the other rows, of matrix <code>x</code>,
according to the ordering ranks given in matrix <code>mat</code>. <br><br>
The <code>x %col~% mat</code> operator re-orders the elements of every column,
each column ordered independently from the other columns, of matrix <code>x</code>,
according to the ordering ranks given in matrix <code>mat</code>. <br><br></p>


<h3>Usage</h3>

<pre><code class="language-R">x %row~% mat

x %col~% mat
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mat</code></td>
<td>
<p>a matrix with the same dimensions as <code>x</code>,
giving the ordering ranks of every element of matrix <code>x</code>. <br></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If matrix <code>x</code> is a numeric matrix,
and one wants to sort the elements of every row or column numerically,
<code>x %row~% x</code> or <code>x %col~% x</code> would suffice, respectively. <br><br>
If matrix <code>x</code> is not numeric,
sorting the elements using <code>x %row~% x</code> and <code>x %col~% x</code> is still possible,
but probably not the best option.
In the non-numeric case,
providing a matrix of ordering ranks for <code>mat</code> would be faster and give more accurate ordering.
See the examples section. <br><br>
If <code>mat</code> is a matrix of non-repeating random integers, i.e. <br><code>mat &lt;- sample(seq_along(x)) |&gt; matrix(ncol = ncol(x))</code>) <br>
then the code <br><code>x %row~% mat</code> <br>
will randomly shuffle the elements of every row of <code>x</code>,
where the shuffling order in each row is independent from the shuffling order in the other rows. <br>
Similarly, <br><code>x %col~% mat</code> <br>
will randomly shuffle the elements of every column of <code>x</code>,
where the shuffling order in each column is independent from the shuffling order in the other columns. <br><br>
Re-ordering/sorting every row/column of a matrix with these operators
is generally faster than doing so through loops or apply-like functions. <br><br>
Note that these operators strip all attributes except dimensions. <br><br></p>


<h3>Value</h3>

<p>A modified matrix.
</p>


<h3>See Also</h3>

<p>tinycodet_misc
</p>


<h3>Examples</h3>

<pre><code class="language-R"># numeric matrix ====

x &lt;- matrix(sample(1:25), nrow = 5)
print(x)
x %row~% x # sort elements of every row independently
x %row~% -x # reverse-sort elements of every row independently
x %col~% x # sort elements of every column independently
x %col~% -x # reverse-sort elements of every column independently

x &lt;- matrix(sample(1:25), nrow = 5)
print(x)
mat &lt;- sample(seq_along(x)) |&gt; matrix(ncol = ncol(x))
x %row~% mat # randomly shuffle every row independently
x %col~% mat # randomly shuffle every column independently

# character matrix ====

x &lt;- matrix(sample(letters, 25), nrow = 5)
print(x)
mat &lt;- stringi::stri_rank(as.vector(x)) |&gt; matrix(ncol = ncol(x))
x %row~% mat # sort elements of every row independently
x %row~% -mat # reverse-sort elements of every row independently
x %col~% mat # sort elements of every column independently
x %col~% -mat # reverse-sort elements of every column independently

x &lt;- matrix(sample(letters, 25), nrow = 5)
print(x)
mat &lt;- sample(seq_along(x)) |&gt; matrix(ncol = ncol(x))
x %row~% mat # randomly shuffle every row independently
x %col~% mat # randomise shuffle every column independently
</code></pre>


</div>