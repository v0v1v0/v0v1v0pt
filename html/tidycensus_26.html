<div class="container">

<table style="width: 100%;"><tr>
<td>to_survey</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a data frame returned by get_pums() to a survey object</h2>

<h3>Description</h3>

<p>This helper function takes a data frame returned by
<code>get_pums</code> and converts it to a tbl_svy from the srvyr
<code>as_survey</code> package or a svyrep.design object from the
<code>svrepdesign</code> package. You can then use functions from
the srvyr or survey to calculate weighted estimates with replicate weights
included to provide accurate standard errors.
</p>


<h3>Usage</h3>

<pre><code class="language-R">to_survey(
  df,
  type = c("person", "housing"),
  class = c("srvyr", "survey"),
  design = "rep_weights"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame with PUMS person or housing weight variables, most
likely returned by <code>get_pums</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Whether to use person or housing-level weights; either
<code>"housing"</code> or <code>"person"</code> (the default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class</code></td>
<td>
<p>Whether to convert to a srvyr or survey object; either
<code>"survey"</code> or <code>"srvyr"</code> (the default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>The survey design to use when creating a survey object.
Currently the only option is <code>"rep_weights"</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tbl_svy or svyrep.design object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
pums &lt;- get_pums(variables = "AGEP", state = "VT", rep_weights = "person")
pums_design &lt;- to_survey(pums, type = "person", class = "srvyr")
survey::svymean(~AGEP, pums_design)

## End(Not run)
</code></pre>


</div>