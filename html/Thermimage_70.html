<div class="container">

<table style="width: 100%;"><tr>
<td>writeFlirBin</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Saves thermal image data to a binary file
</h2>

<h3>Description</h3>

<p>Saves thermal image data to a binary file.  This function serves to allow thermal images that have been imported into R to be exported to a raw, 32-bit real format that can then be imported and analysed in ImageJ.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">writeFlirBin(bindata, templookup, w, h, Interval, rootname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bindata</code></td>
<td>

<p>Vector of raw binary data imported from a thermal image file, using the getFrames function.  Each value corresponds to the raw binary sensor value for each pixel.  Should be supplied as a vector, not a dataframe or matrix.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>templookup</code></td>
<td>

<p>A vector of values from 1:65535 (2^16) that serves as a rapid means to convert the above bindata into calibrated temperature data for each pixel.  This makes use of the raw2temp function.  This value must be supplied and properly calibrated, otherwise the conversion will not be correct.  Default is set to NULL.  If calibrated temperature data is supplised as bindata, then templookup should be set to NULL.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>

<p>Width resolution (pixels) of thermal camera.  Can be found by using the flirsettings function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>

<p>Height resolution (pixels) of thermal camera.  Can be found by using the flirsettings function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Interval</code></td>
<td>

<p>Time inverval (in seconds = 1 / Frame rate) of the thermal video file.  Used for encoding in filename. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rootname</code></td>
<td>

<p>Root name (character) for saving the binary file
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function exports raw binary information from the getFrames function in a 32-bit real file format (4 bytes).  This file format can be relatively easily imported into ImageJ using the Import-Raw option, choose 32-bit Real, set your image width and height and # of frames. Little endian and hyperstack options must be enabled during import.
</p>
<p>The file naming takes the rootname and appends image width, height, number of frames, and image interval, appending .raw to the end to make ImageJ import easier. 
</p>
<p>If rootname = 'Thermvid', w=640, h=480, number of frames=100, and image interval is 0.0333 seconds, the file name will be saved as:
</p>
<p>'Thermvid_W640_H480_F100_I0.0333.raw'
</p>


<h3>Value</h3>

<p>Returns nothing, but saves a new file to the current working directory. 
</p>


<h3>Warning</h3>

<p>This function has not been fully tested with all possible video/camera combinations.  Users are advised to compare the exported values in ImageJ on sample images to standard FLIR software values before proceeding with analysis.
</p>


<h3>Author(s)</h3>

<p>Glenn J Tattersall
</p>


<h3>See Also</h3>

<p><code>raw2temp</code>,
<code>getFrames</code>,
<code>readBin</code>,
<code>writeBin</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
bindata&lt;-floor(runif(307200, 17000, 25000))
templookup&lt;-raw2temp(bindata)
w&lt;-640
h&lt;-480
Interval&lt;-0.03
f.root&lt;-"Thermalvid"

# Usage:
# writeFlirBin(bindata, templookup=templookup,  w=w, h=h, Interval=Interval, rootname=f.root)

</code></pre>


</div>