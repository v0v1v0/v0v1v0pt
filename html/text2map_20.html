<div class="container">

<table style="width: 100%;"><tr>
<td>get_direction</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Word embedding semantic direction extractor</h2>

<h3>Description</h3>

<p><code>get_direction()</code> outputs a vector corresponding to one pole of a
"semantic direction" built from sets of antonyms or juxtaposed terms.
The output can be used as an input to <code>CMDist()</code> and <code>CoCA()</code>. Anchors
must be a two-column data.frame or a list of length == 2.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_direction(anchors, wv, method = "paired", missing = "stop", n_dirs = 1L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>anchors</code></td>
<td>
<p>A data frame or list of juxtaposed 'anchor' terms</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wv</code></td>
<td>
<p>Matrix of word embedding vectors (a.k.a embedding model)
with rows as terms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Indicates the method used to generate vector offset.
Default is 'paired'. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing</code></td>
<td>
<p>what action to take if terms are not in embeddings.
If action = "stop" (default), the function is stopped
and an error messages states which terms are missing.
If action = "remove",  missing terms or rows with missing
terms are removed. Missing terms will be printed as a message.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_dirs</code></td>
<td>
<p>If <code>method = "PCA"</code>, an integer indicating how many directions
to return. Default = <code>1L</code>, indicating a single,
bipolar, direction.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Semantic directions can be estimated in using a few methods:
</p>

<ul>
<li>
<p> 'paired' (default): each individual term is subtracted from exactly one
other paired term. there must be the same number of
terms for each side of the direction (although one
word may be used more than once).
</p>
</li>
<li>
<p> 'pooled': terms corresponding to one side of a direction are first
averaged, and then these averaged vectors are subtracted.
A different number of terms can be used for each side of
the direction.
</p>
</li>
<li>
<p> 'L2': the vector is calculated the same as with 'pooled'
but is then divided by the L2 'Euclidean' norm
</p>
</li>
<li>
<p> 'PCA': vector offsets are calculated for each pair of terms,
as with 'paired', and if <code>n_dirs = 1L</code> (the default)
then the direction is the first principal component.
Users can return more than one direction by increasing
the <code>n_dirs</code> parameter.
</p>
</li>
</ul>
<h3>Value</h3>

<p>returns a one row matrix
</p>


<h3>Author(s)</h3>

<p>Dustin Stoltz
</p>


<h3>References</h3>

<p>Bolukbasi, T., Chang, K. W., Zou, J., Saligrama, V., and Kalai, A. (2016).
Quantifying and reducing stereotypes in word embeddings. arXiv preprint
<a href="https://arxiv.org/abs/1606.06121v1">https://arxiv.org/abs/1606.06121v1</a>.<br>
Bolukbasi, Tolga, Kai-Wei Chang, James Zou, Venkatesh Saligrama,
Adam Kalai (2016). 'Man Is to Computer Programmer as Woman Is to Homemaker?
Debiasing Word Embeddings.' Proceedings of the 30th International Conference
on Neural Information Processing Systems. 4356-4364.
<a href="https://dl.acm.org/doi/10.5555/3157382.3157584">https://dl.acm.org/doi/10.5555/3157382.3157584</a>.<br>
Taylor, Marshall A., and Dustin S. Stoltz. (2020)
'Concept Class Analysis: A Method for Identifying Cultural
Schemas in Texts.' <em>Sociological Science</em> 7:544-569.
<a href="https://doi.org/10.15195/v7.a23">doi:10.15195/v7.a23</a>.<br>
Taylor, Marshall A., and Dustin S. Stoltz. (2020) 'Integrating semantic
directions with concept mover's distance to measure binary concept
engagement.' <em>Journal of Computational Social Science</em> 1-12.
<a href="https://doi.org/10.1007/s42001-020-00075-8">doi:10.1007/s42001-020-00075-8</a>.<br>
Kozlowski, Austin C., Matt Taddy, and James A. Evans. (2019). 'The geometry
of culture: Analyzing the meanings of class through word embeddings.'
<em>American Sociological Review</em> 84(5):905-949.
<a href="https://doi.org/10.1177/0003122419877135">doi:10.1177/0003122419877135</a>.<br>
Arseniev-Koehler, Alina, and Jacob G. Foster. (2020). 'Machine learning
as a model for cultural learning: Teaching an algorithm what it means to
be fat.' arXiv preprint <a href="https://arxiv.org/abs/2003.12133v2">https://arxiv.org/abs/2003.12133v2</a>.<br></p>


<h3>Examples</h3>

<pre><code class="language-R">
# load example word embeddings
data(ft_wv_sample)

# create anchor list
gen &lt;- data.frame(
  add = c("woman"),
  subtract = c("man")
)

dir &lt;- get_direction(anchors = gen, wv = ft_wv_sample)

dir &lt;- get_direction(
  anchors = gen, wv = ft_wv_sample,
  method = "PCA", n = 1L
)
</code></pre>


</div>