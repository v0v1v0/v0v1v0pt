<div class="container">

<table style="width: 100%;"><tr>
<td>truelies-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>truelies: Bayesian Methods to Estimate the Proportion of Liars in
Coin Flip Experiments</h2>

<h3>Description</h3>

<p>Implements Bayesian methods, described in
Hugh-Jones (2019) &lt;doi:10.1007/s40881-019-00069-x&gt;, for estimating the
proportion of liars in coin flip-style experiments, where subjects
report a random outcome and are paid for reporting a "good" outcome.
</p>


<h3>Usage</h3>

<p>To estimate the proportion of liars in an experiment, use <code>update_prior()</code>
followed by <code>dist_mean()</code>:</p>
<pre>posterior &lt;- update_prior(heads = 33, N = 50, P = 0.5, prior = dunif)
dist_mean(posterior)
</pre>
<p>To get confidence intervals for an estimate, use <code>dist_hdr()</code>:</p>
<pre>dist_hdr(posterior, conf_level = 0.95)
</pre>
<p>To test whether two different samples have the same proportion of
liars, use <code>difference_dist()</code> followed by <code>dist_hdr()</code>:</p>
<pre>p2 &lt;- update_prior(heads = 42, N = 49, P = 0.5, prior = dunif)
dd &lt;- difference_dist(posterior, p2)
dist_hdr(dd, 0.95, bounds = c(-1, 1))
</pre>
<p>To test power for detecting a given proportion of liars, use <code>power_calc()</code>:</p>
<pre>power_calc(N = 100, P = 0.5, lambda = 0.2)
</pre>
<p>To test power for detecting differences between groups, use <code>power_calc_difference()</code>:</p>
<pre>power_calc_difference(N1 = 100, P = 5/6, lambda1 = 0.1, lambda2 = 0.25)
</pre>
<p>To compare different samples by empirical Bayes estimation, use
<code>empirical_bayes()</code>:</p>
<pre>heads &lt;- c(Baseline = 30, Treatment1 = 38, Treatment2 = 45)
N &lt;- c(50, 52, 57)
result &lt;- empirical_bayes(heads, N, P = 0.5)
</pre>


<h3>Testing the package</h3>

<p>To run tests on the package:</p>
<pre>source(system.file("test-statistics.R", package = "truelies"))
</pre>
<p>You will need <span class="pkg">dplyr</span>, <span class="pkg">purrr</span>, <span class="pkg">tidyr</span> and <span class="pkg">ggplot2</span> installed.
</p>
<p>This will take some time and will produce data frames of test results
for different parameter values, along with some plots.
</p>


<h3>Author(s)</h3>

<p>David Hugh-Jones
</p>


<h3>References</h3>

<p>Hugh-Jones, David (2019). True Lies: Comment on Garbarino,
Slonim and Villeval (2018). Journal of the Economic Science Association.
https://link.springer.com/article/10.1007/s40881-019-00069-x.
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/hughjonesd/truelies">https://github.com/hughjonesd/truelies</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://github.com/hughjonesd/truelies/issues">https://github.com/hughjonesd/truelies/issues</a>
</p>
</li>
</ul>
</div>