<div class="container">

<table style="width: 100%;"><tr>
<td>download_item</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download NHS TRUD item</h2>

<h3>Description</h3>

<p>Downloads files for a specified NHS TRUD item (requires a subscription). By
default this is the latest release.
</p>


<h3>Usage</h3>

<pre><code class="language-R">download_item(
  item,
  directory = ".",
  download_file = "archive",
  TRUD_API_KEY = NULL,
  release = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>item</code></td>
<td>
<p>An integer, the item to be downloaded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>directory</code></td>
<td>
<p>Path to the directory to which this item will be downloaded
to. This is set to the current working directory by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>download_file</code></td>
<td>
<p>The item file to be downloaded. Valid values:
</p>

<ul>
<li> <p><code>"archive"</code> (the release item)
</p>
</li>
<li> <p><code>"checksum"</code>
</p>
</li>
<li> <p><code>"signature"</code>
</p>
</li>
<li> <p><code>"publickKey"</code>
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TRUD_API_KEY</code></td>
<td>
<p>A string. The name of an environmental variable
containing your TRUD API key. If <code>NULL</code> (default) this is assumed to be
called <code>TRUD_API_KEY</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>release</code></td>
<td>
<p>The name of a specific release ID to be downloaded (this can
be ascertained using <code>get_item_metadata()</code>). If <code>NULL</code> (default), then the
latest item release will be downloaded.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The file path to the downloaded file, returned invisibly.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
 # Download Community Services Data Set pre-deadline extract XML Schema
 x &lt;- download_item(394, directory = tempdir())

 # List downloaded files
 unzip(x, list = TRUE)

 # Download a previous release
 release &lt;- get_item_metadata(394)$releases[[2]]$id

 y &lt;- download_item(394, directory = tempdir(), release = release)

 unzip(y, list = TRUE)

## End(Not run)

# An informative error is raised if your API key is invalid or missing
try(download_item(394, TRUD_API_KEY = "INVALID_API_KEY"))
</code></pre>


</div>