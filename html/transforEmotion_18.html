<div class="container">

<table style="width: 100%;"><tr>
<td>sentence_similarity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sentiment Analysis Scores</h2>

<h3>Description</h3>

<p>Uses sentiment analysis pipelines from <a href="https://huggingface.co">huggingface</a>
to compute probabilities that the text corresponds to the specified classes
</p>


<h3>Usage</h3>

<pre><code class="language-R">sentence_similarity(
  text,
  comparison_text,
  transformer = c("all_minilm_l6"),
  device = c("auto", "cpu", "cuda"),
  preprocess = FALSE,
  keep_in_env = TRUE,
  envir = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>Character vector or list.
Text in a vector or list data format</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comparison_text</code></td>
<td>
<p>Character vector or list.
Text in a vector or list data format</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transformer</code></td>
<td>
<p>Character.
Specific sentence similarity transformer
to be used.
Defaults to <code>"all_minilm_l6"</code> (see <a href="https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2">huggingface</a>)
</p>
<p>Also allows any sentence similarity models with a pipeline
from <a href="https://huggingface.co/models?pipeline_tag=sentence-similarity">huggingface</a>
to be used by using the specified name (e.g., <code>"typeform/distilbert-base-uncased-mnli"</code>; see Examples)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>device</code></td>
<td>
<p>Character.
Whether to use CPU or GPU for inference.
Defaults to <code>"auto"</code> which will use
GPU over CPU (if CUDA-capable GPU is setup).
Set to <code>"cpu"</code> to perform over CPU</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preprocess</code></td>
<td>
<p>Boolean.
Should basic preprocessing be applied?
Includes making lowercase, keeping only alphanumeric characters,
removing escape characters, removing repeated characters,
and removing white space.
Defaults to <code>FALSE</code>.
Transformers generally are OK without preprocessing and handle
many of these functions internally, so setting to <code>TRUE</code>
will not change performance much</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_in_env</code></td>
<td>
<p>Boolean.
Whether the classifier should be kept in your global environment.
Defaults to <code>TRUE</code>.
By keeping the classifier in your environment, you can skip
re-loading the classifier every time you run this function.
<code>TRUE</code> is recommended</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>Numeric.
Environment for the classifier to be saved for repeated use.
Defaults to the global environment</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a <em>n</em> x <em>m</em> similarity matrix where <em>n</em> is length of <code>text</code> and <em>m</em> is the length of <code>comparison_text</code>
</p>


<h3>Author(s)</h3>

<p>Alexander P. Christensen &lt;alexpaulchristensen@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load data
data(neo_ipip_extraversion)

# Example text
text &lt;- neo_ipip_extraversion$friendliness[1:5]

## Not run: 
# Example with defaults
sentence_similarity(
 text = text, comparison_text = text
)

# Example with model from 'sentence-transformers'
sentence_similarity(
 text = text, comparison_text = text,
 transformer = "sentence-transformers/all-mpnet-base-v2"
)


## End(Not run)

</code></pre>


</div>