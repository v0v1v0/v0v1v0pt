<div class="container">

<table style="width: 100%;"><tr>
<td>predict.timereg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predictions for Survival and Competings Risks Regression for timereg</h2>

<h3>Description</h3>

<p>Make predictions based on the survival models (Aalen and Cox-Aalen) and the
competing risks models for the cumulative incidence function (comp.risk).
Computes confidence intervals and confidence bands based on resampling.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'timereg'
predict(
  object,
  newdata = NULL,
  X = NULL,
  times = NULL,
  Z = NULL,
  n.sim = 500,
  uniform = TRUE,
  se = TRUE,
  alpha = 0.05,
  resample.iid = 0,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object belonging to one of the following classes: comprisk,
aalen or cox.aalen</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>specifies the data at which the predictions are wanted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>alternative to newdata, specifies the nonparametric components for
predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>times in which predictions are computed, default is all
time-points for baseline</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>alternative to newdata, specifies the parametric components of the
model for predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.sim</code></td>
<td>
<p>number of simulations in resampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uniform</code></td>
<td>
<p>computes resampling based uniform confidence bands.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>computes pointwise standard errors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>specificies the significance levelwhich cause we consider.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resample.iid</code></td>
<td>
<p>set to 1 to return iid decomposition of estimates, 3-dim
matrix (predictions x times x subjects)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>unused arguments - for S3 compatability</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>vector of time points where the predictions are
computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unif.band</code></td>
<td>
<p>resampling based constant to construct 95%
uniform confidence bands.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>specifies what model that was
fitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>specifies the significance level for the confidence
intervals. This relates directly to the constant given in unif.band.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>specifies the newdata given in the call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RR</code></td>
<td>
<p>gives
relative risk terms for Cox-type models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>gives call for predict
funtion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial.call</code></td>
<td>
<p>gives call for underlying object used for
predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>P1</code></td>
<td>
<p>gives cumulative inicidence predictions for
competing risks models. Predictions given in matrix form with different
subjects in different rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S0</code></td>
<td>
<p>gives survival predictions for
survival models.  Predictions given in matrix form with different subjects
in different rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.P1</code></td>
<td>
<p>pointwise standard errors for predictions
of P1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.S0</code></td>
<td>
<p>pointwise standard errors for predictions of S0.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Thomas Scheike, Jeremy Silver
</p>


<h3>References</h3>

<p>Scheike, Zhang and Gerds (2008), Predicting cumulative incidence
probability by direct binomial regression, Biometrika, 95, 205-220.
</p>
<p>Scheike and Zhang (2007), Flexible competing risks regression modelling and
goodness of fit, LIDA, 14, 464-483 .
</p>
<p>Martinussen and Scheike (2006), Dynamic regression models for survival data,
Springer.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(bmt); 

## competing risks 
add&lt;-comp.risk(Event(time,cause)~platelet+age+tcell,data=bmt,cause=1)

ndata&lt;-data.frame(platelet=c(1,0,0),age=c(0,1,0),tcell=c(0,0,1))
out&lt;-predict(add,newdata=ndata,uniform=1,n.sim=1000)
par(mfrow=c(2,2))
plot(out,multiple=0,uniform=1,col=1:3,lty=1,se=1)
# see comp.risk for further examples. 

add&lt;-comp.risk(Event(time,cause)~factor(tcell),data=bmt,cause=1)
summary(add)
out&lt;-predict(add,newdata=ndata,uniform=1,n.sim=1000)
plot(out,multiple=1,uniform=1,col=1:3,lty=1,se=1)

add&lt;-prop.odds.subdist(Event(time,cause)~factor(tcell),
	       data=bmt,cause=1)
out &lt;- predict(add,X=1,Z=1)
plot(out,multiple=1,uniform=1,col=1:3,lty=1,se=1)


## SURVIVAL predictions aalen function
data(sTRACE)
out&lt;-aalen(Surv(time,status==9)~sex+ diabetes+chf+vf,
data=sTRACE,max.time=7,n.sim=0,resample.iid=1)

pout&lt;-predict(out,X=rbind(c(1,0,0,0,0),rep(1,5)))
head(pout$S0[,1:5]); head(pout$se.S0[,1:5])
par(mfrow=c(2,2))
plot(pout,multiple=1,se=0,uniform=0,col=1:2,lty=1:2)
plot(pout,multiple=0,se=1,uniform=1,col=1:2)

out&lt;-aalen(Surv(time,status==9)~const(age)+const(sex)+
const(diabetes)+chf+vf,
data=sTRACE,max.time=7,n.sim=0,resample.iid=1)

pout&lt;-predict(out,X=rbind(c(1,0,0),c(1,1,0)),
Z=rbind(c(55,0,1),c(60,1,1)))
head(pout$S0[,1:5]); head(pout$se.S0[,1:5])
par(mfrow=c(2,2))
plot(pout,multiple=1,se=0,uniform=0,col=1:2,lty=1:2)
plot(pout,multiple=0,se=1,uniform=1,col=1:2)

pout&lt;-predict(out,uniform=0,se=0,newdata=sTRACE[1:10,]) 
plot(pout,multiple=1,se=0,uniform=0)

#### cox.aalen
out&lt;-cox.aalen(Surv(time,status==9)~prop(age)+prop(sex)+
prop(diabetes)+chf+vf,
data=sTRACE,max.time=7,n.sim=0,resample.iid=1)

pout&lt;-predict(out,X=rbind(c(1,0,0),c(1,1,0)),Z=rbind(c(55,0,1),c(60,1,1)))
head(pout$S0[,1:5]); head(pout$se.S0[,1:5])
par(mfrow=c(2,2))
plot(pout,multiple=1,se=0,uniform=0,col=1:2,lty=1:2)
plot(pout,multiple=0,se=1,uniform=1,col=1:2)

pout&lt;-predict(out,uniform=0,se=0,newdata=sTRACE[1:10,]) 
plot(pout,multiple=1,se=0,uniform=0)

#### prop.odds model 
add&lt;-prop.odds(Event(time,cause!=0)~factor(tcell),data=bmt)
out &lt;- predict(add,X=1,Z=0)
plot(out,multiple=1,uniform=1,col=1:3,lty=1,se=1)

</code></pre>


</div>