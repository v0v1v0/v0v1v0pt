<div class="container">

<table style="width: 100%;"><tr>
<td>h_odds_ratio</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Helper functions for odds ratio estimation</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>Functions to calculate odds ratios in <code>estimate_odds_ratio()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">or_glm(data, conf_level)

or_clogit(data, conf_level)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(<code>data.frame</code>)<br> data frame containing at least the variables <code>rsp</code> and <code>grp</code>, and optionally
<code>strata</code> for <code>or_clogit()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf_level</code></td>
<td>
<p>(<code>proportion</code>)<br> confidence level of the interval.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A named <code>list</code> of elements <code>or_ci</code> and <code>n_tot</code>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>or_glm()</code>: Estimates the odds ratio based on <code>stats::glm()</code>. Note that there must be
exactly 2 groups in <code>data</code> as specified by the <code>grp</code> variable.
</p>
</li>
<li> <p><code>or_clogit()</code>: Estimates the odds ratio based on <code>survival::clogit()</code>. This is done for
the whole data set including all groups, since the results are not the same as when doing
pairwise comparisons between the groups.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>odds_ratio
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Data with 2 groups.
data &lt;- data.frame(
  rsp = as.logical(c(1, 1, 0, 1, 0, 0, 1, 1)),
  grp = letters[c(1, 1, 1, 2, 2, 2, 1, 2)],
  strata = letters[c(1, 2, 1, 2, 2, 2, 1, 2)],
  stringsAsFactors = TRUE
)

# Odds ratio based on glm.
or_glm(data, conf_level = 0.95)

# Data with 3 groups.
data &lt;- data.frame(
  rsp = as.logical(c(1, 1, 0, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 0, 0)),
  grp = letters[c(1, 1, 1, 2, 2, 2, 3, 3, 3, 3, 1, 1, 1, 2, 2, 2, 3, 3, 3, 3)],
  strata = LETTERS[c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2)],
  stringsAsFactors = TRUE
)

# Odds ratio based on stratified estimation by conditional logistic regression.
or_clogit(data, conf_level = 0.95)

</code></pre>


</div>