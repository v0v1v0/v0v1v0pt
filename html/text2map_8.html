<div class="container">

<table style="width: 100%;"><tr>
<td>doc_similarity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find a similarities between documents</h2>

<h3>Description</h3>

<p>Given a document-term matrix (DTM) this function returns the
similarities between documents using a specified method (see details).
The result is a square document-by-document similarity matrix (DSM),
equivalent to a weighted adjacency matrix in network analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">doc_similarity(x, y = NULL, method, wv = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Document-term matrix with terms as columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Optional second matrix (default = <code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Character vector indicating similarity method, including
projection, cosine, wmd, and centroid (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wv</code></td>
<td>
<p>Matrix of word embedding vectors (a.k.a embedding model)
with rows as words. Required for "wmd" and "centroid"
similarities.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Document similarity methods include:
</p>

<ul>
<li>
<p> projection: finds the one-mode projection matrix from the two-mode DTM
using <code>tcrossprod()</code> which measures the shared vocabulary overlap
</p>
</li>
<li>
<p> cosine: compares row vectors using cosine  similarity
</p>
</li>
<li>
<p> jaccard: compares proportion of common words to unique words in
both documents
</p>
</li>
<li>
<p> wmd: word mover's distance to compare documents (requires word
embedding vectors), using linear-complexity relaxed word mover's distance
</p>
</li>
<li>
<p> centroid: represents each document as a centroid of their respective
vocabulary, then uses cosine similarity to compare centroid vectors
(requires word embedding vectors)
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Dustin Stoltz
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# load example word embeddings
data(ft_wv_sample)

# load example text
data(jfk_speech)

# minimal preprocessing
jfk_speech$sentence &lt;- tolower(jfk_speech$sentence)
jfk_speech$sentence &lt;- gsub("[[:punct:]]+", " ", jfk_speech$sentence)

# create DTM
dtm &lt;- dtm_builder(jfk_speech, sentence, sentence_id)

dsm_prj &lt;- doc_similarity(dtm, method = "projection")
dsm_cos &lt;- doc_similarity(dtm, method = "cosine")
dsm_wmd &lt;- doc_similarity(dtm, method = "wmd", wv = ft_wv_sample)
dsm_cen &lt;- doc_similarity(dtm, method = "centroid", wv = ft_wv_sample)

</code></pre>


</div>