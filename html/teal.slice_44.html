<div class="container">

<table style="width: 100%;"><tr>
<td>init_filter_states</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Initialize <code>FilterStates</code> object</h2>

<h3>Description</h3>

<p>Initialize <code>FilterStates</code> object
</p>


<h3>Usage</h3>

<pre><code class="language-R">init_filter_states(
  data,
  data_reactive = reactive(NULL),
  dataname,
  datalabel = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(<code>data.frame</code> or <code>MultiAssayExperiment</code> or <code>SummarizedExperiment</code> or <code>matrix</code>)
object to subset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_reactive</code></td>
<td>
<p>(<code style="white-space: pre;">⁠function(sid)⁠</code>)
should return an object of the same type as <code>data</code> or <code>NULL</code>.
This function is needed for the <code>FilterState</code> <code>shiny</code> module to update counts if filtered data changes.
If function returns <code>NULL</code> then filtered counts are not shown.
Function has to have <code>sid</code> argument being a character which is related to <code>sid</code> argument in the <code>get_call</code> method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataname</code></td>
<td>
<p>(<code>character(1)</code>)
name of the data used in the subset expression,
passed to the function argument attached to this <code>FilterStates</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datalabel</code></td>
<td>
<p>(<code>character(1)</code>) optional
text label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional,
additional arguments for specific classes: keys.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Object of class <code>FilterStates</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># use non-exported function from teal.slice
init_filter_states &lt;- getFromNamespace("init_filter_states", "teal.slice")

df &lt;- data.frame(
  character = letters,
  numeric = seq_along(letters),
  date = seq(Sys.Date(), length.out = length(letters), by = "1 day"),
  datetime = seq(Sys.time(), length.out = length(letters), by = "33.33 hours")
)
rf &lt;- init_filter_states(
  data = df,
  dataname = "DF"
)

library(shiny)
ui &lt;- fluidPage(
  actionButton("clear", tags$span(icon("xmark"), "Remove all filters")),
  rf$ui_add(id = "add"),
  rf$ui_active("states"),
  verbatimTextOutput("expr"),
)

server &lt;- function(input, output, session) {
  rf$srv_add(id = "add")
  rf$srv_active(id = "states")
  output$expr &lt;- renderText({
    deparse1(rf$get_call(), collapse = "\n")
  })
  observeEvent(input$clear, rf$clear_filter_states())
}

if (interactive()) {
  shinyApp(ui, server)
}

</code></pre>


</div>