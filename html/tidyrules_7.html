<div class="container">

<table style="width: 100%;"><tr>
<td>augment.rulelist</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Augment a rulelist</h2>

<h3>Description</h3>

<p><code>augment</code> outputs a rulelist with an additional column named
<code>augmented_stats</code> based on summary statistics calculated using attribute
<code>validation_data</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'rulelist'
augment(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A rulelist</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>(expressions) To be send to tidytable::summarise for custom
aggregations. See examples.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The dataframe-column <code>augmented_stats</code> will have these columns
corresponding to the <code>estimation_type</code>:
</p>

<ul>
<li>
<p> For <code>regression</code>: <code>support</code>, <code>IQR</code>, <code>RMSE</code>
</p>
</li>
<li>
<p> For <code>classification</code>: <code>support</code>, <code>confidence</code>, <code>lift</code>
</p>
</li>
</ul>
<p>along with custom aggregations.
</p>


<h3>Value</h3>

<p>A rulelist with a new dataframe-column named <code>augmented_stats</code>.
</p>


<h3>See Also</h3>

<p>rulelist, tidy, augment,
predict, calculate,
prune, reorder
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Examples for augment ------------------------------------------------------
library("magrittr")

# C5 ----
att = modeldata::attrition
set.seed(100)
train_index = sample(c(TRUE, FALSE), nrow(att), replace = TRUE)

model_c5 = C50::C5.0(Attrition ~., data = att[train_index, ], rules = TRUE)
tidy_c5  =
  model_c5 %&gt;%
  tidy() %&gt;%
  set_validation_data(att[!train_index, ], "Attrition")

tidy_c5

augment(tidy_c5) %&gt;%
  tidytable::unnest(augmented_stats, names_sep = "__") %&gt;%
  tidytable::glimpse()

# augment with custom aggregator
augment(tidy_c5,output_counts = list(table(Attrition))) %&gt;%
  tidytable::unnest(augmented_stats, names_sep = "__") %&gt;%
  tidytable::glimpse()

# rpart ----
set.seed(100)
train_index = sample(c(TRUE, FALSE), nrow(iris), replace = TRUE)

model_class_rpart = rpart::rpart(Species ~ ., data = iris[train_index, ])
tidy_class_rpart  = tidy(model_class_rpart) %&gt;%
  set_validation_data(iris[!train_index, ], "Species")
tidy_class_rpart

model_regr_rpart = rpart::rpart(Sepal.Length ~ ., data = iris[train_index, ])
tidy_regr_rpart  = tidy(model_regr_rpart) %&gt;%
  set_validation_data(iris[!train_index, ], "Sepal.Length")
tidy_regr_rpart

# augment (classification case)
augment(tidy_class_rpart) %&gt;%
  tidytable::unnest(augmented_stats, names_sep = "__") %&gt;%
  tidytable::glimpse()

# augment (regression case)
augment(tidy_regr_rpart) %&gt;%
  tidytable::unnest(augmented_stats, names_sep = "__") %&gt;%
  tidytable::glimpse()

# party ----
pen = palmerpenguins::penguins %&gt;%
  tidytable::drop_na(bill_length_mm)
set.seed(100)
train_index = sample(c(TRUE, FALSE), nrow(pen), replace = TRUE)

model_class_party = partykit::ctree(species ~ ., data = pen[train_index, ])
tidy_class_party  = tidy(model_class_party) %&gt;%
  set_validation_data(pen[!train_index, ], "species")
tidy_class_party

model_regr_party =
  partykit::ctree(bill_length_mm ~ ., data = pen[train_index, ])
tidy_regr_party  = tidy(model_regr_party) %&gt;%
  set_validation_data(pen[!train_index, ], "bill_length_mm")
tidy_regr_party

# augment (classification case)
augment(tidy_class_party) %&gt;%
  tidytable::unnest(augmented_stats, names_sep = "__") %&gt;%
  tidytable::glimpse()

# augment (regression case)
augment(tidy_regr_party) %&gt;%
  tidytable::unnest(augmented_stats, names_sep = "__") %&gt;%
  tidytable::glimpse()

# cubist ----
att         = modeldata::attrition
set.seed(100)
train_index = sample(c(TRUE, FALSE), nrow(att), replace = TRUE)
cols_att    = setdiff(colnames(att), c("MonthlyIncome", "Attrition"))

model_cubist = Cubist::cubist(x = att[train_index, cols_att],
                              y = att[train_index, "MonthlyIncome"]
                              )

tidy_cubist = tidy(model_cubist) %&gt;%
  set_validation_data(att[!train_index, ], "MonthlyIncome")
tidy_cubist

augment(tidy_cubist) %&gt;%
  tidytable::unnest(augmented_stats, names_sep = "__") %&gt;%
  tidytable::glimpse()

</code></pre>


</div>