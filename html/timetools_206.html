<div class="container">

<table style="width: 100%;"><tr>
<td>TimeIntervalDataFrame</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class <code>"TimeIntervalDataFrame"</code>
</h2>

<h3>Description</h3>

<p>Class to hold time data that are NOT 'punctual'.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  TimeIntervalDataFrame(start, end = NULL,
    timezone = "UTC", data = NULL, period = NULL, sort=FALSE, ...)

  as.TimeIntervalDataFrame(from, ...)
  ## S3 method for class 'TimeInstantDataFrame'
as.TimeIntervalDataFrame(from, period, ...)

  RegularTimeIntervalDataFrame(from, to, by, period, timezone = "UTC", data = NULL)

  ## S4 method for signature 'TimeIntervalDataFrame'
x$name
  ## S4 replacement method for signature 'TimeIntervalDataFrame'
x$name &lt;- value
  ## S3 method for class 'TimeIntervalDataFrame'
x[i, j, drop=FALSE]
  ## S3 replacement method for class 'TimeIntervalDataFrame'
x[i, j] &lt;- value
  ## S4 method for signature 'TimeIntervalDataFrame'
x [[i, j, ...]]
  ## S3 replacement method for class 'TimeIntervalDataFrame'
x[[i, j]] &lt;- value

  ## S3 method for class 'TimeIntervalDataFrame'
rbind(...)
  ## S3 method for class 'TimeIntervalDataFrame'
merge(x, y, by, all=TRUE, tz='UTC', sort=TRUE, ...)
  ## S3 method for class 'TimeIntervalDataFrame'
split(x, f, drop=FALSE, ...)
  ## S4 method for signature 'TimeIntervalDataFrame'
lapply(X, FUN, ...)

  ## S4 method for signature 'TimeIntervalDataFrame'
tapply(X, INDEX, FUN, ...,
       min.coverage=1, weights.arg=NULL, merge.X=TRUE, split.X=FALSE,
       keep.INDEX=TRUE, simplify=TRUE)
  ## S4 method for signature 'TimeIntervalDataFrame'
changeSupport(from, to,
       min.coverage, FUN=NULL, weights.arg=NULL,
       split.from=FALSE, merge.from=TRUE, ...)

  ## S4 method for signature 'TimeIntervalDataFrame'
continuous(x, ...)
  ## S4 replacement method for signature 'TimeIntervalDataFrame'
continuous(x) &lt;- value
  ## S4 method for signature 'TimeIntervalDataFrame'
homogeneous(x, ...)
  ## S4 method for signature 'TimeIntervalDataFrame'
period(x, ...)
  ## S4 method for signature 'TimeIntervalDataFrame'
overlapping(x, ...)
  ## S4 method for signature 'TimeIntervalDataFrame'
regular(x, ...)
  ## S4 method for signature 'TimeIntervalDataFrame'
timezone(object)
  ## S4 replacement method for signature 'TimeIntervalDataFrame'
timezone(object) &lt;- value
  ## S3 method for class 'TimeIntervalDataFrame'
start(x, ...)
  ## S3 method for class 'TimeIntervalDataFrame'
end(x, ...)
  ## S4 method for signature 'TimeIntervalDataFrame'
when(x, ...)
  ## S4 method for signature 'TimeIntervalDataFrame'
interval(x, ...)

  ## S4 method for signature 'TimeIntervalDataFrame'
dim(x)
  ## S4 method for signature 'TimeIntervalDataFrame'
length(x)
  ## S4 method for signature 'TimeIntervalDataFrame'
names(x)
  ## S4 replacement method for signature 'TimeIntervalDataFrame'
names(x) &lt;- value
  ## S4 method for signature 'TimeIntervalDataFrame'
ncol(x)
  ## S4 method for signature 'TimeIntervalDataFrame'
nrow(x)
  ## S3 method for class 'TimeIntervalDataFrame'
row.names(x)
  ## S3 replacement method for class 'TimeIntervalDataFrame'
row.names(x) &lt;- value

  ## S3 method for class 'TimeIntervalDataFrame'
print(x, tz=NULL, ...)
  ## S3 method for class 'TimeIntervalDataFrame'
summary(object, ...)
  ## S3 method for class 'TimeIntervalDataFrame'
head(x, tz, ...)
  ## S3 method for class 'TimeIntervalDataFrame'
tail(x, tz, ...)
  ## S4 method for signature 'TimeIntervalDataFrame'
show(object)

  ## S3 method for class 'TimeIntervalDataFrame'
plot(x, y=NULL, cursor=NULL,
    type='p', lty=1:6, lwd=1, pch=1:25, col=NULL,
    xlim=NULL, ylim=NULL, log='', main='', sub='', xlab='', ylab='',
    ann=par('ann'), axes=TRUE, asp=NA, ...)
  ## S3 method for class 'TimeIntervalDataFrame'
points(x, y=NULL, cursor=NULL, type='p',
    lty=1:6, lwd=1, pch=1:25, col=NULL, ...)
  ## S3 method for class 'TimeIntervalDataFrame'
lines(x, y=NULL, cursor=NULL, type='l',
    lty=1:6, lwd=1, pch=1:25, col=NULL, ...)
  ## S3 method for class 'TimeIntervalDataFrame'
barplot(height, format='', ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>POSIXct or character representing a time with a valid format
(see <code>POSIXct</code>). It gives the begining
of each interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>POSIXct or character representing a time with a valid format
(see <code>POSIXct</code>). It gives the end
of each interval. If NULL, see ‘Details’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timezone</code></td>
<td>
<p>character representing a valid timezone (see
<code>timezone</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data.frame with as much rows as the length
of ‘start’ and end, or with one row less than the
length of ‘start’ if ‘end’ is <code>NULL</code>.
Can be <code>NULL</code> (hence the data.frame has zero column
and as much rows as needed).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period</code></td>
<td>


<dl>
<dt>TimeIntervalDataFrame</dt>
<dd>
<p>if not NULL, a <code>POSIXctp</code> or a
character that can be converted to a
<code>POSIXctp</code> (see argument ‘unit’ of
POSIXctp function). See Details to know how to use this
argument.</p>
</dd>
<dt>as.TimeIntervalDataFrame</dt>
<dd>
<p><code>POSIXctp</code> object indicating
the period to add to ‘when’ slot of <code>from</code> to
determine the end of the new period (the ‘when’ is
used for the start of period)</p>
</dd>
<dt>RegularTimeIntervalDataFrame</dt>
<dd>
<p>a <code>POSIXctp</code> object indicating the period of each
interval. If missing, it is given the value of <code>by</code>.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>

<dl>
<dt>as.TimeIntervalDataFrame</dt>
<dd>
<p>object to convert to a TimeIntervalDataFrame</p>
</dd>
<dt>RegularTimeIntervalDataFrame</dt>
<dd>
<p>POSIXct or character representing a time with a valid format (see
<code>POSIXct</code>). It represents the start of the
object.</p>
</dd>
<dt>changeSupport</dt>
<dd>
<p>see <code>changeSupport</code></p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>

<dl>
<dt>RegularTimeIntervalDataFrame</dt>
<dd>
<p>POSIXct or character representing a time with a valid format (see
<code>POSIXct</code>). It represents the end of the
object. If missing, its value is deduced from ‘from’,
‘by’ and ‘data’.</p>
</dd>
<dt>changeSupport</dt>
<dd>
<p>see <code>changeSupport</code></p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>

<dl>
<dt>RegularTimeIntervalDataFrame</dt>
<dd>
<p>a <code>POSIXctp</code> object
indicating the increment to use between the start of each interval.</p>
</dd>
<dt>merge</dt>
<dd>
<p>specifications of the columns used for merging.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>TimeIntervalDataFrame object (to modify, to extract or to test)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>indices specifying elements to extract or replace. (See
<code>Extract</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>j</code></td>
<td>
<p>indices specifying elements to extract or replace. (See
<code>Extract</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>A litteral character string or a name. (See
<code>Extract</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>Used for compatibility with data.frame methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>New value for the object designated (data.frame, names, row.names,
etc.).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>TimeIntervalDataFrame to merge with x</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all</code></td>
<td>
<p>logical; see <code>merge</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz</code></td>
<td>
<p>character representing a valid timezone (see
<code>timezone</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>logical; if TRUE the resulting built/merged TimeIntervalDataFrame is 
ordered according to 'when' values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>a 'factor' in the sense that ‘as.factor(f)’ defines the
grouping, or a list of such factors in which case their
interaction is used for the grouping. See <code>split</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>


<dl>
<dt>lapply</dt>
<dd>
<p>a TimeIntervalDataFrame on which the FUN must be applied.</p>
</dd>
<dt>tapply</dt>
<dd>
<p>see <code>tapply</code> for details</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>


<dl>
<dt>lapply</dt>
<dd>
<p>function to apply over each columns of X.</p>
</dd>
<dt>tapply,changeSupport</dt>
<dd>
<p>see <code>tapply</code> for details</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>INDEX,min.coverage,weights.arg, merge.X,split.X,keep.INDEX,simplify,split.from,merge.from</code></td>
<td>

<p>see <code>tapply</code> and/or <code>changeSupport</code>
for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>TimeIntervalDataFrame object (to modify, to extract or to test)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ann</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>asp</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cursor</code></td>
<td>
<p>To convert TimeIntervalDataFrame to a TimeInstantDataFrame
before plotting (see <code>TimeInstantDataFrame</code>,
it indicates where the TimeInstant
must be taken. If <code>0</code>, start of each intervals is taken as
instant ; if <code>1</code> end of each intervals is taken as instant.
Any other value will determine a weigthed instant between start and
end (actually, value higher than 1 or lower than 0 will give instant
outside this range).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>plotting argument, see <code>barplot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>plotting argument, see <code>barplot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>More arguments.</p>
</td>
</tr>
</table>
<h3>Objects from the Class</h3>

<p>Formally, the class consists of a <code>data.frame</code>
and, for each row, two <code>POSIXct</code> that can
be summarize as time interval with the <code>POSIXcti</code> class.
This allows to manipulate at once time data without any 
restriction on time representation : data can occur at different time, 
data can be discontinuous, data can be heterogeneous (not lasting
for a unique period), data can overlay each other, etc.
There are several methods to test/deal/ensure that
these properties are respected or not, see below.
</p>
<p>The construction of the class allows to manipulate objects as if they
were data.frame (see ‘Access to data’ and ‘Access to
data properties’). Several functions are also available to access to
time properties (see ‘Access to time properties’).
</p>
<p>Methods are also available to facilitate the representations of
instances of that class : see ‘graphic representation’ and
‘text representation’.
</p>
<p>Finally, some specific methods allow to easily deal with agregation of
data over time properties (day, hour, week, special or specific time
intervals).
</p>


<h3>Slots</h3>


<dl>
<dt>
<code>start</code>:</dt>
<dd>
<p>Object of class <code>"POSIXct"</code> 
corresponding to the start of each row of
the <code>data.frame</code>.</p>
</dd>
<dt>
<code>end</code>:</dt>
<dd>
<p>Object of class <code>"POSIXct"</code>
corresponding to the end of each row of
the <code>data.frame</code>.</p>
</dd>
<dt>
<code>timezone</code>:</dt>
<dd>
<p>Object of class <code>"character"</code>
indicating the timezone of data both for 
representation and calculation.</p>
</dd>
<dt>
<code>data</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code> data contained
by the object.</p>
</dd>
</dl>
<h3>TimeIntervalDataFrame constructors</h3>

<p>Objects can be created by calls of the form
</p>

<ul>
<li> <p><code>new("TimeIntervalDataFrame", ...)</code> ... argument must be
replaced by named arguments coresponding to slots of a
TimeIntervalDataFrame (see below). See also <code>new</code>.
</p>
</li>
<li>
<p><code>TimeIntervalDataFrame (start, end=NULL, timezone='UTC', data=NULL, ...)</code>
Arguments of the function correspond to object slots.
If both <code>start</code> and <code>end</code> are given, they must
have the same length. They are used to define the
intervals of the object. If <code>data</code> is also given, it
must have a number of rows identical to the length of
<code>start</code> and <code>end</code>.
</p>
<p>If only <code>start</code> is given, a continuous (see
<code>continuous</code>) TimeIntervalDataFrame is built.
The first element of <code>start</code> is the start of the
first interval, the second element is the end of the
first interval and the start of the second interval. The
last element of <code>start</code> is only the end of the last
interval. This is why <code>data</code>, if given, must be one
row shorter than <code>start</code>.
</p>
<p>If period is given it must be a <code>POSIXctp</code>
object (or a valid character) and ‘start’ and
‘end’ must have length equal to 1. In that case, a
TimeIntervalDataFrame will be created with start date
equal to start ‘floored’ by the unit of
‘period’, end date ‘ceiled’ by the unit of
‘period’ and with enough intervals of
‘period’ length to fit. If ‘data’ given, it
must have a number of rows equal to the number of
intervals calculated.
</p>
</li>
<li> <p><code>RegularTimeIntervalDataFrame (from, to, by, period, timezone='UTC', data=NULL)</code>
Wrapper to construct TimeIntervalDataFrame with specific properties (see
details of each argument).
</p>
</li>
<li> <p><code>as.TimeIntervalDataFrame (from, ...)</code>
Converting object to TimeIntervalDataFrame.
</p>
</li>
</ul>
<h3>Math</h3>

<p>Every functions defined in the Ops group (see <code>Ops</code>)
can be used width a TimeIntervalDataFrame and numeric :
</p>

<ul>
<li>
<p><code>tidf * 2</code>
</p>
</li>
<li>
<p><code>2 * tidf</code>
</p>
</li>
<li>
<p><code>2:10 == tidf</code>
</p>
</li>
<li>
<p><code>2^tidf</code>
</p>
</li>
<li>
<p><code>tidf^2</code>
</p>
</li>
</ul>
<h3>Accessing to and manipulating data</h3>

<p>The TimeIntervalDataFrame class is defined to works like the data.frame class
with the difference that a time interval (<code>POSIXcti</code>) is
attached to each rows of the data.frame. Thus to access and manipulate
data of a TimeIntervalDataFrame the following methods are defined : 
'$', '$&lt;-', '[', '[&lt;-', '[[', '[[&lt;-'. See <code>Extract</code> for 
details.
</p>
<p>With ‘[’ operator, a selection by dates is also available. If
‘i’ and or ‘j’ are POSIXt or strings that can be 
converted to POSIXct (see below), they are considered as the 
minimal and maximal time limits : all datas between those are selected.
A string that can be converted to a POSIXct is (in this case only) a
string composed of 3 parts separated by white space : 
'YYYY-MM-DD HH:MM:SS tz'. The second and third parts are options, thus
accepted format are :</p>

<ul>
<li>
<p> 'YYYY-MM-DD'
</p>
</li>
<li>
<p> 'YYYY-MM-DD tz'
</p>
</li>
<li>
<p> 'YYYY-MM-DD HH:MM:SS'
</p>
</li>
<li>
<p> 'YYYY-MM-DD HH:MM:SS tz'
</p>
</li>
</ul>
<p>. If timezone is not given, it is assumed to be the same as the one
of the object on which the selection is done.
</p>
<p>Other methods have been defined to allow some operations on
TimeIntervalDataFrame :
</p>

<ul>
<li>
<p> rbind and merge to join two (or more)
TimeIntervalDataFrame (see <code>rbind</code> and
<code>merge</code>),
</p>
</li>
<li>
<p> a TimeIntervalDataFrame can be splitted exactly the same way that
a data.frame can (see <code>split</code> in the base
package) and some more possibilities have been defined (see <code>split</code>
in the timetools package),
</p>
</li>
<li>
<p> a function can be applied over each column of a TimeIntervalDataFrame
via the lapply function. If the function returns one value,
the resulting value is a <code>TimeIntervalDataFrame</code>
beginning at the first instant of the object and ending at the latest one ;
else if the function returns as much values as the number of rows of
the object, the TimeIntervalDataFrame given in argument is returned with
the new calculated values ; on others cases, a non-TimeInterevalDataFrame
object is returned.
</p>
</li>
<li>
<p> 'tapply' can split a TimeIntervalDataFrame and then apply a function
over each group (see <code>tapply</code>),
</p>
</li>
<li>
<p> 'changeSupport' act like the 'tapply' function but with
a different default behaviour (see <code>changeSupport</code>).
</p>
</li>
</ul>
<p>Because a TimeIntervalDataFrame works more or less like a data.frame, 
the following methods work on a TimeIntervalDataFrame :
<code>dim</code>,
<code>length</code>,
<code>names</code>,
<code>names&lt;-</code>,
<code>ncol</code>,
<code>nrow</code>,
<code>row.names</code>,
<code>row.names&lt;-</code>.
</p>


<h3>Access/modify to time properties</h3>

<p>A TimeIntervamDataFrame can be tested for a few time properties :
</p>

<dl>
<dt>continuous</dt>
<dd>
<p>see <code>continuous</code> ;</p>
</dd>
<dt>homogeneous</dt>
<dd>
<p>see <code>homogeneous</code> ;</p>
</dd>
<dt>period</dt>
<dd>
<p>see <code>period</code> ;</p>
</dd>
<dt>overlapping</dt>
<dd>
<p>see <code>overlapping</code> ;</p>
</dd>
<dt>regular</dt>
<dd>
<p>TRUE if all time intervals are equally spaced ;</p>
</dd>
<dt>timezone</dt>
<dd>
<p>gives or sets the timezone of the TimeIntervalDataFrame ;</p>
</dd>
<dt>start</dt>
<dd>
<p>returns a POSIXct object with the start time of each 
intervals ;</p>
</dd>
<dt>end</dt>
<dd>
<p>returns a POSIXct object with the end time of each intervals ;</p>
</dd>
<dt>when</dt>
<dd>
<p>returns a POSIXcti, i.e. the intervals of the object ;</p>
</dd>
<dt>interval</dt>
<dd>
<p>returns a POSIXcti, i.e. the intervals of the object.</p>
</dd>
</dl>
<h3>Graphic representation</h3>

<p>To plot a <code>TimeIntervalDataFrame</code> available functions are
<code>plot</code>, <code>lines</code>,
<code>points</code> and <code>barplot</code>.
</p>
<p>These functions works more or less like their generic definition.
</p>


<h3>Text representation</h3>

<p>To represent a <code>TimeIntervalDataFrame</code> available functions are
<code>print</code>,
<code>summary</code>, <code>head</code>,
<code>tail</code> and <code>show</code>.
</p>


<h3>See Also</h3>

<p><code>TimeInstantDataFrame</code>, <code>SubtimeDataFrame</code>,
<code>POSIXcti</code>, <code>POSIXctp</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">showClass("TimeIntervalDataFrame")
</code></pre>


</div>