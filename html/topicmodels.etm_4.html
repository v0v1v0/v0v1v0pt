<div class="container">

<table style="width: 100%;"><tr>
<td>plot.ETM</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot functionality for an ETM object</h2>

<h3>Description</h3>

<p>Convenience function allowing to plot 
</p>

<ul>
<li>
<p>the evolution of the loss on the training / test set in order to inspect training convergence
</p>
</li>
<li>
<p>the <code>ETM</code> model in 2D dimensional space using a umap projection. 
This plot uses function <code>textplot_embedding_2d</code> from the textplot R package and
plots the top_n most emitted words of each topic and the topic centers in 2 dimensions
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'ETM'
plot(
  x,
  type = c("loss", "topics"),
  which,
  top_n = 4,
  title = "ETM topics",
  subtitle = "",
  encircle = FALSE,
  points = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>ETM</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>character string with the type of plot to generate: either 'loss' or 'topics'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>an integer vector of topics to plot, used in case type = 'topics'. Defaults to all topics. See the example below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top_n</code></td>
<td>
<p>passed on to <code>summary.ETM</code> in order to visualise the top_n most relevant words for each topic. Defaults to 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>passed on to textplot_embedding_2d, used in case type = 'topics'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtitle</code></td>
<td>
<p>passed on to textplot_embedding_2d, used in case type = 'topics'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encircle</code></td>
<td>
<p>passed on to textplot_embedding_2d, used in case type = 'topics'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points</code></td>
<td>
<p>passed on to textplot_embedding_2d, used in case type = 'topics'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed on to <code>summary.ETM</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>In case <code>type</code> is set to 'topics', maps the topic centers and most emitted words for each topic
to 2D using <code>summary.ETM</code> and returns a ggplot object by calling <code>textplot_embedding_2d</code>. <br>
For type 'loss', makes a base graphics plot and returns invisibly nothing.
</p>


<h3>See Also</h3>

<p><code>ETM</code>, <code>summary.ETM</code>, <code>textplot_embedding_2d</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(torch)
library(topicmodels.etm)
path  &lt;- system.file(package = "topicmodels.etm", "example", "example_etm.ckpt")
model &lt;- torch_load(path)
plot(model, type = "loss")



library(torch)
library(topicmodels.etm)
library(textplot)
library(uwot)
library(ggrepel)
library(ggalt)
path  &lt;- system.file(package = "topicmodels.etm", "example", "example_etm.ckpt")
model &lt;- torch_load(path)
plt   &lt;- plot(model, type = "topics", top_n = 7, which = c(1, 2, 14, 16, 18, 19),
              metric = "cosine", n_neighbors = 15, 
              fast_sgd = FALSE, n_threads = 2, verbose = TRUE,
              title = "ETM Topics example")
plt

</code></pre>


</div>