<div class="container">

<table style="width: 100%;"><tr>
<td>h_tbl_coxph_pairwise</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Helper function for generating a pairwise Cox-PH table</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>Create a <code>data.frame</code> of pairwise stratified or unstratified Cox-PH analysis results.
</p>


<h3>Usage</h3>

<pre><code class="language-R">h_tbl_coxph_pairwise(
  df,
  variables,
  ref_group_coxph = NULL,
  control_coxph_pw = control_coxph(),
  annot_coxph_ref_lbls = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>(<code>data.frame</code>)<br> data set containing all analysis variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variables</code></td>
<td>
<p>(named <code>list</code>)<br> variable names. Details are:
</p>

<ul>
<li> <p><code>tte</code> (<code>numeric</code>)<br> variable indicating time-to-event duration values.
</p>
</li>
<li> <p><code>is_event</code> (<code>logical</code>)<br> event variable. <code>TRUE</code> if event, <code>FALSE</code> if time to event is censored.
</p>
</li>
<li> <p><code>arm</code> (<code>factor</code>)<br> the treatment group variable.
</p>
</li>
<li> <p><code>strata</code> (<code>character</code> or <code>NULL</code>)<br> variable names indicating stratification factors.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref_group_coxph</code></td>
<td>
<p>(<code>string</code> or <code>NULL</code>)<br> level of arm variable to use as reference group in calculations for
<code>annot_coxph</code> table. If <code>NULL</code> (default), uses the first level of the arm variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control_coxph_pw</code></td>
<td>
<p>(<code>list</code>)<br> parameters for comparison details, specified using the helper function
<code>control_coxph()</code>. Some possible parameter options are:
</p>

<ul>
<li> <p><code>pval_method</code> (<code>string</code>)<br> p-value method for testing hazard ratio = 1.
Default method is <code>"log-rank"</code>, can also be set to <code>"wald"</code> or <code>"likelihood"</code>.
</p>
</li>
<li> <p><code>ties</code> (<code>string</code>)<br> method for tie handling. Default is <code>"efron"</code>,
can also be set to <code>"breslow"</code> or <code>"exact"</code>. See more in <code>survival::coxph()</code>
</p>
</li>
<li> <p><code>conf_level</code> (<code>proportion</code>)<br> confidence level of the interval for HR.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annot_coxph_ref_lbls</code></td>
<td>
<p>(<code>flag</code>)<br> whether the reference group should be explicitly printed in labels for the
<code>annot_coxph</code> table. If <code>FALSE</code> (default), only comparison groups will be printed in <code>annot_coxph</code> table labels.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>data.frame</code> containing statistics <code>HR</code>, <code style="white-space: pre;">⁠XX% CI⁠</code> (<code>XX</code> taken from <code>control_coxph_pw</code>),
and <code>p-value (log-rank)</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)

adtte &lt;- tern_ex_adtte %&gt;%
  filter(PARAMCD == "OS") %&gt;%
  mutate(is_event = CNSR == 0)

h_tbl_coxph_pairwise(
  df = adtte,
  variables = list(tte = "AVAL", is_event = "is_event", arm = "ARM"),
  control_coxph_pw = control_coxph(conf_level = 0.9)
)

</code></pre>


</div>