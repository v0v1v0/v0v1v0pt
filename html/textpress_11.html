<div class="container">

<table style="width: 100%;"><tr>
<td>api_huggingface_embeddings</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Call Hugging Face API for Embeddings</h2>

<h3>Description</h3>

<p>Retrieves embeddings for text data using Hugging Face's API. It can process a batch of texts or a single query.  Mostly for demo purposes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">api_huggingface_embeddings(
  tif,
  text_hierarchy,
  api_token,
  api_url = NULL,
  query = NULL,
  dims = 384,
  batch_size = 250,
  sleep_duration = 1,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tif</code></td>
<td>
<p>A data frame containing text data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text_hierarchy</code></td>
<td>
<p>A character vector indicating the columns used to create row names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_token</code></td>
<td>
<p>Token for accessing the Hugging Face API.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_url</code></td>
<td>
<p>The URL of the Hugging Face API endpoint (default is all-MiniLM-L6-v2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>An optional single text query for which embeddings are required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dims</code></td>
<td>
<p>The dimension of the output embeddings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>batch_size</code></td>
<td>
<p>Number of rows in each batch sent to the API.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sleep_duration</code></td>
<td>
<p>Duration in seconds to pause between processing batches.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>A boolean specifying whether to include progress bar</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix containing embeddings, with each row corresponding to a text input.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
tif &lt;- data.frame(doc_id = c('1'), text = c("Hello world."))
embeddings &lt;- api_huggingface_embeddings(tif,
                                         text_hierarchy = 'doc_id',
                                         api_token = api_token)

## End(Not run)


</code></pre>


</div>