<div class="container">

<table style="width: 100%;"><tr>
<td>Reporter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
<code>Reporter</code>: An <code>R6</code> class for managing report cards</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>This <code>R6</code> class is designed to store and manage report cards,
facilitating the creation, manipulation, and serialization of report-related data.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Reporter-new"><code>Reporter$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-append_cards"><code>Reporter$append_cards()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-get_cards"><code>Reporter$get_cards()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-get_blocks"><code>Reporter$get_blocks()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-reset"><code>Reporter$reset()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-remove_cards"><code>Reporter$remove_cards()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-swap_cards"><code>Reporter$swap_cards()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-get_reactive_add_card"><code>Reporter$get_reactive_add_card()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-get_metadata"><code>Reporter$get_metadata()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-append_metadata"><code>Reporter$append_metadata()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-from_reporter"><code>Reporter$from_reporter()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-to_list"><code>Reporter$to_list()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-from_list"><code>Reporter$from_list()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-to_jsondir"><code>Reporter$to_jsondir()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-from_jsondir"><code>Reporter$from_jsondir()</code></a>
</p>
</li>
<li> <p><a href="#method-Reporter-clone"><code>Reporter$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-Reporter-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Initialize a <code>Reporter</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$new()</pre></div>



<h5>Returns</h5>

<p>Object of class <code>Reporter</code>, invisibly.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>reporter &lt;- Reporter$new()

</pre>
</div>


<hr>
<a id="method-Reporter-append_cards"></a>



<h4>Method <code>append_cards()</code>
</h4>

<p>Append one or more <code>ReportCard</code> objects to the <code>Reporter</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$append_cards(cards)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>cards</code></dt>
<dd>
<p>(<code>ReportCard</code>) or a list of such objects</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>, invisibly.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>library(ggplot2)
library(rtables)

card1 &lt;- ReportCard$new()

card1$append_text("Header 2 text", "header2")
card1$append_text("A paragraph of default text", "header2")
card1$append_plot(
  ggplot(iris, aes(x = Petal.Length)) + geom_histogram()
)

card2 &lt;- ReportCard$new()

card2$append_text("Header 2 text", "header2")
card2$append_text("A paragraph of default text", "header2")
lyt &lt;- analyze(split_rows_by(basic_table(), "Day"), "Ozone", afun = mean)
table_res2 &lt;- build_table(lyt, airquality)
card2$append_table(table_res2)
card2$append_table(iris)

reporter &lt;- Reporter$new()
reporter$append_cards(list(card1, card2))
</pre>
</div>


<hr>
<a id="method-Reporter-get_cards"></a>



<h4>Method <code>get_cards()</code>
</h4>

<p>Retrieves all <code>ReportCard</code> objects contained in the <code>Reporter</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$get_cards()</pre></div>



<h5>Returns</h5>

<p>A (<code>list</code>) of <code>ReportCard</code> objects.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>library(ggplot2)
library(rtables)

card1 &lt;- ReportCard$new()

card1$append_text("Header 2 text", "header2")
card1$append_text("A paragraph of default text", "header2")
card1$append_plot(
 ggplot(iris, aes(x = Petal.Length)) + geom_histogram()
)

card2 &lt;- ReportCard$new()

card2$append_text("Header 2 text", "header2")
card2$append_text("A paragraph of default text", "header2")
lyt &lt;- analyze(split_rows_by(basic_table(), "Day"), "Ozone", afun = mean)
table_res2 &lt;- build_table(lyt, airquality)
card2$append_table(table_res2)
card2$append_table(iris)

reporter &lt;- Reporter$new()
reporter$append_cards(list(card1, card2))
reporter$get_cards()
</pre>
</div>


<hr>
<a id="method-Reporter-get_blocks"></a>



<h4>Method <code>get_blocks()</code>
</h4>

<p>Compiles and returns all content blocks from the <code>ReportCard</code> in the <code>Reporter</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$get_blocks(sep = NewpageBlock$new())</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>sep</code></dt>
<dd>
<p>An optional separator to insert between each content block.
Default is a <code>NewpageBlock$new()</code>object.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>list()</code> list of <code>TableBlock</code>, <code>TextBlock</code>, <code>PictureBlock</code> and <code>NewpageBlock</code>.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>library(ggplot2)
library(rtables)

card1 &lt;- ReportCard$new()

card1$append_text("Header 2 text", "header2")
card1$append_text("A paragraph of default text", "header2")
card1$append_plot(
 ggplot(iris, aes(x = Petal.Length)) + geom_histogram()
)

card2 &lt;- ReportCard$new()

card2$append_text("Header 2 text", "header2")
card2$append_text("A paragraph of default text", "header2")
lyt &lt;- analyze(split_rows_by(basic_table(), "Day"), "Ozone", afun = mean)
table_res2 &lt;- build_table(lyt, airquality)
card2$append_table(table_res2)
card2$append_table(iris)

reporter &lt;- Reporter$new()
reporter$append_cards(list(card1, card2))
reporter$get_blocks()

</pre>
</div>


<hr>
<a id="method-Reporter-reset"></a>



<h4>Method <code>reset()</code>
</h4>

<p>Resets the <code>Reporter</code>, removing all <code>ReportCard</code> objects and metadata.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$reset()</pre></div>



<h5>Returns</h5>

<p><code>self</code>, invisibly.
</p>


<hr>
<a id="method-Reporter-remove_cards"></a>



<h4>Method <code>remove_cards()</code>
</h4>

<p>Removes specific <code>ReportCard</code> objects from the <code>Reporter</code> by their indices.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$remove_cards(ids = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>ids</code></dt>
<dd>
<p>(<code>integer(id)</code>) the indexes of cards</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>, invisibly.
</p>


<hr>
<a id="method-Reporter-swap_cards"></a>



<h4>Method <code>swap_cards()</code>
</h4>

<p>Swaps the positions of two <code>ReportCard</code> objects within the <code>Reporter</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$swap_cards(start, end)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>start</code></dt>
<dd>
<p>(<code>integer</code>) the index of the first card</p>
</dd>
<dt><code>end</code></dt>
<dd>
<p>(<code>integer</code>) the index of the second card</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>, invisibly.
</p>


<hr>
<a id="method-Reporter-get_reactive_add_card"></a>



<h4>Method <code>get_reactive_add_card()</code>
</h4>

<p>Gets the current value of the reactive variable for adding cards.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$get_reactive_add_card()</pre></div>



<h5>Returns</h5>

<p><code>reactive_add_card</code> current <code>numeric</code> value of the reactive variable.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>library(shiny)

isolate(Reporter$new()$get_reactive_add_card())
</pre>
</div>


<hr>
<a id="method-Reporter-get_metadata"></a>



<h4>Method <code>get_metadata()</code>
</h4>

<p>Get the metadata associated with this <code>Reporter</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$get_metadata()</pre></div>



<h5>Returns</h5>

<p><code style="white-space: pre;">⁠named list⁠</code> of metadata to be appended.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>reporter &lt;- Reporter$new()$append_metadata(list(sth = "sth"))
reporter$get_metadata()

</pre>
</div>


<hr>
<a id="method-Reporter-append_metadata"></a>



<h4>Method <code>append_metadata()</code>
</h4>

<p>Appends metadata to this <code>Reporter</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$append_metadata(meta)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>meta</code></dt>
<dd>
<p>(<code style="white-space: pre;">⁠named list⁠</code>) of metadata to be appended.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>, invisibly.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>reporter &lt;- Reporter$new()$append_metadata(list(sth = "sth"))
reporter$get_metadata()

</pre>
</div>


<hr>
<a id="method-Reporter-from_reporter"></a>



<h4>Method <code>from_reporter()</code>
</h4>

<p>Reinitializes a <code>Reporter</code> instance by copying the report cards and metadata from another <code>Reporter</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$from_reporter(reporter)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>reporter</code></dt>
<dd>
<p>(<code>Reporter</code>) instance to copy from.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>, invisibly.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>reporter &lt;- Reporter$new()
reporter$from_reporter(reporter)
</pre>
</div>


<hr>
<a id="method-Reporter-to_list"></a>



<h4>Method <code>to_list()</code>
</h4>

<p>Convert a <code>Reporter</code> to a list and transfer any associated files to specified directory.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$to_list(output_dir)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>output_dir</code></dt>
<dd>
<p>(<code>character(1)</code>) a path to the directory where files will be copied.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code style="white-space: pre;">⁠named list⁠</code> representing the <code>Reporter</code> instance, including version information,
metadata, and report cards.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>reporter &lt;- Reporter$new()
tmp_dir &lt;- file.path(tempdir(), "testdir")
dir.create(tmp_dir)
reporter$to_list(tmp_dir)
</pre>
</div>


<hr>
<a id="method-Reporter-from_list"></a>



<h4>Method <code>from_list()</code>
</h4>

<p>Reinitializes a <code>Reporter</code> from a list representation and associated files in a specified directory.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$from_list(rlist, output_dir)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>rlist</code></dt>
<dd>
<p>(<code style="white-space: pre;">⁠named list⁠</code>) representing a <code>Reporter</code> instance.</p>
</dd>
<dt><code>output_dir</code></dt>
<dd>
<p>(<code>character(1)</code>) a path to the directory from which files will be copied.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>, invisibly.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>reporter &lt;- Reporter$new()
tmp_dir &lt;- file.path(tempdir(), "testdir")
unlink(tmp_dir, recursive = TRUE)
dir.create(tmp_dir)
reporter$from_list(reporter$to_list(tmp_dir), tmp_dir)
</pre>
</div>


<hr>
<a id="method-Reporter-to_jsondir"></a>



<h4>Method <code>to_jsondir()</code>
</h4>

<p>Serializes the <code>Reporter</code> to a <code>JSON</code> file and copies any associated files to a specified directory.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$to_jsondir(output_dir)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>output_dir</code></dt>
<dd>
<p>(<code>character(1)</code>) a path to the directory where files will be copied, <code>JSON</code> and statics.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>output_dir</code> argument.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>reporter &lt;- Reporter$new()
tmp_dir &lt;- file.path(tempdir(), "jsondir")
dir.create(tmp_dir)
reporter$to_jsondir(tmp_dir)
</pre>
</div>


<hr>
<a id="method-Reporter-from_jsondir"></a>



<h4>Method <code>from_jsondir()</code>
</h4>

<p>Reinitializes a <code>Reporter</code> from a <code>JSON </code> file and files in a specified directory.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$from_jsondir(output_dir)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>output_dir</code></dt>
<dd>
<p>(<code>character(1)</code>) a path to the directory with files, <code>JSON</code> and statics.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>, invisibly.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>reporter &lt;- Reporter$new()
tmp_dir &lt;- file.path(tempdir(), "jsondir")
dir.create(tmp_dir)
unlink(list.files(tmp_dir, recursive = TRUE))
reporter$to_jsondir(tmp_dir)
reporter$from_jsondir(tmp_dir)
</pre>
</div>


<hr>
<a id="method-Reporter-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Reporter$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Note</h3>

<p>The function has to be used in the shiny reactive context.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## ------------------------------------------------
## Method `Reporter$new`
## ------------------------------------------------

reporter &lt;- Reporter$new()


## ------------------------------------------------
## Method `Reporter$append_cards`
## ------------------------------------------------

library(ggplot2)
library(rtables)

card1 &lt;- ReportCard$new()

card1$append_text("Header 2 text", "header2")
card1$append_text("A paragraph of default text", "header2")
card1$append_plot(
  ggplot(iris, aes(x = Petal.Length)) + geom_histogram()
)

card2 &lt;- ReportCard$new()

card2$append_text("Header 2 text", "header2")
card2$append_text("A paragraph of default text", "header2")
lyt &lt;- analyze(split_rows_by(basic_table(), "Day"), "Ozone", afun = mean)
table_res2 &lt;- build_table(lyt, airquality)
card2$append_table(table_res2)
card2$append_table(iris)

reporter &lt;- Reporter$new()
reporter$append_cards(list(card1, card2))

## ------------------------------------------------
## Method `Reporter$get_cards`
## ------------------------------------------------

library(ggplot2)
library(rtables)

card1 &lt;- ReportCard$new()

card1$append_text("Header 2 text", "header2")
card1$append_text("A paragraph of default text", "header2")
card1$append_plot(
 ggplot(iris, aes(x = Petal.Length)) + geom_histogram()
)

card2 &lt;- ReportCard$new()

card2$append_text("Header 2 text", "header2")
card2$append_text("A paragraph of default text", "header2")
lyt &lt;- analyze(split_rows_by(basic_table(), "Day"), "Ozone", afun = mean)
table_res2 &lt;- build_table(lyt, airquality)
card2$append_table(table_res2)
card2$append_table(iris)

reporter &lt;- Reporter$new()
reporter$append_cards(list(card1, card2))
reporter$get_cards()

## ------------------------------------------------
## Method `Reporter$get_blocks`
## ------------------------------------------------

library(ggplot2)
library(rtables)

card1 &lt;- ReportCard$new()

card1$append_text("Header 2 text", "header2")
card1$append_text("A paragraph of default text", "header2")
card1$append_plot(
 ggplot(iris, aes(x = Petal.Length)) + geom_histogram()
)

card2 &lt;- ReportCard$new()

card2$append_text("Header 2 text", "header2")
card2$append_text("A paragraph of default text", "header2")
lyt &lt;- analyze(split_rows_by(basic_table(), "Day"), "Ozone", afun = mean)
table_res2 &lt;- build_table(lyt, airquality)
card2$append_table(table_res2)
card2$append_table(iris)

reporter &lt;- Reporter$new()
reporter$append_cards(list(card1, card2))
reporter$get_blocks()


## ------------------------------------------------
## Method `Reporter$get_reactive_add_card`
## ------------------------------------------------

library(shiny)

isolate(Reporter$new()$get_reactive_add_card())

## ------------------------------------------------
## Method `Reporter$get_metadata`
## ------------------------------------------------

reporter &lt;- Reporter$new()$append_metadata(list(sth = "sth"))
reporter$get_metadata()


## ------------------------------------------------
## Method `Reporter$append_metadata`
## ------------------------------------------------

reporter &lt;- Reporter$new()$append_metadata(list(sth = "sth"))
reporter$get_metadata()


## ------------------------------------------------
## Method `Reporter$from_reporter`
## ------------------------------------------------

reporter &lt;- Reporter$new()
reporter$from_reporter(reporter)

## ------------------------------------------------
## Method `Reporter$to_list`
## ------------------------------------------------

reporter &lt;- Reporter$new()
tmp_dir &lt;- file.path(tempdir(), "testdir")
dir.create(tmp_dir)
reporter$to_list(tmp_dir)

## ------------------------------------------------
## Method `Reporter$from_list`
## ------------------------------------------------

reporter &lt;- Reporter$new()
tmp_dir &lt;- file.path(tempdir(), "testdir")
unlink(tmp_dir, recursive = TRUE)
dir.create(tmp_dir)
reporter$from_list(reporter$to_list(tmp_dir), tmp_dir)

## ------------------------------------------------
## Method `Reporter$to_jsondir`
## ------------------------------------------------

reporter &lt;- Reporter$new()
tmp_dir &lt;- file.path(tempdir(), "jsondir")
dir.create(tmp_dir)
reporter$to_jsondir(tmp_dir)

## ------------------------------------------------
## Method `Reporter$from_jsondir`
## ------------------------------------------------

reporter &lt;- Reporter$new()
tmp_dir &lt;- file.path(tempdir(), "jsondir")
dir.create(tmp_dir)
unlink(list.files(tmp_dir, recursive = TRUE))
reporter$to_jsondir(tmp_dir)
reporter$from_jsondir(tmp_dir)
</code></pre>


</div>