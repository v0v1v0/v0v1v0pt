<div class="container">

<table style="width: 100%;"><tr>
<td>round_using_magnitude</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set rules for rounding numbers</h2>

<h3>Description</h3>

<p>These functions update a <code>rounding_specification</code> object (see
round_spec) so that a particular approach to rounding is applied:
</p>

<ul>
<li>
<p> round to a dynamic decimal place based on magnitude
of the rounded number (<code>round_using_magnitude()</code>)
</p>
</li>
<li>
<p> round to a specific number of significant
digits (<code>round_using_signif()</code>)
</p>
</li>
<li>
<p> round to a specific decimal place (<code>round_using_decimal()</code>)
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">round_using_magnitude(rspec, digits = c(2, 1, 0), breaks = c(1, 10, Inf))

round_using_signif(rspec, digits = 2)

round_using_decimal(rspec, digits = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rspec</code></td>
<td>
<p>a <code>rounding_specification</code> object (see round_spec).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>for <code>round_using_decimal()</code> and <code>round_using_signif</code>,
a numeric value specifying the number of decimal places and
significant digits to round to, respectively.
For <code>round_using_magnitude()</code>, <code>digits</code> should be a numeric vector
of equal length to <code>breaks</code> that indicates how many decimals to
round to in the numeric range designated by <code>breaks</code>.
(see notes for example).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>(only relevant if rounding based on magnitude)
a positive, monotonically increasing numeric vector
designating rounding boundaries.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>digits</code> and <code>breaks</code> must be used in coordination with each other
when rounding based on magnitude. For example, using
<code>breaks = c(1, 10, Inf)</code> and <code>decimals = c(2, 1, 0)</code>,
</p>

<ul>
<li>
<p> numbers whose absolute value is &lt; 1 are rounded to 2 decimal places,
</p>
</li>
<li>
<p> numbers whose absolute value is &gt;= 1 and &lt; 10 are rounding to 1
decimal place, and
</p>
</li>
<li>
<p> numbers whose absolute value is &gt;= 10 are rounding to 0 decimal places.
The use of magnitude to guide rounding rules is extremely flexible and
can be used for many different applications (e.g., see table_pvalue).
Rounding by magnitude is similar in some ways to rounding to a set
number of significant digits but not entirely the same (see examples).
</p>
</li>
</ul>
<h3>Value</h3>

<p>an object of class <code>rounding_specification</code>.
</p>


<h3>See Also</h3>

<p>Other rounding helpers: 
<code>round_half_up()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
x &lt;- c(pi, exp(1))
x &lt;- c(x, x*10, x*100, x*1000)

# make one specification using each rounding approach
specs &lt;- list(
  magnitude = round_using_magnitude(round_spec()),
  decimal = round_using_decimal(round_spec()),
  signif = round_using_signif(round_spec())
)

# apply all three rounding specifications to x
# notice how the rounding specifications are in agreement
# for smaller values of x but their answers are different
# for larger values of x.

sapply(specs, function(rspec) table_value(x, rspec))

# output:
#  magnitude   decimal    signif
# [1,] "3.1"     "3.1"     "3.1"
# [2,] "2.7"     "2.7"     "2.7"
# [3,] "31"      "31.4"    "31.0"
# [4,] "27"      "27.2"    "27.0"
# [5,] "314"     "314.2"   "310.0"
# [6,] "272"     "271.8"   "270.0"
# [7,] "3,142"   "3,141.6" "3,100.0"
# [8,] "2,718"   "2,718.3" "2,700.0"
</code></pre>


</div>