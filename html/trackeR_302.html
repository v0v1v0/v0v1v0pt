<div class="container">

<table style="width: 100%;"><tr>
<td>trackeRdata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a trackeRdata object</h2>

<h3>Description</h3>

<p>Create a trackeRdata object from a data frame with observations
being divided in separate training sessions. For breaks within a
session observations are imputed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">trackeRdata(
  dat,
  units = NULL,
  sport = NULL,
  session_threshold = 2,
  correct_distances = FALSE,
  smooth_elevation_gain = TRUE,
  from_distances = TRUE,
  country = NULL,
  mask = TRUE,
  lgap = 30,
  lskip = 5,
  m = 11,
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>A <code>data.frame</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>The output of <code>generate_units</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sport</code></td>
<td>
<p>What sport does <code>dat</code> contain data of? Either
<code>'cycling'</code>, <code>'running'</code>, <code>'swimming'</code> or
<code>NULL</code> (default), in which case the sport is directly
extracted from the <code>dat</code>. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>session_threshold</code></td>
<td>
<p>The threshold in hours for the time
difference between consecutive timestamps above which they are
considered to belong to different training sessions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct_distances</code></td>
<td>
<p>Logical. Should the distances be corrected
for elevation? Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth_elevation_gain</code></td>
<td>
<p>Logical. Should the elevation gain be
smoothed before computing elevation gain? Default
is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from_distances</code></td>
<td>
<p>Logical. Should the speeds be calculated from the distance recordings
instead of taken from the speed recordings directly?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>country</code></td>
<td>
<p>ISO3 country code for downloading altitude data. If
<code>NULL</code>, country is derived from longitude and latitude</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mask</code></td>
<td>
<p>Logical. Passed on to
<code>getData</code>. Should only the altitudes for
the specified <code>country</code> be extracted (<code>TRUE</code>) or also
those for the neighbouring countries (<code>FALSE</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lgap</code></td>
<td>
<p>Time in seconds corresponding to the minimal sampling rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lskip</code></td>
<td>
<p>Time in seconds between the last observation before a small break
and the first imputed speed or the last imputed speed and the first
observation after a small break.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Number of imputed observations in each small break.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>Logical. Should warnings be generated if any of the
sanity checks on the data are triggered?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>During small breaks within a session, e.g., because the recording
device was paused, observations are imputed the following way: 0
for speed, last known position for latitude, longitude and
altitude, NA or 0 power for running or cycling session,
respectively, and NA for all other variables. Distances are
(re-)calculated based on speeds after imputation.
</p>
<p><code>trackeRdata</code> assumes that all observations in <code>dat</code> are
from the same <code>sport</code>, even if <code>dat</code> ends up having
observations from different sessions (also depending on the value
of <code>session_threshold</code>.
</p>
<p>if <code>attr(dat, 'sport')</code> is <code>NA</code> then the current
implementation of <code>trackeRdata</code> returns an error.
</p>
<p>More details about the resulting <code>trackeRdata</code> object are
available in the package vignette, which is an up-to-date version
of Frick &amp; Kosmidis (2017).
</p>


<h3>References</h3>

<p>Frick, H., Kosmidis, I. (2017). trackeR: Infrastructure for Running
and Cycling Data from GPS-Enabled Tracking Devices in
R. <em>Journal of Statistical Software</em>, <b>82</b>(7),
1â€“29. doi:10.18637/jss.v082.i07
</p>


<h3>See Also</h3>

<p><code>readContainer</code> for reading .tcx and .db3
files directly into <code>trackeRdata</code> objects, and
<code>get_elevation_gain</code> for details on the computation
of the elevation gain.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## read raw data
filepath &lt;- system.file('extdata/tcx/', '2013-06-08-090442.TCX.gz', package = 'trackeR')
run0 &lt;- readTCX(file = filepath, timezone = 'GMT')

## turn into trackeRdata object
units0 &lt;- generate_units()
run0 &lt;- trackeRdata(run0, units = units0)
</code></pre>


</div>