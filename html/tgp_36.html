<div class="container">

<table style="width: 100%;"><tr>
<td>plot.tgp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Plotting for Treed Gaussian Process Models </h2>

<h3>Description</h3>

<p>A generic function for plotting of <code>"tgp"</code>-class objects.
1-d posterior mean and error plots, 2-d posterior mean and
error image and perspective plots, and 3+-dimensional mean and error
image and perspective plots are supported via projection
and slicing.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'tgp'
plot(x, pparts = TRUE, proj = NULL, slice = NULL,
         map = NULL, as = NULL, center = "mean", layout = "both",
         main = NULL, xlab = NULL, ylab = NULL, zlab = NULL, pc = "pc",
         gridlen = c(40,40), span = 0.1, pXX = TRUE,
         legendloc = "topright", maineff = TRUE,  mrlayout="both",
         rankmax = 20, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
 <p><code>"tgp"</code>-class object that is the output of one of
the <code>b*</code> functions: <code>blm</code>, <code>btlm</code>
<code>bgp</code>, <code>bgpllm</code>, <code>btgp</code>, or 
<code>btgpllm</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pparts</code></td>
<td>
<p>If <code>TRUE</code>, partition-regions are plotted (default), 
otherwise they are not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proj</code></td>
<td>
<p>1-or-2-Vector describing the dimensions to be shown in a
projection. The argument is ignored for 1-d data, i.e., if <code>x$d
      == 1</code>. For 2-d data, no projection needs be specified— the
default argument (<code>proj = NULL</code>) will result in a 2-d perspective
or image plot.  1-d projections of 2-d or higher data are are
supported, e.g., <code>proj = c(2)</code> would show the second variable
projection. For 3-d data or higher, <code>proj=NULL</code> defaults to
<code>proj = c(1,2)</code> which plots a 2-d projection for the first two
variables.  Slices have priority over the projections—
see next argument (<code>slice</code>)— when non-null arguments are
provided for both.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slice</code></td>
<td>
<p><code>list</code> object with <code>x</code> and <code>z</code> fields, which
are vectors of equal length describing the slice to be plotted, i.e.,
which z-values of the <code>x$d - 2</code> inputs <code>x$X</code> and
<code>x$XX</code> should be fixed to in order to obtain a 2-d visualization.
For example, for 4-d data, <code>slice = list(x=(2,4), z=c(0.2, 1.5)</code> will
result in a 2-d plot of the first and third dimensions which have
the second and fourth slice fixed at 0.5 and 1.5.  The default is
<code>NULL</code>, yielding to the <code>proj</code> argument.  Argument is
ignored for 1-d data, i.e., if <code>x$d == 1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>Optional 2-d map (longitude and latitude) 
from <span class="pkg">maps</span> to be shown on top of image plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>Default <code>center = "mean"</code> causes the posterior
predictive mean to be plotted as the centering statistic.
Otherwise the median can be used with <code>center = "med"</code>, or the
kriging mean with <code>center = "km"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as</code></td>
<td>
<p>Optional string indicator for plotting of adaptive sampling
statistics: specifying <code>as = "alm"</code> for ALM, <code>as = "s2"</code>
for predictive variance, <code>as = "ks2"</code> for expected kriging
variance, <code>as = "alc"</code> for ALC,
and <code>as = "improv"</code> for expected improvement (about the
minimum, see the <code>rankmax</code> argument below).  
The default <code>as = NULL</code> plots error-bars (1d-plots) or 
error magnitudes (2d-plots), which is essentially the same as 
<code>as = "alm"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layout</code></td>
<td>
<p>Specify whether to plot the mean predictive surface
(<code>layout = "surf"</code>), the error or adaptive sampling statistics
(<code>layout = "as"</code>), or default (<code>layout = "both"</code>) which
shows both.  If <code>layout = "sens"</code>, plot the results of a
sensitivity analysis (see <code>sens</code>) in a format determined
by the argument <code>maineff</code> below. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Optional <code>character</code> string to add to the main title of the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Optional <code>character</code> string to add to the x label of the plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Optional <code>character</code> string to add to the y label of the plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zlab</code></td>
<td>
<p>Optional <code>character</code> string to add to the z label of the plots;
ignored unless <code>pc = "p"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pc</code></td>
<td>
<p> Selects perspective-posterior mean and image-error plots
(<code>pc = "pc"</code>, the default) or a double–image plot (<code>pc
	  = "c"</code>)</p>
</td>
</tr>
</table>
<p> (only valid for 2-d plots)
</p>
<table>
<tr style="vertical-align: top;">
<td><code>gridlen</code></td>
<td>
<p> Number of regular grid points for 2-d slices and
projections in x and y.  The default of <code>gridlen = c(40,40)</code>
causes a <code>40 * 40</code>
grid of <code>X</code>, <code>Y</code>, and <code>Z</code> values to be computed.
Ignored for 1-d plots and projections</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>span</code></td>
<td>
<p> Span for <code>loess</code> kernel. 
The <span class="pkg">tgp</span> package default (<code>span =
      0.1</code>) is set lower than the <code>loess</code> default.
Smaller spans can lead to warnings from <code>loess</code>
when the data or predictive locations are sparse and ugly plots may
result.  In this case, try increasing the span</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pXX</code></td>
<td>
<p> scalar logical indicating if <code>XX</code> locations should be
plotted </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendloc</code></td>
<td>
<p> Location of the <code>legend</code> included in the
plots of sensitivity analyses produced with <code>layout = "sens"</code>,
or 1-d plots of multi-resolution models (with <code>corr = "mrexpsep"</code>)
and option <code>mrlayout = "both"</code>; otherwise the argument is ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maineff</code></td>
<td>
<p> Format for the plots of sensitivity analyses produced
with <code>layout = "sens"</code>; otherwise the argument is ignored.
If <code>maineff=TRUE</code> main effect plots are produced
alongside boxplots for posterior samples of the sensitivity indices,
and if <code>FALSE</code> only the boxplots are produced.  Alternatively,
<code>maineff</code> can be a matrix containing input dimensions in the
configuration that the corresponding main effects are to be plotted;  
that is, <code>mfrow=dim(maineff)</code>. In this case, a 90 percent
interval is plotted with each main effect and the sensitivity index
boxplots are not plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mrlayout</code></td>
<td>
<p> The plot layout for double resolution
tgp objects with <code>params$corr == "mrexpsep"</code>.  For the default
<code>mrlayout="both"</code>, the coarse and fine fidelity are plotted
together, either on the same plot for 1D inputs or through
side-by-side image plots of the predicted <code>center</code> with axis
determined by <code>proj</code> for inputs of greater dimension.  
Note that many of the standard arguments – such as <code>slice</code>,
<code>pc</code>, and <code>map</code> –  are either non-applicable or
unsupported for <code>mrlayout="both"</code>. If <code>mrlayout="coarse"</code>
or <code>mrlayout="fine"</code>, prediction for the respective fidelity is 
plotted as usual and all of the standard options apply.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rankmax</code></td>
<td>
<p> When <code>as = "improv"</code> is provided, the posterior
expected improvements are plotted according the the first column
of the <code>improv</code> field of the <code>"tgp"</code>-class object.
Text is added to the plot near the <code>XX</code> positions of the first
<code>1:rankmax</code> predictive locations with the highest ranks in the
second column of the <code>improv</code> field. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Extra arguments to 1-d (<code>plot</code>) and 2-d plotting
functions <code>persp</code> and <code>image</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The only output of this function is beautiful plots
</p>


<h3>Note</h3>

<p> 	This plotting function is provided with the intention that it 
will be used as an aid in the visualization of <code>"tgp"</code>-class
objects.  Users are encouraged to use the source code for 
this function in order to develop custom plotting functions.
</p>
<p>1-d projections for 3-d or higher data are also available
by specifying a 1-d projection argument (e.g. <code>proj=c(1)</code>
for projecting onto the first input variable).
</p>
<p>For examples, see  <code>vignette("tgp")</code> and the 
help files of those functions in "See Also", below
</p>


<h3>Author(s)</h3>

 
<p>Robert B. Gramacy, <a href="mailto:rbg@vt.edu">rbg@vt.edu</a>, and
Matt Taddy, <a href="mailto:mataddy@amazon.com">mataddy@amazon.com</a>
</p>


<h3>References</h3>

<p><a href="https://bobby.gramacy.com/r_packages/tgp/">https://bobby.gramacy.com/r_packages/tgp/</a>
</p>


<h3>See Also</h3>

 <p><code>plot</code>, <code>bgpllm</code>, <code>btlm</code>, 
<code>blm</code>, <code>bgp</code>, <code>btgpllm</code>,
<code>predict.tgp</code>,
<code>tgp.trees</code>, <code>mapT</code>, <code>loess</code>, <code>sens</code></p>


</div>