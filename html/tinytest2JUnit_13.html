<div class="container">

<table style="width: 100%;"><tr>
<td>getFormattedStacktrace</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get formatted stack trace for an uncaught error from a tinytest test file.</h2>

<h3>Description</h3>

<p>getFormattedStacktrace is a helper function that formats stacktrace for uncaught errors from a
tinytest run file.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getFormattedStacktrace()
</code></pre>


<h3>Details</h3>

<p>This function assumes that it directly called from a withCallingHandler
error handling function! This fact is then used to remove the calling handler info from the
stack such that stack directly starts from where the error was thrown.
</p>
<p>The function also removes the calls from the stack that involve
executing the <code>test_file</code>. The internals of runTestDir and tinytest are not of intererst.
And the highest level of the stack to consider is the top level of the test_file.
</p>
<p>Note, this does mean that errors that occur on the top-level of the test file will not have a
a stacktrace!
For example: "Error: object 'x' not found" where x is attempted to be resolved
at the root levels
</p>


<h3>Value</h3>

<p><code>character(1)</code> a single length character string suitable to be printed to the end-user.
In case of no stakctrace (eg the error occured at root level of the script) NA_character_
is returned!
</p>


</div>