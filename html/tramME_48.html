<div class="container">

<table style="width: 100%;"><tr>
<td>SurvregME</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mixed-effects Additive Parametric Survival Models</h2>

<h3>Description</h3>

<p>Estimates various mixed-effects additive parametric models (not exclusively)
for survival analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SurvregME(
  formula,
  data,
  subset,
  weights,
  offset,
  na.action = na.omit,
  dist = c("weibull", "logistic", "gaussian", "exponential", "rayleigh", "loggaussian",
    "lognormal", "loglogistic"),
  scale = 0,
  silent = TRUE,
  resid = FALSE,
  do_update = FALSE,
  estinit = TRUE,
  initpar = NULL,
  fixed = NULL,
  nofit = FALSE,
  control = optim_control(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula describing the model. Smooth additive terms are
defined the way as in <code>mgcv</code>, and random effects consistently with
the notation used in <code>lme4</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an optional data frame, list or environment (or object
coercible by <code>as.data.frame</code> to a data frame) containing the
variables in the model.  If not found in <code>data</code>, the
variables are taken from <code>environment(formula)</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>an optional vector specifying a subset of observations to be
used in the fitting process.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>an optional vector of case weights to be used in the fitting
process.  Should be <code>NULL</code> or a numeric vector. If present,
the weighted log-likelihood is maximised.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>this can be used to specify an _a priori_ known component to
be included in the linear predictor during fitting.  This
should be <code>NULL</code> or a numeric vector of length equal to the
number of cases.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>a function which indicates what should happen when the data
contain <code>NA</code>s.  The default is set to <code>na.omit</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>character defining the conditional distribution of the
(not necessarily positive) response, current choices include 
Weibull, logistic, normal, exponential, Rayleigh, log-normal (same as
log-gaussian), or log-logistic.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>a fixed value for the scale parameter(s).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>Logical. Make <span class="pkg">TMB</span> functionality silent.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resid</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the score residuals are also calculated.
This comes with some performance cost.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do_update</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the model is set up so that the weights and the
offsets are updateable. This comes with some performance cost.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estinit</code></td>
<td>
<p>Logical. Estimate a vector of initial values for the fixed effects parameters
from a (fixed effects only) mlt model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initpar</code></td>
<td>
<p>Named list of initial parameter values, if <code>NULL</code>, it is ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed</code></td>
<td>
<p>a named vector of fixed regression coefficients; the names
need to correspond to column names of the design matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nofit</code></td>
<td>
<p>logical, if TRUE, creates the model object, but does not run the optimization</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>list with controls for optimization</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional arguments to <code>tram</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The parameterization is slightly different from
<code>survival::survreg</code>, see Hothorn et al.
(2018).  The results can be transformed back to the <code>survreg</code>
parameterization with specific methods provided by <code>tramME</code>.
</p>
<p>The model extends <code>tram::Survreg</code> with random
effects and (optionally penalized) additive terms. For details on
mixed-effect transformation models, see Tamasi and Hothorn (2021).
</p>
<p>The elements of the linear predictor are parameterized with negative
parameters (i.e. <code>negative = TRUE</code> in <code>tram</code>).
</p>


<h3>Value</h3>

<p>A <code>SurvregME</code> model object.
</p>


<h3>References</h3>

<p>Hothorn, Torsten, Lisa Möst, and Peter Bühlmann. "Most Likely
Transformations."  Scandinavian Journal of Statistics 45, no. 1 (March
2018): 110–34.  &lt;doi:10.1111/sjos.12291&gt;
</p>
<p>Tamasi, Balint, and Torsten Hothorn. "tramME: Mixed-Effects Transformation
Models Using Template Model Builder." The R Journal 13, no. 2 (2021):
398–418. &lt;doi:10.32614/RJ-2021-075&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">library("survival")
rats$litter &lt;- factor(rats$litter)
m &lt;- SurvregME(Surv(time, status) ~ rx + (1 | litter), data = rats,
               dist = "weibull")
summary(m)
coef(m, as.survreg = TRUE)
</code></pre>


</div>