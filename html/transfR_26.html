<div class="container">

<table style="width: 100%;"><tr>
<td>quick_transfr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transfer of observed discharge from gauged catchments to ungauged catchments</h2>

<h3>Description</h3>

<p>Wrap up all the modelling steps into one function for a quick implementation of this R package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">quick_transfr(
  obs,
  sim,
  velocity = "loire2016",
  distance = "rghosh",
  gres = 5,
  weightO = 0.8,
  weightC = 0.2,
  power = 1,
  ndonors = 5,
  maxdist = 50000,
  flexible_donor = TRUE,
  cv = FALSE,
  save_donor = FALSE,
  warmup = 10,
  cooldown = 8,
  dosplit = TRUE,
  split = 30,
  parallel = FALSE,
  cores = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>"transfR" object of the gauged catchments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sim</code></td>
<td>
<p>"transfR" object of the ungauged catchments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>velocity</code></td>
<td>
<p>character string describing the method to estimate the streamflow velocity.
See velocity for the available options (<code>method</code> argument)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance</code></td>
<td>
<p>character string describing the method to compute the distance between catchments.
See hdist for the available options (<code>method</code> argument)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gres</code></td>
<td>
<p>resolution of spatial discretisation (number of points by kmÂ²) for Ghosh
distance. See hdist for more details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weightO</code></td>
<td>
<p>weight given to the distance between outlets if distance method is "combined".
See hdist for more details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weightC</code></td>
<td>
<p>weight given to the distance between centroids if distance method is "combined".
See hdist for more details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>exponent applied in the inverse distance weighting strategy. See weightr for more details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndonors</code></td>
<td>
<p>maximum number of catchments to be used to simulate discharge of an ungauged
catchment. See weightr for more details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxdist</code></td>
<td>
<p>maximum distance between a gauged and an ungauged catchment to allow the net rainfall
to be transfered. This threshold is applied on the <code>mdist</code> distance matrix. If no units is provided,
<code>maxdist</code> is assumed to be in [m]. See mixr for more details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flexible_donor</code></td>
<td>
<p>boolean indicating if the donor catchments can change during the simulation period
according to the availability of discharge observations. See weightr for more details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv</code></td>
<td>
<p>boolean indicating if cross validation evaluation should be done. If true, it will estimate
the net rainfall of every gauged catchments (<code>obs</code>) as if they were ungauged (leave-one-out evaluation)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_donor</code></td>
<td>
<p>boolean indicating if the net rainfall of each of the <code>ndonors</code> catchments
should be stored in the sim object for further analysis. If true, it is adding three new space-time attributes
in the <code>sim</code> object called "RnDonor", "Idonor" and "Wdonor" describing the net rainfall, the id and
the weight of the donor catchments respectively. See mixr for more details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warmup</code></td>
<td>
<p>length of the warmup period. If no unit is provided, <code>warmup</code> is assumed to be in [days].
See inversion for more details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cooldown</code></td>
<td>
<p>length of the period removed at the end of the simulation. If no unit is provided,
<code>cooldown</code> is assumed to be in [days]. See inversion for more details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dosplit</code></td>
<td>
<p>boolean, if true the inversion is performed by
subperiods of length defined by <code>split</code>. See inversion for more details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split</code></td>
<td>
<p>length the subperiods if dosplit is true. If no unit is provided, <code>split</code> is assumed to be
in [days]. See inversion for more details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>logical indicating if the computation should be parallelised</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>the number of cores to use for parallel execution if <code>parallel</code> is TRUE.
If not specified, the number of cores is set to the value of <code>parallel::detectCores()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>boolean indicating if information messages should be written to the console</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function applies sequentially the following functions: velocity, uh,
lagtime, rapriori, inversion, hdist, mixr and convolution.
Please refer to the help of each of these functions and to transfR-package for a general description of the
modelling approach.
</p>


<h3>Value</h3>

<p>The <code>sim</code> object incremented by the new computed attributes
</p>


<h3>See Also</h3>

<p>velocity, uh, lagtime, rapriori, inversion,
hdist, mixr, convolution
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Oudon)
obs &lt;- as_transfr(st = Oudon$obs[,,1:3], hl = Oudon$hl[1:3]) #gauged catchments
sim &lt;- as_transfr(st = Oudon$obs[,,4:6], hl = Oudon$hl[4:6]) #catchments considered as ungauged
sim &lt;- quick_transfr(obs, sim)
</code></pre>


</div>