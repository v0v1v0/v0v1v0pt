<div class="container">

<table style="width: 100%;"><tr>
<td>db_dataset_trim_history</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Remove Vintages from the Beginning of Dataset</h2>

<h3>Description</h3>

<p>Removes any vintages of the given dataset that are older than a specified date.
</p>


<h3>Usage</h3>

<pre><code class="language-R">db_dataset_trim_history(con, set_id, older_than, schema = "timeseries")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>con</code></td>
<td>
<p>RPostgres connection object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>set_id</code></td>
<td>
<p>character Name of the set to trim</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>older_than</code></td>
<td>
<p>Date cut off point</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>schema</code></td>
<td>
<p><strong>character</strong> name of the database schema. Defaults to 'timeseries'</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In some cases only the last few versions of time series are of interest. This
function can be used to trim off old vintages that are no longer relevant. It may
be helpful to use this function with high frequency data to save disk space
of versions are not needed.
</p>


<h3>See Also</h3>

<p>Other datasets functions: 
<code>db_dataset_create()</code>,
<code>db_dataset_delete()</code>,
<code>db_dataset_get_keys()</code>,
<code>db_dataset_get_last_update()</code>,
<code>db_dataset_list()</code>,
<code>db_dataset_update_metadata()</code>,
<code>db_ts_assign_dataset()</code>,
<code>db_ts_get_dataset()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 

# Storing different versions of the data, use parameter valid_from
# different versions are stored with the same key
ch.kof.barometer &lt;- kof_ts["baro_2019m11"]
names(ch.kof.barometer) &lt;- c("ch.kof.barometer")
db_ts_store(
  con = connection,
  ch.kof.barometer,
  valid_from = "2019-12-01",
  schema = "schema"
)

ch.kof.barometer &lt;- kof_ts["baro_2019m12"]
names(ch.kof.barometer) &lt;- c("ch.kof.barometer")
db_ts_store(
  con = connection,
  ch.kof.barometer,
  valid_from = "2020-01-01",
  schema = "schema"
)

db_dataset_create(
  con = connection,
  set_name = "barometer",
  set_description = "KOF Barometer",
  schema = "schema"
)

db_ts_assign_dataset(
  con = connection,
  ts_keys = "ch.kof.barometer",
  set_name = "barometer",
  schema = "schema"
)

db_dataset_trim_history(
  con = connection,
  set_id = "barometer",
  older_than = "2019-12-31",
  schema = "schema"
)

## End(Not run)
</code></pre>


</div>