<div class="container">

<table style="width: 100%;"><tr>
<td>time_gaps</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Gaps in a regular time sequence</h2>

<h3>Description</h3>

<p><code>time_gaps()</code> checks for implicit missing gaps in time for any
regular date or datetime sequence.
</p>


<h3>Usage</h3>

<pre><code class="language-R">time_gaps(
  x,
  time_by = NULL,
  g = NULL,
  use.g.names = TRUE,
  time_type = getOption("timeplyr.time_type", "auto"),
  check_time_regular = FALSE
)

time_num_gaps(
  x,
  time_by = NULL,
  g = NULL,
  use.g.names = TRUE,
  na.rm = TRUE,
  time_type = getOption("timeplyr.time_type", "auto"),
  check_time_regular = FALSE
)

time_has_gaps(
  x,
  time_by = NULL,
  g = NULL,
  use.g.names = TRUE,
  na.rm = TRUE,
  time_type = getOption("timeplyr.time_type", "auto"),
  check_time_regular = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A date, datetime or numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_by</code></td>
<td>
<p>Time unit. <br>
Must be one of the three:
</p>

<ul>
<li>
<p> string, specifying either the unit or the number and unit, e.g
<code>time_by = "days"</code> or <code>time_by = "2 weeks"</code>
</p>
</li>
<li>
<p> named list of length one, the unit being the name, and
the number the value of the list, e.g. <code>list("days" = 7)</code>.
For the vectorized time functions, you can supply multiple values,
e.g. <code>list("days" = 1:10)</code>.
</p>
</li>
<li>
<p> Numeric vector. If time_by is a numeric vector and x is not a date/datetime,
then arithmetic is used, e.g <code>time_by = 1</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g</code></td>
<td>
<p>Grouping object passed directly to <code>collapse::GRP()</code>.
This can for example be a vector or data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.g.names</code></td>
<td>
<p>Should the result include group names?
Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_type</code></td>
<td>
<p>Time type, either "auto", "duration" or "period".
With larger data, it is recommended to use <code>time_type = "duration"</code> for
speed and efficiency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_time_regular</code></td>
<td>
<p>Should the time vector be
checked to see if it is regular (with or without gaps)?
Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>Should <code>NA</code> values be removed? Default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When <code>check_time_regular</code> is TRUE, <code>x</code> is passed to
<code>time_is_regular</code>, which checks that the time elapsed between successive
values are in increasing order and are whole numbers.
For more strict checks, see <code>?time_is_regular</code>.
</p>


<h3>Value</h3>

<p><code>time_gaps</code> returns a vector of time gaps. <br><code>time_num_gaps</code> returns the number of time gaps. <br><code>time_has_gaps</code> returns a logical(1) of whether there are gaps.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(timeplyr)
library(dplyr)
library(lubridate)
library(nycflights13)

missing_dates(flights$time_hour)
time_has_gaps(flights$time_hour)
time_num_gaps(flights$time_hour)
time_gaps(flights$time_hour)
time_num_gaps(flights$time_hour, g = flights$origin)

# Number of missing hours by origin and dest
flights %&gt;%
  group_by(origin, dest) %&gt;%
  summarise(n_missing = time_num_gaps(time_hour, "hours"))

</code></pre>


</div>