<div class="container">

<table style="width: 100%;"><tr>
<td>tmap_mode</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set tmap mode to static plotting or interactive viewing</h2>

<h3>Description</h3>

<p>Set tmap mode to static plotting or interactive viewing. The global option <code>tmap.mode</code> determines the whether thematic maps are plot in the graphics device, or shown as an interactive leaflet map (see also <code>tmap_options</code>. The function <code>tmap_mode</code> is a wrapper to set this global option. The convenient function <code>ttm</code>, which stands for toggle thematic map, is a toggle switch between the two modes. The function <code>ttmp</code> stands for toggle thematic map and print last map: it does the same as <code>ttm</code> followed by <code>tmap_last</code>; in order words, it shows the last map in the other mode. It is recommended to use <code>tmap_mode</code> in scripts and <code>ttm</code>/<code>ttmp</code> in the console.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tmap_mode(mode = c("plot", "view"))

ttm()

ttmp()
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>one of
</p>

<dl>
<dt><code>"plot"</code></dt>
<dd>
<p>Thematic maps are shown in the graphics device. This is the default mode, and supports all tmap's features, such as small multiples (see <code>tm_facets</code>) and extensive layout settings (see <code>tm_layout</code>). It is recommended for saving static maps (see <code>tmap_save</code>).</p>
</dd> 
<dt><code>"view"</code></dt>
<dd>
<p>Thematic maps are viewed interactively in the web browser or RStudio's Viewer pane. Maps are fully interactive with tiles from OpenStreetMap or other map providers (see <code>tm_tiles</code>). See also <code>tm_view</code> for options related to the <code>"view"</code> mode. This mode generates a <code>leaflet</code> widget, which can also be directly obtained with <code>tmap_leaflet</code>. With RMarkdown, it is possible to publish it to an HTML page. 
There are a couple of constraints in comparison to <code>"plot"</code>:
</p>

<ul>
<li>
<p> The map is always projected according to the Web Mercator projection. Although this projection is the de facto standard for interactive web-based mapping, it lacks the equal-area property, which is important for many thematic maps, especially choropleths (see examples from <code>tm_shape</code>).
</p>
</li>
<li>
<p> Small multiples are not supported
</p>
</li>
<li>
<p> The legend cannot be made for aesthetics regarding size, which are symbol size and line width.
</p>
</li>
<li>
<p> Text labels are not supported (yet)
</p>
</li>
<li>
<p> The layout options set with <code>tm_layout</code>) regarding map format are not used. However, the styling options still apply.</p>
</li>
</ul>
</dd>
</dl>
</td>
</tr></table>
<h3>Value</h3>

<p>the mode before changing
</p>


<h3>References</h3>

<p>Tennekes, M., 2018, tmap: Thematic Maps in R, Journal of Statistical Software, 84(6), 1-39, <a href="https://doi.org/10.18637/jss.v084.i06">doi:10.18637/jss.v084.i06</a>
</p>


<h3>See Also</h3>

<p><a href="../doc/tmap-getstarted.html"><code>vignette("tmap-getstarted")</code></a>, <code>tmap_last</code> to show the last map, <code>tm_view</code> for viewing options, and <code>tmap_leaflet</code> for obtaining a leaflet widget, and <code>tmap_options</code> for tmap options.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># world choropleth/bubble map of the world
data(World, metro)
metro$growth &lt;- (metro$pop2020 - metro$pop2010) / (metro$pop2010 * 10) * 100

map1 &lt;- tm_shape(World) +
	tm_polygons("income_grp", palette="-Blues", contrast=.7, id="name", title="Income group") +
	tm_shape(metro) +
	tm_bubbles("pop2010", col = "growth", 
		border.col = "black", border.alpha = .5, 
		style="fixed", breaks=c(-Inf, seq(0, 6, by=2), Inf),
		palette="-RdYlBu", contrast=1, 
		title.size="Metro population", 
		title.col="Growth rate (%)", id="name",
		popup.vars = c("pop2010", "pop2020", "growth")) + 
	tm_layout(legend.bg.color = "grey90", legend.bg.alpha=.5, legend.frame=TRUE)

# initial mode: "plot"
current.mode &lt;- tmap_mode("plot")

# plot map
map1

# switch to other mode: "view"
ttm()

# view map
map1

## Not run: 
# choropleth of the Dutch population in interactive mode:
require(tmaptools)
data(NLD_muni, NLD_prov)
NLD_muni$pop_dens &lt;- calc_densities(NLD_muni, var = "population")

tm_shape(NLD_muni) +
	tm_fill(col="pop_dens", 
		style="kmeans", 
		title = "Population (per km^2)", id = "name") +
	tm_borders("grey25", alpha=.5) + 
	tm_shape(NLD_prov) +
	tm_borders("grey40", lwd=2)

## End(Not run)

# restore current mode
tmap_mode(current.mode)
</code></pre>


</div>