<div class="container">

<table style="width: 100%;"><tr>
<td>tidyRF</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tidy Random Forest</h2>

<h3>Description</h3>

<p>Converts random forest objects from various libraries into a common
structure, i.e. a “tidy” random forest, calculating absent auxiliary
information on demand, in order to provide a uniform interface for other
<code>tree.interpreter</code> functions. Note that the output is of a private
format, and is subject to change.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tidyRF(rfobj, trainX, trainY)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rfobj</code></td>
<td>
<p>A random forest object. Currently, supported libraries include
<code>randomForest</code> and <code>ranger</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trainX</code></td>
<td>
<p>A data frame. Train set features.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trainY</code></td>
<td>
<p>A data frame. Train set responses.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of class <code>tidyRF</code>, with entries:
</p>

<dl>
<dt><code>num.trees</code></dt>
<dd>
<p>An integer. Number of trees.</p>
</dd>
<dt><code>feature.names</code></dt>
<dd>
<p>A vector. Names of features.</p>
</dd>
<dt><code>num.classes</code></dt>
<dd>
<p>An integer. For classification trees, number
of classes of the response. For regression trees, this field will
always be 1.</p>
</dd>
<dt><code>class.names</code></dt>
<dd>
<p>A vector. Names of response classes.</p>
</dd>
<dt><code>inbag.counts</code></dt>
<dd>
<p>A list. For each tree, a vector of the number
of times the observations are in-bag in the trees.</p>
</dd>
<dt><code>left.children</code></dt>
<dd>
<p>A list. For each tree, a vector of the left
children of its nodes.</p>
</dd>
<dt><code>right.children</code></dt>
<dd>
<p>A list. For each tree, a vector of the
right children of its nodes.</p>
</dd>
<dt><code>split.features</code></dt>
<dd>
<p>A list. For each tree, a vector of the
indices of features used at its nodes. Indices start from 0. A value
of 0 means the node is terminal. This does not cause ambiguity,
because the root node will never be a child of other nodes.</p>
</dd>
<dt><code>split.values</code></dt>
<dd>
<p>A list. For each tree, a vector of the
values of features used at its nodes.</p>
</dd>
<dt><code>node.sizes</code></dt>
<dd>
<p>A list. For each tree, a vector of the sizes
of its nodes.</p>
</dd>
<dt><code>node.resp</code></dt>
<dd>
<p>A list. For each tree, a vector of the responses
of its nodes.</p>
</dd>
<dt><code>delta.node.resp.left</code></dt>
<dd>
<p>A list. For each tree, a vector of
the difference between the responses of the left children of its nodes
and themselves.</p>
</dd>
<dt><code>delta.node.resp.right</code></dt>
<dd>
<p>A list. For each tree, a vector of
the difference between the responses of the right children of its
nodes and themselves.</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">library(ranger)
rfobj &lt;- ranger(Species ~ ., iris, keep.inbag=TRUE)
tidy.RF &lt;- tidyRF(rfobj, iris[, -5], iris[, 5])
str(tidy.RF, max.level=1)

</code></pre>


</div>