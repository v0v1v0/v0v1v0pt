<div class="container">

<table style="width: 100%;"><tr>
<td>teal_slices</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter settings for <code>teal</code> applications</h2>

<h3>Description</h3>

<p>Specify initial filter states and filtering settings for a <code>teal</code> app.
</p>


<h3>Usage</h3>

<pre><code class="language-R">teal_slices(
  ...,
  exclude_varnames = NULL,
  include_varnames = NULL,
  count_type = NULL,
  allow_add = TRUE,
  module_specific = FALSE,
  mapping,
  app_id = NULL
)

as.teal_slices(x)

## S3 method for class 'teal_slices'
c(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>any number of <code>teal_slice</code> objects. For <code>print</code> and <code>format</code>,
additional arguments passed to other functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_varnames, exclude_varnames</code></td>
<td>
<p>(<code style="white-space: pre;">⁠named list⁠</code>s of <code>character</code>) where list names
match names of data sets and vector elements match variable names in respective data sets;
specify which variables are allowed to be filtered; see <code>Details</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>count_type</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
<em>This is a new feature. Do kindly share your opinions on
<a href="https://github.com/insightsengineering/teal.slice/"><code>teal.slice</code>'s GitHub repository</a>.</em>
</p>
<p>(<code>character(1)</code>) string specifying how observations are tallied by these filter states.
Possible options:
</p>

<ul>
<li> <p><code>"none"</code> (default) to have counts of single <code>FilterState</code> to show unfiltered number only.
</p>
</li>
<li> <p><code>"all"</code> to have counts of single <code>FilterState</code> to show number of observation in filtered
and unfiltered dataset. Note, that issues were reported when using this option with <code>MultiAssayExperiment</code>.
Please make sure that adding new filters doesn't fail on target platform before deploying for production.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_add</code></td>
<td>
<p>(<code>logical(1)</code>) logical flag specifying whether the user will be able to add new filters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>module_specific</code></td>
<td>
<p>optional (<code>logical(1)</code>)
</p>

<ul>
<li> <p><code>FALSE</code> (default) when one filter panel applied to all modules.
All filters will be shared by all modules.
</p>
</li>
<li> <p><code>TRUE</code> when filter panel module-specific.
Modules can have different set of filters specified - see <code>mapping</code> argument.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapping</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
<em>This is a new feature. Do kindly share your opinions on
<a href="https://github.com/insightsengineering/teal/"><code>teal</code>'s GitHub repository</a>.</em>
</p>
<p>(named <code>list</code>) specifies which filters will be active in which modules on app start.
Elements should contain character vector of <code>teal_slice</code> <code>id</code>s (see <code>teal.slice::teal_slice</code>).
Names of the list should correspond to <code>teal_module</code> <code>label</code> set in <code>module()</code> function.
</p>

<ul>
<li> <p><code>id</code>s listed under <code style="white-space: pre;">⁠"global_filters⁠</code> will be active in all modules.
</p>
</li>
<li>
<p> If missing, all filters will be applied to all modules.
</p>
</li>
<li>
<p> If empty list, all filters will be available to all modules but will start inactive.
</p>
</li>
<li>
<p> If <code>module_specific</code> is <code>FALSE</code>, only <code>global_filters</code> will be active on start.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>app_id</code></td>
<td>
<p>(<code>character(1)</code>)
For internal use only, do not set manually.
Added by <code>init</code> so that a <code>teal_slices</code> can be matched to the app in which it was used.
Used for verifying snapshots uploaded from file. See <code>snapshot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(<code>list</code>) of lists to convert to <code>teal_slices</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Produces a <code>teal_slices</code> object.
The <code>teal_slice</code> components will specify filter states that will be active when the app starts.
Attributes (created with the named arguments) will configure the way the app applies filters.
See argument descriptions for details.
</p>


<h3>Value</h3>

<p>A <code>teal_slices</code> object.
</p>


<h3>See Also</h3>

<p><code>teal.slice::teal_slices</code>, <code>teal.slice::teal_slice</code>, <code>slices_store()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">filter &lt;- teal_slices(
  teal_slice(dataname = "iris", varname = "Species", id = "species"),
  teal_slice(dataname = "iris", varname = "Sepal.Length", id = "sepal_length"),
  teal_slice(
    dataname = "iris", id = "long_petals", title = "Long petals", expr = "Petal.Length &gt; 5"
  ),
  teal_slice(dataname = "mtcars", varname = "mpg", id = "mtcars_mpg"),
  mapping = list(
    module1 = c("species", "sepal_length"),
    module2 = c("mtcars_mpg"),
    global_filters = "long_petals"
  )
)

app &lt;- init(
  data = teal_data(iris = iris, mtcars = mtcars),
  modules = list(
    module("module1"),
    module("module2")
  ),
  filter = filter
)

if (interactive()) {
  shinyApp(app$ui, app$server)
}

</code></pre>


</div>