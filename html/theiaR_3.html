<div class="container">

<table style="width: 100%;"><tr>
<td>TheiaQuery</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A query to the Theia website</h2>

<h3>Description</h3>

<p>Generate an send a query to Theia web API to get and download tiles based on
input given by the user.
</p>


<h3>Usage</h3>

<pre>
   q &lt;- TheiaQuery$new(query)

   q$update_token()
   q$submit()
</pre>


<h3>Arguments</h3>


<dl>
<dt>q:</dt>
<dd>
<p>A <code>TheiaQuery</code> object</p>
</dd>
<dt>query:</dt>
<dd>
<p><code>list</code>, the users' request, see 'Queries' for
more informations</p>
</dd>
</dl>
<h3>Details</h3>

<p><code>TheiaQuery$new()</code> Create a new instance of the class, parse 'query'
list and submit the query to Theia to retrieve files catalog
</p>
<p><code>q$submit()</code> Submit the query to Theia and get a list of tiles
corresponding to search criteria
</p>


<h3>Queries</h3>

<p>Search criteria are given with a 'list' accepting these fields:
</p>

<ul>
<li>
<p>collection: The collection to look for. Accepted values are:
'SENTINEL2', 'LANDSAT', 'Landsat57', 'SpotWorldHeritage', 'Snow'.
Defaults to 'SENTINEL2'
</p>
</li>
<li>
<p>platform: The platform to look for. Accepted values are:
'LANDSAT5', 'LANDSAT7', 'LANDSAT8', 'SPOT1', 'SPOT2', 'SPOT3',
'SPOT4', 'SPOT5', 'SENTINEL2A', 'SENTINEL2B'
</p>
</li>
<li>
<p>level: Processing level. Accepted values are: 'LEVEL1C',
'LEVEL2A', LEVEL3A', 'N2A'. Defaults to 'LEVEL2A' (or 'N2A' if
querying Landsat57 collection).
</p>
</li>
<li>
<p>town: The location to look for. Give a common town name.
</p>
</li>
<li>
<p>tile: The tile identifier to retrieve.
</p>
</li>
<li>
<p>start.date: The first date to look for (format: YYYY-MM-DD).
</p>
</li>
<li>
<p>end.date: The last date to look for (format: YYYY-MM-DD). Must be
after start.date. Defaults to today's date.
</p>
</li>
<li>
<p>latitude: The x coordinate of a point
</p>
</li>
<li>
<p>longitude: The y coordinate of a point
</p>
</li>
<li>
<p>latmin: The minimum latitude to search
</p>
</li>
<li>
<p>latmax: The maximum latitude to search
</p>
</li>
<li>
<p>lonmin: The minimum longitude to search
</p>
</li>
<li>
<p>lonmax: The maximum longitude to search
</p>
</li>
<li>
<p>orbit.number: The orbit number
</p>
</li>
<li>
<p>rel.orbit.number: The relative orbit number
</p>
</li>
<li>
<p>max.clouds: The maximum of cloud cover wanted (0-100)
</p>
</li>
<li>
<p>max.records: The maximum of tiles to search
</p>
</li>
</ul>
<h3>See Also</h3>

<p><a href="https://github.com/olivierhagolle/theia_download">https://github.com/olivierhagolle/theia_download</a> for an alternative
download method based on Python. Inspiration for this function.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# Create a query to Theia database, looking for tiles from Sentinel2
# satellite around Grenoble, between 2018-07-01 and 2018-07-06.

query &lt;- list(collection = "SENTINEL2",
              town       = "Grenoble",
              start.date = "2018-07-01",
              end.date   = "2018-07-06")
q &lt;- TheiaQuery$new(query)

# Show informations on found tiles
print(q$tiles)


</code></pre>


</div>