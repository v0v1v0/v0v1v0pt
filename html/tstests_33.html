<div class="container">

<table style="width: 100%;"><tr>
<td>shortfall_de_test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Expected Shortfall DE Test</h2>

<h3>Description</h3>

<p>The expected shortfall test of Du and Escanciano (2017).
</p>


<h3>Usage</h3>

<pre><code class="language-R">shortfall_de_test(x, alpha = 0.05, lags = 1, boot = FALSE, n_boot = 2000, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the probability integral transformed series (pit).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>the quantile level for calculating the forecast value at risk
and expected shortfall.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lags</code></td>
<td>
<p>the numbers of lags to use for the conditional test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot</code></td>
<td>
<p>whether to use bootstrap simulation for estimating the p-values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_boot</code></td>
<td>
<p>the bootstrap replications used to calculate the p-value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not currently used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The test of Du and Escanciano (2017) combines ideas from
Berkowitz (2001) and Christoffersen (1998) to create an unconditional
and conditional shortfall test based on the probability integral transformed
actuals conditioned on the forecast distribution to evaluate the severity
and independence of the residuals shortfall (based on violations of VaR).
The unconditional test (severity) checks for the mean of cumulative violations using
a t-test, whilst the conditional test (independence) is a Portmanteau test applied to
estimated cumulative violations. A bootstrap approach to calculating the
distribution of the test statistics is available for finite samples, similar
to the suggestions of McNeil (2000).
</p>


<h3>Value</h3>

<p>An object of class “tstest.shortfall_de” which has a print and
as_flextable method.
</p>


<h3>References</h3>

<p>Du Z, Escanciano JC (2017).
“Backtesting expected shortfall: accounting for tail risk.”
<em>Management Science</em>, <b>63</b>(4), 940–958.
</p>
<p>Berkowitz J (2001).
“Testing density forecasts, with applications to risk management.”
<em>Journal of Business &amp; Economic Statistics</em>, <b>19</b>(4), 465–474.
</p>
<p>Christoffersen PF (1998).
“Evaluating interval forecasts.”
<em>International Economic Review</em>, 841–862.
</p>
<p>McNeil,A.J., Frey,R. (2000).
“Estimation of tail-related risk measures for heteroscedastic financial time series: An extreme value approach.”
<em>Journal of Empirical Finance</em>, <b>7</b>(3-4), 271–300.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(tsdistributions)
data("garch_forecast")
x &lt;- pdist("jsu", q = garch_forecast$actual, mu = garch_forecast$forecast,
sigma = garch_forecast$sigma, skew = garch_forecast$skew,
shape = garch_forecast$shape)
print(shortfall_de_test(x, alpha = 0.05, lags = 4))

</code></pre>


</div>