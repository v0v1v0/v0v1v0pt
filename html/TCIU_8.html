<div class="container">

<table style="width: 100%;"><tr>
<td>fmri_pval_comparison_3d</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>comparison between 3d visualization for p-values</h2>

<h3>Description</h3>

<p>a visualization method, use <code>plotly</code> to compare 
the activated parts inside the brain, using two sets of color palettes. 
The activated parts are localized with different p values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fmri_pval_comparison_3d(
  pval_3d_ls,
  mask,
  p_threshold,
  method_ls,
  color_pal_ls = list("YlOrRd", "YlGnBu"),
  multi_pranges = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pval_3d_ls</code></td>
<td>
<p>a list of two element, each element is a 3D array of p-values used to plot activated area of the brain</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mask</code></td>
<td>
<p>a 3D nifti or 3D array of data to show the shell of the brain</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_threshold</code></td>
<td>
<p>NULL or a numeric value that can be selected randomly below 0.05 to 
drop insignificant p-values of no need or drop no p-values. If 'low5_percent' method is used, 
make 'p_threshold' as NULL. The default is 0.05.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method_ls</code></td>
<td>
<p>a string that represents method for the plot. 
There are 2 options: 'scale_p' and 'low5_percent'. The default is 'scale_p'. 
'scale_p' is to draw the plot with fixed color scale for fixed range of p value; 
'low5_percent' is to draw the plot for the smallest 5 percent of p value 
when all the p values are not significant</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_pal_ls</code></td>
<td>
<p>a list of two element. Each element is the name of 
the color palettes provided by <code>RColorBrewer</code>. The default is list('YlOrRd', 'YlGnBu').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multi_pranges</code></td>
<td>
<p>an option under 'scale_p' method to decide whether there are at most 9 colors 
in the legend for the ranges of p value, or at most 4 colors. 
The default is TRUE, choosing the larger number of colors for the plot.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>fmri_pval_comparison_3d</code> is used to visualize and compare the 3D plots of 
the activated parts in one brain shell. The activated parts are plotted 
based on p-values provided. Note that this comparison can only be made when the masks 
of the two p values are the same. When providing input of two set of the 3D array of p-values, 
corresponding p threshold for each p value data, and the method to draw the plot, 
the plot will be generated with one brain shell and two groups of activated parts 
in two sets of color palettes. The size and color of the scatter points represent 
different stimulated levels of the activated parts.
</p>


<h3>Value</h3>

<p>a plot drawn by <code>plotly</code>
</p>


<h3>Author(s)</h3>

<p>SOCR team &lt;<a href="http://socr.umich.edu/people/">http://socr.umich.edu/people/</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R"># sample 3D data of mask provided by the package
dim(mask)
# sample 3D p value provided by the package
dim(phase2_pval)
dim(phase3_pval)

fmri_pval_comparison_3d(list(phase2_pval, phase3_pval), mask, 
                        list(0.05, 0.05), list('scale_p', 'scale_p'), multi_pranges=FALSE)
</code></pre>


</div>