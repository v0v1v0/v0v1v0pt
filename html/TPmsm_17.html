<div class="container">

<table style="width: 100%;"><tr>
<td>setThreadsTP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set the number of threads</h2>

<h3>Description</h3>

<p>Specifies the number of threads used by default in parallel sections.
</p>


<h3>Usage</h3>

<pre><code class="language-R">setThreadsTP(num_threads=NULL)</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>num_threads</code></td>
<td>
<p>the number of threads to use.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>If <code>num_threads</code> is greater than the number of processors/cores
then the number of processors/cores is used. If package <span class="pkg">TPmsm</span>
was compiled without OpenMP support then this function returns <code>1</code>
regardless of the number of processors/cores available.
If <code>num_threads=NULL</code> the number of threads is not defined.
This is useful when the current number of threads is desired
without defining a new thread number.
</p>


<h3>Value</h3>

<p>Invisibly returns the previous number of threads.</p>


<h3>Note</h3>

<p>The given thread number is stored in a global variable. This global variable
is then passed to the num_threads clause defined on all parallel sections of
underlying C code. By specifying the number of threads in this way instead of
specifying with a call to omp_set_num_threads we are certain that there is
no interference with the R process. Every time this function is called the
RNG streams are recreated. For more details see <code>setPackageSeedTP</code>.
</p>


<h3>Author(s)</h3>

<p>Artur Araújo, Javier Roca-Pardiñas and Luís Meira-Machado</p>


<h3>References</h3>

<p>Araújo A, Meira-Machado L, Roca-Pardiñas J (2014). TPmsm: Estimation of the Transition Probabilities in
3-State Models. <em>Journal of Statistical Software</em>, <b>62</b>(4), 1-29. <a href="https://doi.org/10.18637/jss.v062.i04">doi:10.18637/jss.v062.i04</a>
</p>
<p>OpenMP Architecture Review Board, OpenMP Application Program Interface Version 3.0, May 2008, p110. <a href="https://www.openmp.org/wp-content/uploads/spec30.pdf">https://www.openmp.org/wp-content/uploads/spec30.pdf</a>
</p>
<p>“Runtime Library Routines”, Summary of OpenMP 3.0 C/C++ Syntax, p5. <a href="https://www.openmp.org/wp-content/uploads/OpenMP3.0-SummarySpec.pdf">https://www.openmp.org/wp-content/uploads/OpenMP3.0-SummarySpec.pdf</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Set the number of threads
nth &lt;- setThreadsTP(2);

# Restore the number of threads
setThreadsTP(nth);
</code></pre>


</div>