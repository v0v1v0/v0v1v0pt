<div class="container">

<table style="width: 100%;"><tr>
<td>trm_tailcall</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Flag a tail call</h2>

<h3>Description</h3>

<p>If you can specify your recursive function such that the
recursive call is in 'tail position' (that is, the very
last operation in your function), you can take advantage
of tail call optimization. Just wrap your recursive call
in <code>trm_tailcall()</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">trm_tailcall(x)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A recursive call within generator fed to <code>trampoline()</code></p>
</td>
</tr></table>
<h3>Value</h3>

<p><code>x</code> with added class attribute 'trampoline_tailcall'
</p>


<h3>Examples</h3>

<pre><code class="language-R">trampoline(factorial(13),
           factorial = function(n, x = 1) {
             force(x) ## necessary thanks to R's lazy evaluation
             if(n &lt;= 1) {
               return(trm_return(x))
             }
             val &lt;- trm_tailcall(factorial(n - 1, x * n))
             return(val)
           })
</code></pre>


</div>