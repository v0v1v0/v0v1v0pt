<div class="container">

<table style="width: 100%;"><tr>
<td>plotly_regtol</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Plotting Tolerance Intervals for Regressions
</h2>

<h3>Description</h3>

<p>Provides interactive tolerance intervals for regression data. More specifically, <code>plotly_regtol</code> presents tolerance bounds for linear regression, nonlinear regression, and nonparametric regression models. In addtion, this updated function is capable of showing tolerance plane for trivariate regression models. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotly_regtol(tol.out,
              x,
              new.x = NULL,
              y,
              side = c("two","upper", "lower"),
              rect = FALSE,
              smooth = 4,
              x.lab = NULL,
              x.lab.size = NULL,
              y.lab = NULL,
              y.lab.size = NULL,
              z.lab = NULL,
              z.lab.size = NULL,
              x.tick.size = NULL,
              y.tick.size = NULL,
              z.tick.size = NULL,
              x.col = NULL,
              x.cex = NULL,
              fit.col = NULL,
              fit.lwd = NULL,
              fit.line.type = c("dash","dot","dashdot","solid"),
              fit.opacity = NULL,
              tol.col = NULL,
              tol.lwd = NULL,
              tol.line.type = c("dash","dot","dashdot","solid"),
              tol.opacity = NULL,
              title.position.x = NULL,
              title.position.y = NULL,
              title = NULL,
              title.size = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tol.out</code></td>
<td>
<p>Output from <code>regtol.int</code>, <code>nlregtol.int</code>, <code>npregtol.int</code> or <code>mvregtol.region</code> for regressional data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Data frame for explanatory variables. If there are more than one explanatory variables, columns of <code>x</code> represents regressors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new.x</code></td>
<td>
<p>An optional data frame in which to look for variables with which to predict. <code>new.x</code> can be used to plot linear regression, nonlinear regression, and multivariate linear regression. <code>new.x</code> has to be a subset of new data in the original output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Data frame for response variable. <code>y</code> is in the formate of a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>side</code></td>
<td>
<p><code>side = "two"</code> produces plots for either the two-sided tolerance intervals or both one-sided tolerance intervals. This will be determined by the output in <code>tol.out</code>. <code>side = "upper"</code> produces plots showing the upper tolerance bounds.  <code>side = "lower"</code> produces plots showing the lower tolerance bounds. Note that if the output of in <code>tol.out</code> shows 2-sided tolerance intervals, <code>side = "upper"</code> and <code>side = "lower"</code> still shows both upper AND lower tolerance intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rect</code></td>
<td>
<p>This argument is used for plotting tolerance plane(s) of multivariate regression region. When <code>rect=TRUE</code> the x1-x2 plane is a rectangle. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>The smooth parameter for the x1-x2 plane when <code>rect=TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.lab</code></td>
<td>
<p>Label of the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.lab.size</code></td>
<td>
<p>Size of label of the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.lab</code></td>
<td>
<p>Label of the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.lab.size</code></td>
<td>
<p>Size of label of the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z.lab</code></td>
<td>
<p>Label of the z-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z.lab.size</code></td>
<td>
<p>Size of label of the z-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.tick.size</code></td>
<td>
<p>Size of tick marks on the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.tick.size</code></td>
<td>
<p>Size of tick marks on the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z.tick.size</code></td>
<td>
<p>Size of tick marks on the z-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.col</code></td>
<td>
<p>Color of original data points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.cex</code></td>
<td>
<p>Size of original data points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.col</code></td>
<td>
<p>Color of fitted line or fitted plane.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.lwd</code></td>
<td>
<p>Width of fitted line or fitted plane.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.line.type</code></td>
<td>
<p>Type of fitted line or fitted plane.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.opacity</code></td>
<td>
<p>Opacity of fitted line or fitted plane.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol.col</code></td>
<td>
<p>Color of tolerance intervals or tolerance plane.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol.lwd</code></td>
<td>
<p>Width of tolerance intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol.line.type</code></td>
<td>
<p>Line type of tolerance intervals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol.opacity</code></td>
<td>
<p>Opacity of tolerance region.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title.position.x</code></td>
<td>
<p>Horizontal position of the title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title.position.y</code></td>
<td>
<p>Vertical position of the title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>The main title on top of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title.size</code></td>
<td>
<p>Size of the title.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>plotly_regtol</code> returns tolerance intervals for linear regression, nonlinear regression, nonparametric regression, as well as tolerance planes for multivariate (multiple) linear regression models.
</p>


<h3>References</h3>

<p>Montgomery, D. C. (2005), Introduction to Statistical Quality Control, Fifth Edition, <em>John Wiley &amp; Sons, Inc</em>.
</p>


<h3>See Also</h3>

<p><code>plottol</code>, <code>regtol.int</code>, <code>regtol.int</code>, <code>nlregtol.int</code>,
<code>npregtol.int</code>, <code>npregtol.int</code>,<code>mvregtol.region</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## 95%/95% 1-sided linear regression tolerance bounds
## for a sample of size 100.

library(plotly)

set.seed(100)
x &lt;- runif(100, 0, 10)
y &lt;- 20 + 5*x + rnorm(100, 0, 3)
out1 &lt;- regtol.int(reg = lm(y ~ x), new.x = c(3,6,20), new=TRUE ,
                    side = 1, alpha = 0.05, P = 0.95)
plotly_regtol(tol.out = out1 , x=x , y=y , new.x = c(6,20), side = "two" ,
                   fit.line.type = "dash" , tol.line.type = "solid")
########################
set.seed(100)
x1 &lt;- runif(100, 0, 10)
x2 &lt;- rpois(100 , 5)
y &lt;- 20 + 5*x1 + 3*x2 + rnorm(100, 0, 3)
x1.new &lt;- runif(10 , 0 , 10)
x2.new &lt;- rpois(10 , 5)
out2 &lt;- regtol.int(reg = lm(y ~ x1 + x2), new.x = cbind(x1.new , x2.new), new=TRUE,
                    side = 1, alpha = 0.05, P = 0.95)
plotly_regtol(tol.out = out2 , y=y , x=cbind(x1,x2) , new.x = cbind(x1.new , x2.new) , 
                   rect = TRUE , side = "two")
###########################
## 95%/95% 2-sided nonlinear regression tolerance bounds
## for a sample of size 50.
set.seed(100)
x &lt;- runif(50, 5, 45)
f1 &lt;- function(x, b1, b2) b1 + (0.49 - b1)*exp(-b2*(x - 8)) +
  rnorm(50, sd = 0.01)
y &lt;- f1(x, 0.39, 0.11)
formula &lt;- as.formula(y ~ b1 + (0.49 - b1)*exp(-b2*(x - 8)))
out1 &lt;- nlregtol.int(formula = formula,
                      xy.data = data.frame(cbind(y, x)),
                      x.new=c(10,20,50), side = 2,
                      alpha = 0.05, P = 0.95 , new = TRUE)
plotly_regtol(tol.out = out1 , x=x , y=y , new.x = c(20,50) , side = "two",
                   fit.line.type = "dot")
###############

## 95%/95% 1-sided nonparametric regression tolerance bounds
## for a sample of size 50.
set.seed(100)
x &lt;- runif(50, 5, 45)
f1 &lt;- function(x, b1, b2) b1 + (0.49 - b1)*exp(-b2*(x - 8)) + rnorm(50, sd = 0.01)
y &lt;- f1(x, 0.39, 0.11)
y.hat &lt;- loess(y~x)$fit
out1 &lt;- npregtol.int(x = x, y = y, y.hat = y.hat, side = 1,
                      alpha = 0.05, P = 0.95, method = "WILKS" , new = TRUE)
plotly_regtol(tol.out = out1 , x=x , y=y , side = "two" , fit.line.type = "dash")
############
set.seed(100)
x1 &lt;- runif(50, 5, 45)
x2 &lt;- rnorm(50 , 0 , 1)
f1 &lt;- function(x1 , x2 , b1, b2) {b1 + (0.49 - b1)*exp(-b2*(x1 + x2 - 8)) + rnorm(50, sd = 0.01)}
y &lt;- f1(x1 , x2 , 0.39, 0.11)
y.hat &lt;- loess(y~ x1 + x2)$fit
out2 &lt;- npregtol.int(x = cbind(x1 , x2), y = y, y.hat = y.hat, side = 1,
                      alpha = 0.05, P = 0.95, method = "WILKS" , new = TRUE)
plotly_regtol(tol.out = out2 , y=y , x=cbind(x1,x2) , 
                   rect = TRUE , smooth = 100 ,  side = "two")
</code></pre>


</div>