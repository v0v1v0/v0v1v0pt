<div class="container">

<table style="width: 100%;"><tr>
<td>tib_unspecified</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a Field Specification</h2>

<h3>Description</h3>

<p>Use these functions to specify how to convert the fields of an object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tib_unspecified(key, ..., required = TRUE)

tib_scalar(
  key,
  ptype,
  ...,
  required = TRUE,
  fill = NULL,
  ptype_inner = ptype,
  transform = NULL
)

tib_lgl(
  key,
  ...,
  required = TRUE,
  fill = NULL,
  ptype_inner = logical(),
  transform = NULL
)

tib_int(
  key,
  ...,
  required = TRUE,
  fill = NULL,
  ptype_inner = integer(),
  transform = NULL
)

tib_dbl(
  key,
  ...,
  required = TRUE,
  fill = NULL,
  ptype_inner = double(),
  transform = NULL
)

tib_chr(
  key,
  ...,
  required = TRUE,
  fill = NULL,
  ptype_inner = character(),
  transform = NULL
)

tib_date(
  key,
  ...,
  required = TRUE,
  fill = NULL,
  ptype_inner = vctrs::new_date(),
  transform = NULL
)

tib_chr_date(key, ..., required = TRUE, fill = NULL, format = "%Y-%m-%d")

tib_vector(
  key,
  ptype,
  ...,
  required = TRUE,
  fill = NULL,
  ptype_inner = ptype,
  transform = NULL,
  elt_transform = NULL,
  input_form = c("vector", "scalar_list", "object"),
  values_to = NULL,
  names_to = NULL
)

tib_lgl_vec(
  key,
  ...,
  required = TRUE,
  fill = NULL,
  ptype_inner = logical(),
  transform = NULL,
  elt_transform = NULL,
  input_form = c("vector", "scalar_list", "object"),
  values_to = NULL,
  names_to = NULL
)

tib_int_vec(
  key,
  ...,
  required = TRUE,
  fill = NULL,
  ptype_inner = integer(),
  transform = NULL,
  elt_transform = NULL,
  input_form = c("vector", "scalar_list", "object"),
  values_to = NULL,
  names_to = NULL
)

tib_dbl_vec(
  key,
  ...,
  required = TRUE,
  fill = NULL,
  ptype_inner = double(),
  transform = NULL,
  elt_transform = NULL,
  input_form = c("vector", "scalar_list", "object"),
  values_to = NULL,
  names_to = NULL
)

tib_chr_vec(
  key,
  ...,
  required = TRUE,
  fill = NULL,
  ptype_inner = character(),
  transform = NULL,
  elt_transform = NULL,
  input_form = c("vector", "scalar_list", "object"),
  values_to = NULL,
  names_to = NULL
)

tib_date_vec(
  key,
  ...,
  required = TRUE,
  fill = NULL,
  ptype_inner = vctrs::new_date(),
  transform = NULL,
  elt_transform = NULL,
  input_form = c("vector", "scalar_list", "object"),
  values_to = NULL,
  names_to = NULL
)

tib_chr_date_vec(
  key,
  ...,
  required = TRUE,
  fill = NULL,
  input_form = c("vector", "scalar_list", "object"),
  values_to = NULL,
  names_to = NULL,
  format = "%Y-%m-%d"
)

tib_variant(
  key,
  ...,
  required = TRUE,
  fill = NULL,
  transform = NULL,
  elt_transform = NULL
)

tib_recursive(.key, ..., .children, .children_to = .children, .required = TRUE)

tib_row(.key, ..., .required = TRUE)

tib_df(.key, ..., .required = TRUE, .names_to = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>key, .key</code></td>
<td>
<p>The path to the field in the object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>required, .required</code></td>
<td>
<p>Throw an error if the field does not exist?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptype</code></td>
<td>
<p>A prototype of the desired output type of the field.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>Optionally, a value to use if the field does not exist.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptype_inner</code></td>
<td>
<p>A prototype of the field.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform</code></td>
<td>
<p>A function to apply to the whole vector after casting to
<code>ptype_inner</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>Optional, a string passed to the <code>format</code> argument of <code>as.Date()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>elt_transform</code></td>
<td>
<p>A function to apply to each element before casting
to <code>ptype_inner</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input_form</code></td>
<td>
<p>A string that describes what structure the field has. Can
be one of:
</p>

<ul>
<li> <p><code>"vector"</code>: The field is a vector, e.g. <code>c(1, 2, 3)</code>.
</p>
</li>
<li> <p><code>"scalar_list"</code>: The field is a list of scalars, e.g. <code>list(1, 2, 3)</code>.
</p>
</li>
<li> <p><code>"object"</code>: The field is a named list of scalars, e.g. <code>list(a = 1, b = 2, c = 3)</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values_to</code></td>
<td>
<p>Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code>: the default. The field is converted to a <code>ptype</code> vector.
</p>
</li>
<li>
<p> A string: The field is converted to a tibble and the values go into the
specified column.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names_to</code></td>
<td>
<p>Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code>: the default. The inner names of the field are not used.
</p>
</li>
<li>
<p> A string: This can only be used if 1) for the input form is <code>"object"</code>
or <code>"vector"</code> and 2) <code>values_to</code> is a string. The inner names of the
field go into the specified column.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.children</code></td>
<td>
<p>A string giving the name of field that contains the children.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.children_to</code></td>
<td>
<p>A string giving the column name to store the children.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.names_to</code></td>
<td>
<p>A string giving the name of the column which will contain
the names of elements of the object list. If <code>NULL</code>, the default, no name
column is created</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>There are basically five different <code style="white-space: pre;">⁠tib_*()⁠</code> functions
</p>

<ul>
<li> <p><code>tib_scalar(ptype)</code>: Cast the field to a length one vector of type <code>ptype</code>.
</p>
</li>
<li> <p><code>tib_vector(ptype)</code>: Cast the field to an arbitrary length vector of type <code>ptype</code>.
</p>
</li>
<li> <p><code>tib_variant()</code>: Cast the field to a list.
</p>
</li>
<li> <p><code>tib_row()</code>: Cast the field to a named list.
</p>
</li>
<li> <p><code>tib_df()</code>: Cast the field to a tibble.
</p>
</li>
</ul>
<p>There are some special shortcuts of <code>tib_scalar()</code> resp. <code>tib_vector()</code> for
the most common prototypes
</p>

<ul>
<li> <p><code>logical()</code>: <code>tib_lgl()</code> resp. <code>tib_lgl_vec()</code>
</p>
</li>
<li> <p><code>integer()</code>: <code>tib_int()</code> resp. <code>tib_int_vec()</code>
</p>
</li>
<li> <p><code>double()</code>: <code>tib_dbl()</code> resp. <code>tib_dbl_vec()</code>
</p>
</li>
<li> <p><code>character()</code>: <code>tib_chr()</code> resp. <code>tib_chr_vec()</code>
</p>
</li>
<li> <p><code>Date</code>: <code>tib_date()</code> resp. <code>tib_date_vec()</code>
</p>
</li>
</ul>
<p>Further, there is also a special shortcut for dates encoded as character:
<code>tib_chr_date()</code> resp. <code>tib_chr_date_vec()</code>.
</p>


<h3>Value</h3>

<p>A tibblify field collector.
</p>


<h3>Examples</h3>

<pre><code class="language-R">tib_int("int")
tib_int("int", required = FALSE, fill = 0)

tib_scalar("date", Sys.Date(), transform = function(x) as.Date(x, format = "%Y-%m-%d"))

tib_df(
  "data",
  .names_to = "id",
  age = tib_int("age"),
  name = tib_chr("name")
)
</code></pre>


</div>