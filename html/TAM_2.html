<div class="container">

<table style="width: 100%;"><tr>
<td>designMatrices</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generation of Design Matrices
</h2>

<h3>Description</h3>

<p>Generate design matrices, and display them at console.
</p>


<h3>Usage</h3>

<pre><code class="language-R">designMatrices(modeltype=c("PCM", "RSM"), maxKi=NULL, resp=resp,
    ndim=1, A=NULL, B=NULL, Q=NULL, R=NULL, constraint="cases",...)

## S3 method for class 'designMatrices'
print(x, ...)

designMatrices.mfr(resp, formulaA=~ item + item:step, facets=NULL,
    constraint=c("cases", "items"), ndim=1, Q=NULL, A=NULL, B=NULL,
    progress=FALSE)
designMatrices.mfr2(resp, formulaA=~ item + item:step, facets=NULL,
    constraint=c("cases", "items"), ndim=1, Q=NULL, A=NULL, B=NULL,
    progress=FALSE)

.A.matrix(resp, formulaA=~ item + item*step, facets=NULL,
    constraint=c("cases", "items"), progress=FALSE, maxKi=NULL)
rownames.design(X)

.A.PCM2( resp, Kitem=NULL, constraint="cases", Q=NULL)
   # generates ConQuest parametrization of partial credit model

.A.PCM3( resp, Kitem=NULL ) # parametrization for A matrix in the dispersion model
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>modeltype</code></td>
<td>

<p>Type of item response model. Until now, the
partial credit model (<code>PCM</code>; <code>'item+item*step'</code>) and
the rating scale model (<code>RSM</code>; <code>'item+step'</code>) is implemented.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxKi</code></td>
<td>

<p>A vector containing the maximum score per item
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resp</code></td>
<td>

<p>Data frame of item responses
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndim</code></td>
<td>

<p>Number of dimensions
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>A</code></td>
<td>

<p>The design matrix for linking item category parameters
to generalized item parameters <code class="reqn">\xi</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>

<p>The scoring matrix of item categories on <code class="reqn">\theta</code>
dimensions.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>

<p>A loading matrix of items on dimensions
with number of rows equal the number
of items and the number of columns equals the
number of dimensions in the item response model.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>

<p>This argument is not used
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>Object generated by <code>designMatrices</code>. This argument is used in
<code>print.designMatrices</code> and <code>rownames.design</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>

<p>Object generated by <code>designMatrices</code>. This argument is used in
<code>print.designMatrices</code> and <code>rownames.design</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formulaA</code></td>
<td>

<p>An <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> formula object for generating the <code>A</code> design matrix.
Variables in <code>formulaA</code> have to be included in <code>facets</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facets</code></td>
<td>

<p>A data frame with observed facets. The number of rows must be equal
to the number of rows in <code>resp</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraint</code></td>
<td>

<p>Constraint in estimation: <code>cases</code> assumes zero means
of trait distributions and <code>items</code> a sum constraint of
zero of item parameters
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Kitem</code></td>
<td>
<p>Maximum number of categories per item</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>Display progress for creation of design matrices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Further arguments
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>.A.PCM2</code> generates the Conquest parametrization
of the partial credit model.
</p>
<p>The function <code>.A.PCM3</code> generates the parametrization for the <code class="reqn">A</code>
design matrix in the dispersion model for ordered data (Andrich, 1982).
</p>


<h3>Note</h3>

<p>The function <code>designMatrices.mfr2</code> handles multi-faceted design for
items with differing number of response options.
</p>


<h3>References</h3>

<p>Andrich, D. (1982). An extension of the Rasch model for ratings providing
both location and dispersion parameters. <em>Psychometrika, 47</em>(1),
105-113. <a href="https://doi.org/10.1007/BF02293856">doi:10.1007/BF02293856</a>
</p>


<h3>See Also</h3>

<p>See <code>data.sim.mfr</code> for some examples for creating design matrices.
</p>


<h3>Examples</h3>

<pre><code class="language-R">###########################################################
# different parametrizations for ordered data
data( data.gpcm )
resp &lt;- data.gpcm

# parametrization for partial credit model
A1 &lt;- TAM::designMatrices( resp=resp )$A
# item difficulty and threshold parametrization
A2 &lt;- TAM::.A.PCM2( resp )
# dispersion model of Andrich (1982)
A3 &lt;- TAM::.A.PCM3( resp )
# rating scale model
A4 &lt;- TAM::designMatrices( resp=resp, modeltype="RSM" )$A
</code></pre>


</div>