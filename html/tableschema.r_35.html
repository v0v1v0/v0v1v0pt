<div class="container">

<table style="width: 100%;"><tr>
<td>Schema</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Schema class</h2>

<h3>Description</h3>

<p>A model of a schema with helpful methods for working with the schema and supported data. 
Schema instances can be initialized with a schema source as a url to a JSON file or a JSON object. 
The schema is initially validated (see <a href="https://github.com/okgreece/tableschema-r#validate">validate</a>). 
By default validation errors will be stored in <code>$errors</code> but in a strict mode it will be instantly raised.
</p>


<h3>Usage</h3>

<pre><code class="language-R"># Schema.load(descriptor, strict=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>descriptor</code></td>
<td>
<p>schema descriptor, a JSON string, URL or file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p>flag to alter validation behaviour:
</p>

<ul>
<li>
<p>if <code>FALSE</code> error will not be raised and all error will be collected in <code>schema$errors</code>
</p>
</li>
<li>
<p>if <code>TRUE</code> any validation error will be raised immediately
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>Format</h3>

<p><code>R6Class</code> object.
</p>


<h3>Value</h3>

<p>Object of <code>R6Class</code> .
</p>


<h3>Methods</h3>


<dl>
<dt><code>Schema$new(descriptor = descriptor, strict = strict)</code></dt>
<dd>
<p>Use <code>Schema.load</code> to instantiate <code>Schema</code> class.</p>
</dd>
<dt><code>getField(name)</code></dt>
<dd>
<p>Get schema field by name.</p>
</dd>
</dl>
<ul>
<li>
<p><code>name </code>String with schema field name.  
</p>
</li>
<li>
<p><code>(Field/NULL) </code>Returns <code>Field</code> instance or <code>NULL</code> if not found.
</p>
</li>
</ul>
<dl>
<dt><code>addField(descriptor)</code></dt>
<dd>
<p>Add new field to schema. The schema descriptor will be validated with newly added field descriptor.</p>
</dd>
</dl>
<ul>
<li>
<p><code>descriptor </code>List of field descriptor.  
</p>
</li>
<li>
<p><code>TableSchemaError </code>Raises any error occured in the process.
</p>
</li>
<li>
<p><code>(Field/NULL) </code>Returns added <code>Field</code> instance or <code>NULL</code> if not added.
</p>
</li>
</ul>
<dl>
<dt><code>removeField(name)</code></dt>
<dd>
<p>Remove field resource by name. The schema descriptor will be validated after field descriptor removal.</p>
</dd>
</dl>
<ul>
<li>
<p><code>name </code>String with schema field name.  
</p>
</li>
<li>
<p><code>TableSchemaError </code>Raises any error occured in the process.
</p>
</li>
<li>
<p><code>(Field/NULL) </code>Returns removed <code>Field</code> instances or <code>NULL</code> if not found.
</p>
</li>
</ul>
<dl>
<dt><code>castRow(row)</code></dt>
<dd>
<p>Cast row based on field types and formats.</p>
</dd>
</dl>
<ul>
<li>
<p><code>row </code>Data row as a list of values.  
</p>
</li>
<li>
<p><code>(any) </code>Returns cast data row.
</p>
</li>
</ul>
<dl>
<dt><code>infer(rows, headers=1)</code></dt>
<dd>
<p>Cast row based on field types and formats.</p>
</dd>
</dl>
<ul>
<li>
<p><code>rows </code>List of lists representing rows.  
</p>
</li>
<li>
<p><code>headers </code> data sample headers, one of:
</p>

<ul>
<li>
<p>row number containing headers (<code>rows</code> should contain headers rows)
</p>
</li>
<li>
<p>list of headers (<code>rows</code> should NOT contain headers rows)</p>
</li>
</ul>
</li>
<li>
<p><code>{Object} </code>Returns Table Schema descriptor.
</p>
</li>
</ul>
<dl>
<dt><code>commit(strict)</code></dt>
<dd>
<p>Cast row based on field types and formats.</p>
</dd>
</dl>
<ul>
<li>
<p><code>strict </code>Boolean, alter strict mode for further work.  
</p>
</li>
<li>
<p><code>TableSchemaError </code>Raises any error occured in the process.
</p>
</li>
<li>
<p><code>(Boolean) </code>Returns <code>TRUE</code> on success and <code>FALSE</code> if not modified.
</p>
</li>
</ul>
<dl>
<dt><code>save(target)</code></dt>
<dd>
<p>Cast row based on field types and formats.</p>
</dd>
</dl>
<ul>
<li>
<p><code>target </code>String, path where to save a descriptor.  
</p>
</li>
<li>
<p><code>TableSchemaError </code>Raises any error occured in the process.
</p>
</li>
<li>
<p><code>(Boolean) </code>Returns <code>TRUE</code> on success.
</p>
</li>
</ul>
<h3>Properties</h3>


<dl>
<dt><code>valid</code></dt>
<dd>
<p>Returns validation status. It always <code>TRUE</code> in strict mode.</p>
</dd>
<dt><code>errors</code></dt>
<dd>
<p>Returns validation errors. It always empty in strict mode.</p>
</dd>
<dt><code>descriptor</code></dt>
<dd>
<p>Returns list of schema descriptor.</p>
</dd>
<dt><code>primaryKey</code></dt>
<dd>
<p>Returns string list of schema primary key.</p>
</dd>
<dt><code>foreignKeys</code></dt>
<dd>
<p>Returns list of schema foreign keys.</p>
</dd>
<dt><code>fields</code></dt>
<dd>
<p>Returns list of <code>Field</code> instances.</p>
</dd>
<dt><code>fieldNames</code></dt>
<dd>
<p>Returns a list of field names.</p>
</dd>
</dl>
<h3>Language</h3>

<p>The key words <code>MUST</code>, <code>MUST NOT</code>, <code>REQUIRED</code>, <code>SHALL</code>, <code>SHALL NOT</code>, 
<code>SHOULD</code>, <code>SHOULD NOT</code>, <code>RECOMMENDED</code>, <code>MAY</code>, and <code>OPTIONAL</code> 
in this package documents are to be interpreted as described in <a href="https://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>.
</p>


<h3>See Also</h3>

<p><code>Schema.load</code>, 
<a href="https://specs.frictionlessdata.io//table-schema/">Table Schema Specifications</a>
</p>


</div>