<div class="container">

<table style="width: 100%;"><tr>
<td>cate_link</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Conditional Relative Risk estimation</h2>

<h3>Description</h3>

<p>Conditional average treatment effect estimation via Double Machine Learning
</p>


<h3>Usage</h3>

<pre><code class="language-R">cate_link(
  treatment,
  link = "identity",
  response_model,
  propensity_model,
  importance_model,
  contrast = c(1, 0),
  data,
  nfolds = 5,
  type = "dml1",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>treatment</code></td>
<td>
<p>formula specifying treatment and variables to condition on</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>link</code></td>
<td>
<p>Link function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response_model</code></td>
<td>
<p>SL object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>propensity_model</code></td>
<td>
<p>SL object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>importance_model</code></td>
<td>
<p>SL object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrast</code></td>
<td>
<p>treatment contrast (default 1 vs 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data.frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfolds</code></td>
<td>
<p>Number of folds</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>'dml1' or 'dml2'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to SuperLearner</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>cate.targeted object
</p>


<h3>Author(s)</h3>

<p>Klaus KÃ¤hler Holst &amp; Andreas Nordland
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example 1:
sim1 &lt;- function(n=1e4,
                 seed=NULL,
                 return_model=FALSE, ...){
suppressPackageStartupMessages(require("lava"))
if (!is.null(seed)) set.seed(seed)
m &lt;- lava::lvm()
distribution(m, ~x) &lt;- gaussian.lvm()
distribution(m, ~v) &lt;- gaussian.lvm(mean = 10)
distribution(m, ~a) &lt;- binomial.lvm("logit")
regression(m, "a") &lt;- function(v, x){.1*v + x}
distribution(m, "y") &lt;- gaussian.lvm()
regression(m, "y") &lt;- function(a, v, x){v+x+a*x+a*v*v}
if (return_model) return(m)
lava::sim(m, n = n)
}

if (require("SuperLearner",quietly=TRUE)) {
  d &lt;- sim1(n = 1e3, seed = 1)
  e &lt;- cate_link(data=d,
           type = "dml2",
           treatment = a ~ v,
           response_model = y~ a*(x + v + I(v^2)),
           importance_model = SL(D_ ~ v + I(v^2)),
           nfolds = 10)
  summary(e) # the true parameters are c(1,1)
}
</code></pre>


</div>