<div class="container">

<table style="width: 100%;"><tr>
<td>midily</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert MIDI to LilyPond file</h2>

<h3>Description</h3>

<p>Convert a MIDI file (<code>.mid</code>) to a LilyPond format (<code>.ly</code>) text file.
</p>


<h3>Usage</h3>

<pre><code class="language-R">midily(
  midi_file,
  file,
  key = "c",
  absolute = FALSE,
  quantize = NULL,
  explicit = FALSE,
  start_quant = NULL,
  allow_tuplet = c("4*2/3", "8*2/3", "16*2/3"),
  details = FALSE,
  lyric = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>midi_file</code></td>
<td>
<p>character, MIDI file (<code>.mid</code>). May include an absolute or
relative path.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>LilyPond output file ending in <code>.ly</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>key signature, defaults to <code>"c"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>absolute</code></td>
<td>
<p>logical, print absolute pitches (unavailable in current
package version).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantize</code></td>
<td>
<p>integer, duration, quantize notes on duration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>explicit</code></td>
<td>
<p>logical, print explicit durations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_quant</code></td>
<td>
<p>integer, duration, quantize note starts on the duration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_tuplet</code></td>
<td>
<p>character vector, allow tuplet durations. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>details</code></td>
<td>
<p>logical, print additional information to console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lyric</code></td>
<td>
<p>logical, treat all text as lyrics.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Under development/testing. See warning and details below.
</p>
<p>This function is a wrapper around the <code>midi2ly()</code> command line utility
provided by LilyPond. It inherits all the limitations thereof.
LilyPond is not intended to be used to produce meaningful sheet music from
arbitrary MIDI files.
While <code>lilypond()</code> converts R code <code>score()</code> objects to LilyPond markup
directly, MIDI conversion to LilyPond markup by <code>midily()</code> requires LilyPond.
</p>
<p>WARNING: Even though the purpose of the command line utility is to convert
an existing MIDI file to a LilyPond file, it nevertheless generates a
LilyPond file that <em>specifies inclusion of MIDI output</em>.
This means when you subsequently process the LilyPond file with LilyPond or
if you use <code>miditab()</code> to go straight from your MIDI file to pdf output,
the command line tool will also produce a MIDI file output. It will
overwrite your original MIDI file if it has the same file name and location!
</p>
<p><code>allow_tuplets = NULL</code> to disallow all tuplets. Fourth, eighth and sixteenth
note triplets are allowed. The format is a character vector where each
element is <code>duration*numerator/denominator</code>, no spaces. See default argument.
</p>
<p>On Windows systems, it may be necessary to specify a path in <code>tabr_options()</code>
to both <code>midi2ly</code> and <code>python</code> if they are not already added to the system
PATH variable.
</p>


<h3>Value</h3>

<p>nothing returned; a file is written.
</p>


<h3>See Also</h3>

<p><code>miditab()</code>, <code>tab()</code>, <code>lilypond()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
if(tabr_options()$midi2ly != ""){
  midi &lt;- system.file("example.mid", package = "tabr")
  outfile &lt;- file.path(tempdir(), "out.ly")
  midily(midi, outfile) # requires LilyPond installation
}

## End(Not run)
</code></pre>


</div>