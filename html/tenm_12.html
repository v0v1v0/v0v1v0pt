<div class="container">

<table style="width: 100%;"><tr>
<td>ex_by_date</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract environmental data by date</h2>

<h3>Description</h3>

<p>Function to extract environmental data by date. It generates training and
testing datasets using a random partition with a specified proportion.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ex_by_date(this_species, train_prop = 0.7)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>this_species</code></td>
<td>
<p>Species Temporal Data object. See
<code>sp_temporal_data</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>train_prop</code></td>
<td>
<p>Numeric. Proportion of data to use for training.
For example, a train_prop of 0.7 means 70% of the data will be used for
training and 30% for testing.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class sp.temporal.env that consists in a list of five
elements:
</p>

<ol>
<li>
<p> "temporal_df": a temporal data.frame (temporal_df) with the following
columns: latitude, longitude, year, layer_dates, layers_path,
cell_ids_year, and environmental data.
</p>
</li>
<li>
<p> "sp_date_var": Name of date variable.
</p>
</li>
<li>
<p> "lon_lat_vars": Names of the longitude and latitude variables.
</p>
</li>
<li>
<p> "layers_ext": Environmental layers extension.
</p>
</li>
<li>
<p> "env_data": Environmental data of occurrences.
</p>
</li>
</ol>
<h3>Examples</h3>

<pre><code class="language-R">
library(tenm)
data("abronia")
tempora_layers_dir &lt;- system.file("extdata/bio",package = "tenm")
abt &lt;- tenm::sp_temporal_data(occs = abronia,
                              longitude = "decimalLongitude",
                              latitude = "decimalLatitude",
                              sp_date_var = "year",
                              occ_date_format="y",
                              layers_date_format= "y",
                              layers_by_date_dir = tempora_layers_dir,
                              layers_ext="*.tif$")
abtc &lt;- tenm::clean_dup_by_date(abt,threshold = 10/60)
future::plan("multisession",workers=2)
abex &lt;- tenm::ex_by_date(this_species = abtc,
                         train_prop=0.7)
future::plan("sequential")

</code></pre>


</div>