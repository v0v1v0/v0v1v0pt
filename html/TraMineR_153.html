<div class="container">

<table style="width: 100%;"><tr>
<td>seqrecode</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Recoding state sequence objects and factors
</h2>

<h3>Description</h3>

<p>Utilities for recoding factors or state sequence objects created with <code>seqdef</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">seqrecode(seqdata, recodes, otherwise = NULL,
     labels = NULL, cpal = NULL)
recodef(x, recodes, otherwise=NULL, na=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>seqdata</code></td>
<td>

<p>The state sequence object to be recoded (created with <code>seqdef</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recodes</code></td>
<td>
<p>A <code>list</code> specifying the recoding operations where each element is in the form <code>newcode=oldcode</code> or <code>newcode=c(oldcode1, oldcode2,...)</code>. The rules are treated in the same order as they appear, hence subsequent rules may modify the first ones.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>otherwise</code></td>
<td>
<p><code>NULL</code> or Character. Level given to cases uncovered by the <code>recodes</code> list. If <code>NULL</code>, old states remain unchanged.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>optional state labels used for the color legend of TraMineR's graphics. If <code>NULL</code> (default), the state names in the alphabet are also used as state labels (see <code>seqdef</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cpal</code></td>
<td>
<p>an optional color palette for representing the newly defined alphabet in graphics. If <code>NULL</code> (default), a color palette is created from the colors in <code>seqdata</code> by assigning to <code>newcode</code> the color of the first old state listed as <code>oldcode</code> and by leaving the colors of the other states unchanged.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A factor to be recoded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na</code></td>
<td>
<p>Character vector. If not <code>NULL</code>, the list of states that should be recoded as <code>NA</code> (missing values).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p> The recoded factor or state sequence object.</p>


<h3>Author(s)</h3>

<p>Matthias Studer (with Gilbert Ritschard for the help page)</p>


<h3>See Also</h3>

<p><code>seqdef</code> to create a state sequence object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Recoding a state sequence object with seqrecode
data(actcal)
## Creating a state sequence object
actcal.seq &lt;- seqdef(actcal,13:24, labels=c("&gt; 37 hours", "19-36 hours",
   "1-18 hours", "no work"))
## Regrouping states B and C and setting the whole alphabet to A BC D
actcal.new &lt;-seqrecode(actcal.seq,
    recodes = list("A"="A", "BC"=c("B", "C"), "D"="D"))
## Crosstabulate the first column of the recoded and
## original state sequence objects
table(actcal.new[,1], actcal.seq[,1])

## Same as before but using automatically original
## codes for unspecified states.
actcal.new2 &lt;-seqrecode(actcal.seq,
	recodes = list("BC"=c("B", "C")))
table(actcal.new2[,1], actcal.seq[,1])

## Same as before but using otherwise
actcal.new3 &lt;-seqrecode(actcal.seq, recodes = list("A"="A", "D"="D"),
   otherwise="BC")
table(actcal.new3[,1], actcal.seq[,1])

## Recoding factors
## Recoding the marital status to oppose married to all other case
maritalstatus &lt;- recodef(actcal$civsta00,
	recodes=list("Married"="married"), otherwise="Single")
summary(maritalstatus)
table(maritalstatus, actcal$civsta00)

## Recoding the number of kids in the household
## -2 is a missing value
nbkids &lt;- recodef(actcal$nbkid00,
   recodes=list("None"=0, "One"=1, "Two or more"=2:10), na=-2)
table(nbkids, actcal$nbkid00, useNA="always")

</code></pre>


</div>