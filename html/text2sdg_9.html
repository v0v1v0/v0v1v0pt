<div class="container">

<table style="width: 100%;"><tr>
<td>plot_sdg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot distributions of SDGs identified in text</h2>

<h3>Description</h3>

<p><code>plot_sdg</code> creates a (stacked) barplot of the frequency distribution of SDGs identified via detect_sdg or detect_sdg_systems.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_sdg(
  hits,
  systems = NULL,
  sdgs = NULL,
  normalize = "none",
  color = "unibas",
  sdg_titles = FALSE,
  remove_duplicates = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>hits</code></td>
<td>
<p><code>data frame</code> as returned by <code>detect_sdg</code> or <code>detect_sdg_systems</code>. Must include columns <code>sdg</code> and <code>system</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>systems</code></td>
<td>
<p><code>character</code> vector specifying the query systems to be visualized. Values must be available in the <code>system</code> column of <code>hits</code>. <code>systems</code> of length greater 1 result, by default, in a stacked barplot. Defaults to <code>NULL</code> in which case available values are retrieved from <code>hits</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdgs</code></td>
<td>
<p><code>numeric</code> vector with integers between 1 and 17 specifying the SDGs to be visualized. Values must be available in the <code>sdg</code> column of <code>hits</code>. Defaults to <code>NULL</code> in which case available values are retrieved from <code>hits</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize</code></td>
<td>
<p><code>character</code> specifying whether results should be presented as frequencies (<code>normalize = "none"</code>), the default, or whether the frequencies should be normalized using either the total frequencies of each system (<code>normalize = "systems"</code>) or the total number of documents (<code>normalize = "documents"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p><code>character</code> vector used to color the bars according to systems. The default, <code>"unibas"</code>, uses three colors of University of Basel's corporate design. Alternatively, <code>color</code> must specified using color names or color hex values. <code>color</code> will be interpolated to match the length of <code>systems</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdg_titles</code></td>
<td>
<p><code>logical</code> specifying whether the titles of the SDG should added to the axis annotation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_duplicates</code></td>
<td>
<p><code>logical</code> specifying the handling of multiple hits of the same SDG for a given document and system. Defaults to <code>TRUE</code> implying that no more than one hit is counted per SDG, system, and document.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to <code>geom_bar</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function is built using <code>ggplot</code> and can thus be flexibly extended. See examples.
</p>


<h3>Value</h3>

<p>The function returns a <code>ggplot</code> object that can either be stored in an object or printed to produce the plot.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# run sdg detection
hits &lt;- detect_sdg_systems(projects)

# create barplot
plot_sdg(hits)

# create barplot with facets
plot_sdg(hits) + ggplot2::facet_wrap(~system)


</code></pre>


</div>