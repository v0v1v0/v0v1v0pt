<div class="container">

<table style="width: 100%;"><tr>
<td>lt.fit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Function for fitting LT
</h2>

<h3>Description</h3>

<p>Function to find LT estimates of the regression coefficients for regression models with truncated response variables. Uses <code>optim</code>. Intended to be called through <code>lt</code>, not on its own, since <code>lt</code> also transforms data into the correct form etc.
</p>


<h3>Usage</h3>

<pre><code class="language-R">lt.fit(formula, mf, point, direction, bet, cl, cu, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>

<p>a symbolic description of the model to be estimated
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mf</code></td>
<td>

<p>the <code>model.frame</code> containing the variables to be used when fitting the model. <code>lt</code> transforms the model frame to the correct form before calling <code>lt.fit</code>. If <code>lt.fit</code> is called on its own the model frame needs to be transformed manually.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point</code></td>
<td>

<p>point of truncation
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>

<p>direction of truncation
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bet</code></td>
<td>

<p>starting values to be used by <code>optim</code>. Column matrix with p rows.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl</code></td>
<td>

<p>lower threshold value to be used, number or numeric vector of length 1.  (See <code>lt</code>, argument <code>clower</code>, for more information).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cu</code></td>
<td>

<p>upper threshold value to be used, number or numeric vector of length 1. (See <code>lt</code>, argument <code>cupper</code>, for more information).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>additional arguments to be passed to <code>optim</code> (see the documentation for <code>lt</code> for further details).
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list with components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>startcoef </code></td>
<td>
<p>the starting values of the regression coefficients used by <code>optim</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coefficients </code></td>
<td>
<p>the named vector of coefficients</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>counts </code></td>
<td>
<p>number of iterations used by <code>optim</code>. See the documentation for <code>optim</code> for further details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>convergence </code></td>
<td>
<p>from <code>optim</code>. An integer code. 0 indicates successful completion. Possible error codes are <br> 1  indicating that the iteration limit maxit had been reached.<br> 10  indicating degeneracy of the Nelderâ€“Mead simplex.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>message </code></td>
<td>
<p>from <code>optim</code>. A character string giving any additional information returned by the optimizer, or <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>residuals </code></td>
<td>
<p>the residuals of the model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df.residual </code></td>
<td>
<p>the residual degrees of freedom</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitted.values </code></td>
<td>
<p>the fitted values</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Anita Lindmark  and Maria Karlsson
</p>


<h3>See Also</h3>

<p><code>lt</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">require(utils)
##Model frame
n &lt;- 10000
x &lt;- rnorm(n,0,2)
y &lt;- 2+x+4*rnorm(n)
d &lt;- data.frame(y=y, x=x)
dl0 &lt;- subset(d, y&gt;0)
mf &lt;- model.frame(y~x, data=dl0)

##Starting values and threshold values
lmmod &lt;- lm(data=mf)
bet &lt;- lmmod$coef
bet &lt;- matrix(bet)
cl &lt;- sqrt(deviance(lmmod)/df.residual(lmmod))
cu &lt;- 2*cl

str(lt. &lt;- lt.fit(y~x,mf,point=0,direction="left",bet,cl,cu))
</code></pre>


</div>