<div class="container">

<table style="width: 100%;"><tr>
<td>avg_coverage_struct</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute the average coverage of the prediction intervals computed by <code>struct_pi</code>
and plug-in method</h2>

<h3>Description</h3>

<p>Computes expected coverage probabilities of the prediction intervals of structural time series model.
Note that for the plug-in method only standard deviations are assumed to be identical to their estimates,
but the initial values for the states are still treated as diffuse. Because of this,
plug-in method often performs relatively well in case of structural time series models
compared to similar type of ARIMA models
(local level and local linear trend models are closely related to ARIMA(0,1,1) and ARIMA(0,2,2) models),
and in some cases even outperforms the importance sampling approach with uniform prior (see examples).
This is not suprising, as local level and local linear trend models are closely related to ARIMA(0,1,1) and ARIMA(0,2,2) models,
and the effect of uncertainty in MA components is not as significant as the uncertainty of AR components
</p>


<h3>Usage</h3>

<pre><code class="language-R">avg_coverage_struct(
  type = c("level", "trend", "BSM"),
  sds,
  frequency = 1,
  n,
  n_ahead = 1,
  nsim2,
  nsim = 100,
  level = 0.95,
  prior = "uniform",
  return_all_coverages = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of model. See <code>struct_pi</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sds</code></td>
<td>
<p>vector containing the standard deviations of the model (observation error, level, slope, and seasonal).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frequency</code></td>
<td>
<p>frequency of the series, needed for seasonal component.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>length of the time series</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_ahead</code></td>
<td>
<p>length of the forecast horizon</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim2</code></td>
<td>
<p>number of simulations used in computing the expected coverage</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>number of simulations used in importance sampling</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>desired coverage probability of the prediction intervals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior</code></td>
<td>
<p>prior to be used in importance sampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_all_coverages</code></td>
<td>
<p>return raw results i.e. coverages for each simulations. When <code>FALSE</code> (default), summary statistics are returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to <code>struct_pi</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list containing the coverage probabilities
</p>


<h3>See Also</h3>

<p><code>struct_pi</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
set.seed(123)
# takes a while, notice se, increase nsim2 to get more accurate results
avg_coverage_struct(type = "level", sds = c(1, 0.1), n = 50, n_ahead = 10, nsim2 = 100)
avg_coverage_struct(type = "BSM", sds = c(1, 1, 0.1, 10),
 frequency = 4, n = 50, n_ahead = 10, nsim2 = 100)

## End(Not run)
</code></pre>


</div>