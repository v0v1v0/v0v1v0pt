<div class="container">

<table style="width: 100%;"><tr>
<td>tidync</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tidy NetCDF</h2>

<h3>Description</h3>

<p>Connect to a NetCDF source and allow use of <code style="white-space: pre;">⁠hyper_*⁠</code> verbs for slicing with
<code>hyper_filter()</code>, extracting data with <code>hyper_array()</code> and  [hyper_tibble()
from an activated grid. By default the largest <em>grid</em> encountered is
activated, see<code>activate()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tidync(x, what, ...)

## S3 method for class 'character'
tidync(x, what, ...)

## S3 method for class 'tidync_data'
tidync(x, what, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>path to a NetCDF file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>
<p>(optional) character name of grid (see <code>ncmeta::nc_grids</code>) or
(bare) name of variable (see <code>ncmeta::nc_vars</code>) or index of grid to
<code>activate</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>reserved for arguments to methods, currently ignored</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The print method for tidync includes a lot of information about which
variables exist on which dimensions, and if any slicing (<code>hyper_filter()</code>)
operations have occurred these are summarized as 'start' and 'count'
modifications relative to the dimension lengths. See print
for these details, and hyper_vars for programmatic access to
this information
</p>
<p>Many NetCDF forms are supported and tidync tries to reduce the interpretation
applied to a given source. The NetCDF system defines a 'grid' for storing
array data, where 'grid' is the array 'shape', or 'set of dimensions'). There
may be several grids in a single source and so we introduce the concept of
grid 'activation'. Once activated, all downstream tasks apply to the set of
variables that exist on that grid.
</p>
<p>NetCDF sources with numeric types are chosen by default, even if existing
'NC_CHAR' type variables are on the largest grid. When read any 'NC_CHAR'
type variables are exploded into single character elements so that dimensions
match the source.
</p>


<h3>Grids</h3>

<p>A grid is an instance of a particular set of dimensions,
which can be shared by more than one variable. This is not the 'rank' of a
variable (the number of dimensions) since a single data set may have many
3D variables composed of different sets of axes/dimensions. There's no
formality around the concept of 'shape', as far as we know.
</p>
<p>A dimension may have length zero, but this is a special case for a
"measure" dimension, we think. (It doesn't mean the product of the
dimensions is zero, for example).
</p>


<h3>Limitations</h3>

<p>Files with compound types are not yet supported and
should fail gracefully. Groups are not yet supported.
</p>
<p>We haven't yet explored 'HDF5' in detail, so any feedback is appreciated.
Major use of compound types is made by <a href="https://github.com/sosoc/croc">https://github.com/sosoc/croc</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## a SeaWiFS (S) Level-3 Mapped (L3m) monthly (MO) chlorophyll-a (CHL)
## remote sensing product at 9km resolution (at the equator)
## from the NASA ocean colour group in NetCDF4 format (.nc)
## for 31 day period January 2008 (S20080012008031) 
f &lt;- "S20080012008031.L3m_MO_CHL_chlor_a_9km.nc"
l3file &lt;- system.file("extdata/oceandata", f, package= "tidync")
## skip on Solaris
if (!tolower(Sys.info()[["sysname"]]) == "sunos") {
tnc &lt;- tidync(l3file)
print(tnc)
}

## very simple Unidata example file, with one dimension
## Not run: 
uf &lt;- system.file("extdata/unidata", "test_hgroups.nc", package = "tidync")
recNum &lt;- tidync(uf) %&gt;% hyper_tibble()
print(recNum)

## End(Not run)
## a raw grid of Southern Ocean sea ice concentration from IFREMER
## it is 12.5km resolution passive microwave concentration values
## on a polar stereographic grid, on 2 October 2017, displaying the 
## "hole in the ice" made famous here:
## https://tinyurl.com/ycbchcgn
ifr &lt;- system.file("extdata/ifremer", "20171002.nc", package = "tidync")
ifrnc &lt;- tidync(ifr)
ifrnc %&gt;% hyper_tibble(select_var = "concentration")
</code></pre>


</div>