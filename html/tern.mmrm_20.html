<div class="container">

<table style="width: 100%;"><tr>
<td>lsmeans_helpers</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Helpers for Processing Least Square Means</h2>

<h3>Description</h3>

<p>Helpers for Processing Least Square Means
</p>


<h3>Usage</h3>

<pre><code class="language-R">h_get_emmeans_res(fit, vars, weights)

h_get_average_visit_specs(emmeans_res, vars, averages, fit)

h_get_spec_visit_estimates(emmeans_res, specs, conf_level, tests = FALSE)

h_get_single_visit_estimates(emmeans_res, conf_level)

h_get_relative_reduc_df(estimates, vars)

h_single_visit_contrast_specs(emmeans_res, vars)

h_average_visit_contrast_specs(specs, averages)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>result of <code>mmrm::mmrm()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>(named <code>list</code> of <code>string</code> or <code>character</code>)<br> specifying the variables in the <code>MMRM</code>.
The following elements need to be included as character vectors and match corresponding columns
in <code>data</code>:
</p>

<ul>
<li> <p><code>response</code>: the response variable.
</p>
</li>
<li> <p><code>covariates</code>: the additional covariate terms (might also include interactions).
</p>
</li>
<li> <p><code>id</code>: the subject ID variable.
</p>
</li>
<li> <p><code>arm</code>: the treatment group variable (factor).
</p>
</li>
<li> <p><code>visit</code>: the visit variable (factor).
</p>
</li>
<li> <p><code>weights</code>: optional weights variable (if <code>NULL</code> or omitted then no weights will be used).
</p>
</li>
</ul>
<p>Note that the main effects and interaction of <code>arm</code> and <code>visit</code> are by default
included in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>(<code>string</code>)<br> argument from <code>emmeans::emmeans()</code>, "proportional" by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>emmeans_res</code></td>
<td>
<p>(<code>list</code>)<br> initial <code>emmeans</code> result from <code>h_get_emmeans_res()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>averages</code></td>
<td>
<p>(<code>list</code>)<br> optional named list of visit levels which should be averaged
and reported along side the single visits.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>specs</code></td>
<td>
<p>(<code>list</code>)<br> list of least square means specifications, with
elements <code>coefs</code> (coefficient list) and <code>grid</code> (corresponding <code>data.frame</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf_level</code></td>
<td>
<p>(<code>proportion</code>)<br> confidence level of the interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tests</code></td>
<td>
<p>(<code>flag</code>)<br> whether to add test results to the estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimates</code></td>
<td>
<p>(<code>data.frame</code>)<br> single visit least square mean estimates.</p>
</td>
</tr>
</table>
<h3>Functions</h3>


<ul>
<li> <p><code>h_get_emmeans_res()</code>: returns a list with
<code>object</code> (<code>emmGrid</code> object containing <code>emmeans</code> results) and <code>grid</code>
(<code>data.frame</code> containing the potential arm and the visit variables
together with the sample size <code>n</code> for each combination).
</p>
</li>
<li> <p><code>h_get_average_visit_specs()</code>: constructs average of visits specifications.
</p>
</li>
<li> <p><code>h_get_spec_visit_estimates()</code>: estimates least square means as a <code>data.frame</code>
given specifications.
</p>
</li>
<li> <p><code>h_get_single_visit_estimates()</code>: estimates least square means for single visits.
</p>
</li>
<li> <p><code>h_get_relative_reduc_df()</code>: constructs <code>data.frame</code> with
relative reduction vs. reference arm based on single visit estimates.
</p>
</li>
<li> <p><code>h_single_visit_contrast_specs()</code>: constructs single visit contrast specifications.
</p>
</li>
<li> <p><code>h_average_visit_contrast_specs()</code>: constructs average visits contrast specifications,
given the <code>specs</code> for single visit contrasts and the averages required.
</p>
</li>
</ul>
</div>