<div class="container">

<table style="width: 100%;"><tr>
<td>scale_whitebox</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Gradient scales from <strong>WhiteboxTools</strong> color schemes</h2>

<h3>Description</h3>

<p>Implementation of the gradient palettes provided by
<a href="https://github.com/jblindsay/whitebox-tools">WhiteboxTools</a>. Three
scales are provided:
</p>

<ul>
<li> <p><code style="white-space: pre;">⁠scale_*_whitebox_d()⁠</code>: For discrete values.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠scale_*_whitebox_c()⁠</code>: For continuous values.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠scale_*_whitebox_b()⁠</code>: For binning continuous values.
</p>
</li>
</ul>
<p>Additionally, a color palette <code>whitebox.colors()</code> is provided. See also
<code>grDevices::terrain.colors()</code> for details.
</p>
<p>Additional parameters <code>...</code> would be passed on to:
</p>

<ul>
<li>
<p> Discrete values: <code>ggplot2::discrete_scale()</code>.
</p>
</li>
<li>
<p> Continuous values: <code>ggplot2::continuous_scale()</code>.
</p>
</li>
<li>
<p> Binned continuous values: <code>ggplot2::binned_scale()</code>.
</p>
</li>
</ul>
<p><strong>Note that</strong> <a href="https://CRAN.R-project.org/package=tidyterra"><span class="pkg">tidyterra</span></a> just documents a selection of these
additional parameters, check the <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a> functions listed above to
see the full range of parameters accepted by these scales.
</p>


<h3>Usage</h3>

<pre><code class="language-R">scale_fill_whitebox_d(
  palette = "high_relief",
  ...,
  alpha = 1,
  direction = 1,
  na.translate = FALSE,
  drop = TRUE
)

scale_colour_whitebox_d(
  palette = "high_relief",
  ...,
  alpha = 1,
  direction = 1,
  na.translate = FALSE,
  drop = TRUE
)

scale_fill_whitebox_c(
  palette = "high_relief",
  ...,
  alpha = 1,
  direction = 1,
  na.value = "transparent",
  guide = "colourbar"
)

scale_colour_whitebox_c(
  palette = "high_relief",
  ...,
  alpha = 1,
  direction = 1,
  na.value = "transparent",
  guide = "colourbar"
)

scale_fill_whitebox_b(
  palette = "high_relief",
  ...,
  alpha = 1,
  direction = 1,
  na.value = "transparent",
  guide = "coloursteps"
)

scale_colour_whitebox_b(
  palette = "high_relief",
  ...,
  alpha = 1,
  direction = 1,
  na.value = "transparent",
  guide = "coloursteps"
)

whitebox.colors(n, palette = "high_relief", alpha = 1, rev = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>A valid palette name. The name is matched to the list of
available palettes, ignoring upper vs. lower case. Values available are:
<code>"atlas"</code>, <code>"high_relief"</code>, <code>"arid"</code>, <code>"soft"</code>, <code>"muted"</code>, <code>"purple"</code>, <code>"viridi"</code>, <code>"gn_yl"</code>, <code>"pi_y_g"</code>, <code>"bl_yl_rd"</code>, <code>"deep"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Arguments passed on to <code>ggplot2::discrete_scale</code>, <code>ggplot2::continuous_scale</code>, <code>ggplot2::binned_scale</code>
</p>

<dl>
<dt><code>breaks</code></dt>
<dd>
<p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no breaks
</p>
</li>
<li> <p><code>waiver()</code> for the default breaks (the scale limits)
</p>
</li>
<li>
<p> A character vector of breaks
</p>
</li>
<li>
<p> A function that takes the limits as input and returns breaks
as output. Also accepts rlang lambda function
notation.
</p>
</li>
</ul>
</dd>
<dt><code>labels</code></dt>
<dd>
<p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no labels
</p>
</li>
<li> <p><code>waiver()</code> for the default labels computed by the
transformation object
</p>
</li>
<li>
<p> A character vector giving labels (must be same length as <code>breaks</code>)
</p>
</li>
<li>
<p> An expression vector (must be the same length as breaks). See ?plotmath for details.
</p>
</li>
<li>
<p> A function that takes the breaks as input and returns labels
as output. Also accepts rlang lambda function
notation.
</p>
</li>
</ul>
</dd>
<dt><code>limits</code></dt>
<dd>
<p>One of:
</p>

<ul>
<li> <p><code>NULL</code> to use the default scale values
</p>
</li>
<li>
<p> A character vector that defines possible values of the scale and their
order
</p>
</li>
<li>
<p> A function that accepts the existing (automatic) values and returns
new ones. Also accepts rlang lambda function
notation.
</p>
</li>
</ul>
</dd>
<dt><code>expand</code></dt>
<dd>
<p>For position scales, a vector of range expansion constants used to add some
padding around the data to ensure that they are placed some distance
away from the axes. Use the convenience function <code>expansion()</code>
to generate the values for the <code>expand</code> argument. The defaults are to
expand the scale by 5% on each side for continuous variables, and by
0.6 units on each side for discrete variables.</p>
</dd>
<dt><code>minor_breaks</code></dt>
<dd>
<p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no minor breaks
</p>
</li>
<li> <p><code>waiver()</code> for the default breaks (one minor break between
each major break)
</p>
</li>
<li>
<p> A numeric vector of positions
</p>
</li>
<li>
<p> A function that given the limits returns a vector of minor breaks. Also
accepts rlang lambda function notation. When
the function has two arguments, it will be given the limits and major
breaks.
</p>
</li>
</ul>
</dd>
<dt><code>n.breaks</code></dt>
<dd>
<p>An integer guiding the number of major breaks. The algorithm
may choose a slightly different number to ensure nice break labels. Will
only have an effect if <code>breaks = waiver()</code>. Use <code>NULL</code> to use the default
number of breaks given by the transformation.</p>
</dd>
<dt><code>nice.breaks</code></dt>
<dd>
<p>Logical. Should breaks be attempted placed at nice values
instead of exactly evenly spaced between the limits. If <code>TRUE</code> (default)
the scale will ask the transformation object to create breaks, and this
may result in a different number of breaks than requested. Ignored if
breaks are given explicitly.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The alpha transparency, a number in [0,1], see argument alpha in
<code>hsv</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>Sets the order of colors in the scale. If 1, the default,
colors are ordered from darkest to lightest. If -1, the order of colors is
reversed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.translate</code></td>
<td>
<p>Should <code>NA</code> values be removed from the legend? Default
is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>Should unused factor levels be omitted from the scale? The
default (<code>TRUE</code>) removes unused factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.value</code></td>
<td>
<p>Missing values will be replaced with this value. By default,
<a href="https://CRAN.R-project.org/package=tidyterra"><span class="pkg">tidyterra</span></a> uses <code>na.value = "transparent"</code> so cells with <code>NA</code> are
not filled. See also
<a href="https://github.com/dieghernan/tidyterra/issues/120">#120</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>guide</code></td>
<td>
<p>A function used to create a guide or its name. See
<code>guides()</code> for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>the number of colors (<code class="reqn">\ge 1</code>) to be in the
palette.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rev</code></td>
<td>
<p>logical indicating whether the ordering of the colors should
be reversed.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The corresponding <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a> layer with the values applied to the
<code>fill/colour</code> aesthetics.
</p>


<h3>Source</h3>

<p><a href="https://github.com/jblindsay/whitebox-tools">https://github.com/jblindsay/whitebox-tools</a>, under
MIT License. Copyright (c) 2017-2021 John Lindsay.
</p>


<h3>See Also</h3>

<p><code>terra::plot()</code>, <code>ggplot2::scale_fill_viridis_c()</code>
</p>
<p>See also <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a> docs on additional <code>...</code> parameters.
</p>
<p>Other gradient scales and palettes for hypsometry:
<code>scale_color_coltab()</code>,
<code>scale_cross_blended</code>,
<code>scale_grass</code>,
<code>scale_hypso</code>,
<code>scale_princess</code>,
<code>scale_terrain</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
filepath &lt;- system.file("extdata/volcano2.tif", package = "tidyterra")

library(terra)
volcano2_rast &lt;- rast(filepath)

# Palette
plot(volcano2_rast, col = whitebox.colors(100))

library(ggplot2)
ggplot() +
  geom_spatraster(data = volcano2_rast) +
  scale_fill_whitebox_c()

# Binned
ggplot() +
  geom_spatraster(data = volcano2_rast) +
  scale_fill_whitebox_b(breaks = seq(70, 200, 10), palette = "atlas")

# With discrete values
factor &lt;- volcano2_rast %&gt;% mutate(cats = cut(elevation,
  breaks = c(100, 120, 130, 150, 170, 200),
  labels = c(
    "Very Low", "Low", "Average", "High",
    "Very High"
  )
))


ggplot() +
  geom_spatraster(data = factor, aes(fill = cats)) +
  scale_fill_whitebox_d(na.value = "gray10", palette = "soft")


# Display all the whitebox palettes

pals &lt;- c(
  "atlas", "high_relief", "arid", "soft", "muted", "purple",
  "viridi", "gn_yl", "pi_y_g", "bl_yl_rd", "deep"
)

# Helper fun for plotting

ncols &lt;- 128
rowcol &lt;- grDevices::n2mfrow(length(pals))

opar &lt;- par(no.readonly = TRUE)
par(mfrow = rowcol, mar = rep(1, 4))

for (i in pals) {
  image(
    x = seq(1, ncols), y = 1, z = as.matrix(seq(1, ncols)),
    col = whitebox.colors(ncols, i), main = i,
    ylab = "", xaxt = "n", yaxt = "n", bty = "n"
  )
}
par(opar)
</code></pre>


</div>