<div class="container">

<table style="width: 100%;"><tr>
<td>data.cqc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
More Datasets and Examples (Similar to ConQuest Examples)
</h2>

<h3>Description</h3>

<p>Datasets and examples similar to the ones in the ConQuest manual
(Wu, Adams, Wilson, &amp; Haldane, 2007).
</p>


<h3>Usage</h3>

<pre><code class="language-R">data(data.cqc01)
data(data.cqc02)
data(data.cqc03)
data(data.cqc04)
data(data.cqc05)
</code></pre>


<h3>Format</h3>


<ul>
<li> <p><code>data.cqc01</code> contains 512 persons on
12 dichotomous items of following format
</p>
<p><code>'data.frame':   512 obs. of  12 variables:</code> <br><code> $ BSMMA01: int  1 1 0 1 1 1 1 1 0 0 ...</code> <br><code> $ BSMMA02: int  1 0 1 1 0 1 1 1 0 0 ...</code> <br><code> $ BSMMA03: int  1 1 0 1 1 1 1 1 1 0 ...</code> <br><code> [...]</code> <br><code> $ BSMSA12: int  0 0 0 0 1 0 1 1 0 0 ...</code> <br></p>
</li>
<li> <p><code>data.cqc02</code> contains 431 persons on 8 polytomous
variables of following format
</p>
<p><code>'data.frame':   431 obs. of  8 variables:</code> <br><code> $ It1: int  1 1 2 0 2 1 2 2 2 1 ...</code> <br><code> $ It2: int  3 0 1 2 2 3 2 2 1 1 ...</code> <br><code> $ It3: int  1 1 1 0 1 1 0 0 1 0 ...</code> <br><code> [...]</code> <br><code> $ It8: int  3 1 0 0 3 1 3 0 3 0 ...</code> <br></p>
</li>
<li> <p><code>data.cqc03</code> contains 11200 observations for
5600 persons, 16 raters and 2 items (<code>crit1</code> and <code>crit2</code>)
</p>
<p><code>'data.frame':   11200 obs. of  4 variables:</code> <br><code> $ pid  : num  10001 10001 10002 10002 10003 ...</code> <br><code> $ rater: chr  "R11" "R12" "R13" "R14" ...</code> <br><code> $ crit1: int  2 2 2 1 3 2 2 1 1 1 ...</code> <br><code> $ crit2: int  3 3 2 1 2 2 2 2 2 1 ...</code> <br></p>
</li>
<li> <p><code>data.cqc04</code> contains 1452 observations for 363 persons,
4 raters, 4 topics and 5 items (<code>spe</code>, <code>coh</code>, <code>str</code>,
<code>gra</code>,  <code>con</code>)
</p>
<p><code>'data.frame':   1452 obs. of  8 variables:</code> <br><code> $ pid  : num  10010 10010 10010 10010 10016 ...</code> <br><code> $ rater: chr  "BE" "CO" "BE" "CO" ...</code> <br><code> $ topic: chr  "Spor" "Spor" "Spor" "Spor" ...</code> <br><code> $ spe  : int  2 0 2 1 3 3 3 3 3 2 ...</code> <br><code> $ coh  : int  1 1 2 0 3 3 3 3 3 3 ...</code> <br><code> $ str  : int  0 1 3 0 3 2 3 2 3 0 ...</code> <br><code> $ gra  : int  0 0 2 0 3 3 3 3 2 1 ...</code> <br><code> $ con  : int  0 0 0 0 3 1 2 2 3 0 ...</code> <br></p>
</li>
<li> <p><code>data.cqc05</code> contains 1500 persons,
3 covariates and 157 items.
</p>
<p><code>'data.frame':   1500 obs. of  160 variables:</code> <br><code> $ gender: int  1 0 1 0 0 0 0 1 0 1 ...</code> <br><code> $ level : int  0 1 1 0 0 0 1 0 1 1 ...</code> <br><code> $ gbyl  : int  0 0 1 0 0 0 0 0 0 1 ...</code> <br><code> $ A001  : num  0 0 0 1 0 1 1 1 0 1 ...</code> <br><code> $ A002  : num  1 1 0 1 1 1 1 1 1 0 ...</code> <br><code> $ A003  : num  0 0 0 0 1 1 1 0 0 1 ...</code> <br><code>[...]</code> <br></p>
</li>
</ul>
<h3>References</h3>

<p>Wu, M. L., Adams, R. J., Wilson, M. R. &amp; Haldane, S. (2007).
<em>ACER ConQuest Version 2.0</em>. Mulgrave.
https://shop.acer.edu.au/acer-shop/group/CON3.
</p>


<h3>See Also</h3>

<p>See the <code>sirt::R2conquest</code> function
for running ConQuest software from within <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>.
</p>
<p>See the <span class="pkg">WrightMap</span> package for functions
connected to reading ConQuest files and creating Wright maps.
ConQuest output files can be read into <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> with the help of
the <code>WrightMap::CQmodel</code> function.
See also the <code>IRT.WrightMap</code> function in <span class="pkg">TAM</span>.
</p>
<p>See also the <span class="pkg">eat</span> package (<a href="https://r-forge.r-project.org/projects/eat/">https://r-forge.r-project.org/projects/eat/</a>)
for elaborate functionality for communication of ConQuest with <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

library(sirt)
library(WrightMap)
# In the following, ConQuest will also be used for estimation.
path.conquest &lt;- "C:/Conquest"             # path of the ConQuest console.exe
setwd( "p:/my_files/ConQuest_analyses" )  # working directory

#############################################################################
# EXAMPLE 01: Rasch model data.cqc01
#############################################################################

data(data.cqc01)
dat &lt;- data.cqc01

#********************************************
#*** Model 01: Estimate Rasch model
mod01 &lt;- TAM::tam.mml(dat)
summary(mod01)

#------- ConQuest

# estimate model
cmod01 &lt;- sirt::R2conquest( dat, name="mod01", path.conquest=path.conquest)
summary(cmod01)   # summary output
# read shw file with some terms
shw01a &lt;- sirt::read.show( "mod01.shw" )
cmod01$shw.itemparameter
# read person item maps
pi01a &lt;- sirt::read.pimap( "mod01.shw" )
cmod01$shw.pimap
# read plausible values (npv=10 plausible values)
pv01a &lt;- sirt::read.pv(pvfile="mod01.pv", npv=10)
cmod01$person

# read ConQuest model
res01a &lt;- WrightMap::CQmodel(p.est="mod01.wle", show="mod01.shw", p.type="WLE" )
print(res01a)
# plot item fit
WrightMap::fitgraph(res01a)
# Wright map
plot(res01a, label.items.srt=90 )

#############################################################################
# EXAMPLE 02: Partial credit model and rating scale model data.cqc02
#############################################################################

data(data.cqc02)
dat &lt;- data.cqc02

#********************************************
# Model 02a: Partial credit model in ConQuest parametrization 'item+item*step'
mod02a &lt;- TAM::tam.mml( dat, irtmodel="PCM2" )
summary(mod02a, file="mod02a")
fit02a &lt;- TAM::tam.fit(mod02a)
summary(fit02a)

#--- ConQuest
# estimate model
maxK &lt;- max( dat, na.rm=TRUE )
cmod02a &lt;- sirt::R2conquest( dat, itemcodes=0:maxK, model="item+item*step",
               name="mod02a", path.conquest=path.conquest)
summary(cmod02a)   # summary output

# read ConQuest model
res02a &lt;- WrightMap::CQmodel(p.est="mod02a.wle", show="mod02a.shw", p.type="WLE" )
print(res02a)
# Wright map
plot(res02a, label.items.srt=90 )
plot(res02a, item.table="item")

#********************************************
# Model 02b: Rating scale model
mod02b &lt;- TAM::tam.mml( dat, irtmodel="RSM" )
summary( mod02b )

#############################################################################
# EXAMPLE 03: Faceted Rasch model for rating data data.cqc03
#############################################################################

data(data.cqc03)
# select items
resp &lt;- data.cqc03[, c("crit1","crit2") ]

#********************************************
# Model 03a: 'item+step+rater'
mod03a &lt;- TAM::tam.mml.mfr( resp, facets=data.cqc03[,"rater",drop=FALSE],
            formulaA=~ item+step+rater, pid=data.cqc03$pid )
summary( mod03a )

#--- ConQuest
X &lt;- data.cqc03[,"rater",drop=FALSE]
X$rater &lt;- as.numeric(substring( X$rater, 2 )) # convert 'rater' in numeric format
maxK &lt;- max( resp, na.rm=TRUE)
cmod03a &lt;- sirt::R2conquest( resp,  X=X, regression="",  model="item+step+rater",
             name="mod03a", path.conquest=path.conquest, set.constraints="cases" )
summary(cmod03a)   # summary output

# read ConQuest model
res03a &lt;- WrightMap::CQmodel(p.est="mod03a.wle", show="mod03a.shw", p.type="WLE" )
print(res03a)
# Wright map
plot(res03a)

#********************************************
# Model 03b: 'item:step+rater'
mod03b &lt;- TAM::tam.mml.mfr( resp, facets=data.cqc03[,"rater",drop=FALSE],
            formulaA=~ item + item:step+rater, pid=data.cqc03$pid )
summary( mod03b )

#********************************************
# Model 03c: 'step+rater' for first item 'crit1'
# Restructuring the data is necessary.
# Define raters as items in the new dataset 'dat1'.
persons &lt;- unique( data.cqc03$pid )
raters &lt;- unique( data.cqc03$rater )
dat1 &lt;- matrix( NA, nrow=length(persons), ncol=length(raters) + 1 )
dat1 &lt;- as.data.frame(dat1)
colnames(dat1) &lt;- c("pid", raters )
dat1$pid &lt;- persons
for (rr in raters){
    dat1.rr &lt;- data.cqc03[ data.cqc03$rater==rr, ]
    dat1[ match(dat1.rr$pid, persons),rr] &lt;- dat1.rr$crit1
        }
  ##   &gt; head(dat1)
  ##       pid R11 R12 R13 R14 R15 R16 R17 R18 R19 R20 R21 R22 R23 R24 R25 R26
  ##   1 10001   2   2  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA
  ##   2 10002  NA  NA   2   1  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA
  ##   3 10003  NA  NA   3   2  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA
  ##   4 10004  NA  NA   2   1  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA
  ##   5 10005  NA  NA   1   1  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA
  ##   6 10006  NA  NA   1   1  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA
# estimate model 03c
mod03c &lt;- TAM::tam.mml( dat1[,-1], pid=dat1$pid )
summary( mod03c )

#############################################################################
# EXAMPLE 04: Faceted Rasch model for rating data data.cqc04
#############################################################################

data(data.cqc04)
resp &lt;- data.cqc04[,4:8]
facets &lt;- data.cqc04[, c("rater", "topic") ]

#********************************************
# Model 04a: 'item*step+rater+topic'
formulaA &lt;- ~ item*step + rater + topic
mod04a &lt;- TAM::tam.mml.mfr( resp, facets=facets,
            formulaA=formulaA, pid=data.cqc04$pid )
summary( mod04a )

#********************************************
# Model 04b: 'item*step+rater+topic+item*rater+item*topic'
formulaA &lt;- ~ item*step + rater + topic + item*rater + item*topic
mod04b &lt;- TAM::tam.mml.mfr( resp, facets=facets,
            formulaA=formulaA, pid=data.cqc04$pid )
summary( mod04b )

#********************************************
# Model 04c: 'item*step' with fixing rater and topic parameters to zero
formulaA &lt;- ~ item*step + rater + topic
mod04c0 &lt;- TAM::tam.mml.mfr( resp, facets=facets,
            formulaA=formulaA, pid=data.cqc04$pid, control=list(maxiter=4) )
summary( mod04c0 )
# fix rater and topic parameter to zero
xsi.est &lt;- mod04c0$xsi
xsi.fixed &lt;- cbind( seq(1,nrow(xsi.est)), xsi.est$xsi )
rownames(xsi.fixed) &lt;- rownames(xsi.est)
xsi.fixed &lt;- xsi.fixed[ c(8:13),]
xsi.fixed[,2] &lt;- 0
  ##   &gt; xsi.fixed
  ##             [,1] [,2]
  ##   raterAM      8    0
  ##   raterBE      9    0
  ##   raterCO     10    0
  ##   topicFami   11    0
  ##   topicScho   12    0
  ##   topicSpor   13    0
mod04c1 &lt;- TAM::tam.mml.mfr( resp, facets=facets,
             formulaA=formulaA, pid=data.cqc04$pid, xsi.fixed=xsi.fixed )
summary( mod04c1 )

#############################################################################
# EXAMPLE 05: Partial credit model with latent regression and
#             plausible value imputation
#############################################################################

data(data.cqc05)
resp &lt;- data.cqc05[, -c(1:3) ] # select item responses

#********************************************
# Model 05a: Partial credit model
mod05a &lt;-tam.mml(resp=resp, irtmodel="PCM2" )

#********************************************
# Model 05b: Partial credit model with latent regressors
mod05b &lt;-tam.mml(resp=resp, irtmodel="PCM2",  Y=data.cqc05[,1:3] )
# Plausible value imputation
pvmod05b &lt;- TAM::tam.pv( mod05b )

## End(Not run)
</code></pre>


</div>