<div class="container">

<table style="width: 100%;"><tr>
<td>check_tongfen_areas</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check geographic integrety</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt="[Maturing]"></a>
</p>
<p>Sanity check for areas of estimated tongfen correspondence. This is useful if for example the total extent
of geo1 and geo2 differ and there are regions at the edges with large difference in overlap.
</p>


<h3>Usage</h3>

<pre><code class="language-R">check_tongfen_areas(data, correspondence)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>alist of geogrpahic data of class sf</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correspondence</code></td>
<td>
<p>Correspondence table with columns the unique geographic identifiers for each of the
geographies and the TongfenID (and optionally TongfenUID and TongfenMethod)
returned by 'estimate_tongfen_correspondence'.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A table with columns 'TongfenID', geo_identifiers, the areas of the aggregated regions
corresponding to each geographic identifier column, the tongfen estimation method and the maximum log ratio
of the areas.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Estimate a common geography for 2006 and 2016 dissemination areas in the City of Vancouver
# based on the geographic data and check estimation errors
## Not run: 
regions &lt;- list(CSD="5915022")

data_06 &lt;- cancensus::get_census("CA06",regions=regions,geo_format='sf',level="DA") %&gt;%
  rename(GeoUID_06=GeoUID)
data_16 &lt;- cancensus::get_census("CA16",regions=regions,geo_format="sf",level="DA") %&gt;%
  rename(GeoUID_16=GeoUID)

correspondence &lt;- estimate_tongfen_correspondence(list(data_06, data_16),
                                                  c("GeoUID_06","GeoUID_16"))

area_check &lt;- check_tongfen_areas(list(data_06, data_16),correspondence)

## End(Not run)
</code></pre>


</div>