<div class="container">

<table style="width: 100%;"><tr>
<td>confint</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Confidence intervals for areas under time-dependent ROC curves
</h2>

<h3>Description</h3>

<p>This function computes pointwise confidence interval and simultaneous
confidence bands for areas under time-dependent ROC curves
(time-dependent AUC). Pointwise confidence intervals and simultaneous
confidence bands are computed from the asymptotic normality of
time-dependent AUC estimators. Standard errors are estimated from the iid-representation of the
estimator. The method is at present only implemented for inverse
probability of censoring weights computed from a Kaplan-Meier estimator. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'ipcwsurvivalROC'
confint(object, parm=NULL, level = 0.95,n.sim=2000, ...)
## S3 method for class 'ipcwcompetingrisksROC'
confint(object, parm=NULL, level = 0.95,n.sim=2000, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p> An object of class "ipcwsurvivalROC" or "ipcwcompetingrisksROC". The object <code>object</code> must have been estimated by the <code>timeROC</code> function with arguments <code>weighting="marginal"</code> and <code>iid = TRUE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parm</code></td>
<td>
<p> Dummy argument. (Not used).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p> The confidence level required. Default is <code>0.95</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.sim</code></td>
<td>
<p> The number of simulations for computing simultaneous
confidence bands.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Dummy argument. (Not used).
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Time-dependent AUC estimators are asymptotically normally distributed. Then, confidence intervals are computed using an estimate of the variance and the quantiles of the standard normal distribution.
To compute the variance estimates, the function computes  the empirical
variance estimates of the estimated iid-representations of the
time-dependent AUC estimators.
A simulation technique is used for computing appropriate quantiles of
simultaneous confidence bands.
</p>


<h3>Value</h3>

<p><b>Without competing risks,</b> a list containing :
</p>

<ul>
<li> <p><code>CI_AUC</code> : a matrix.   Columns correspond to the lower
and the upper bounds of the pointwise confidence intervals of AUC. Rows
correspond to the  time points for which time-dependent AUC estimator was computed.
</p>
</li>
<li> <p><code>CB_AUC</code> : a matrix.   Columns correspond to the lower
and the upper bounds of the simultaneous confidence band of the AUC curve. Rows
correspond to the  time points for which time-dependent AUC estimator was computed.
</p>
</li>
<li> <p><code>C.alpha</code> : a numeric value corresponding to the quantile
required for simultaneous confidence band computation (estimated by
simulations).
</p>
</li>
</ul>
<p><b>With competing risks,</b> a list containing :
</p>

<ul>
<li> <p><code>CI_AUC_1</code> : a matrix.   Columns correspond to the lower
and the upper bounds of the pointwise confidence intervals of AUC
with definition <b>(i)</b> of controls. Rows correspond to the  time
points for which time-dependent AUC estimator was computed.
</p>
</li>
<li> <p><code>CB_AUC_1</code> : a matrix.   Columns correspond to the lower
and the upper bounds of  the simultaneous confidence band of the AUC curve
with definition <b>(i)</b> of controls. Rows correspond to the  time
points for which time-dependent AUC estimator was computed.
</p>
</li>
<li> <p><code>C.alpha.1</code> : a numeric value corresponding to the quantile
required for simultaneous confidence bands computation <code>CB_AUC_1</code> (estimated by
simulations).
</p>
</li>
</ul>
<ul>
<li> <p><code>CI_AUC_2</code> : a matrix.   Columns correspond to the lower
and the upper bounds of the pointwise confidence intervals of AUC
with definition <b>(ii)</b> of controls. Rows correspond to the  time
points for which time-dependent AUC estimator was computed.
</p>
</li>
<li> <p><code>CB_AUC_2</code> : a matrix.   Columns correspond to the lower
and the upper bounds of the simultaneous confidence band  of the AUC curve
with definition <b>(ii)</b> of controls. Rows correspond to the  time
points for which time-dependent AUC estimator was computed.
</p>
</li>
<li> <p><code>C.alpha.2</code> : a numeric value corresponding to the quantile
required for simultaneous confidence band computation <code>CB_AUC_2</code> (estimated by
simulations).
</p>
</li>
</ul>
<p>For AUC definitions <b>(i)</b> and <b>(ii)</b>, see details about <code>timeROC</code> function.
</p>


<h3>Author(s)</h3>

<p>Paul Blanche <a href="mailto:pabl@sund.ku.dk">pabl@sund.ku.dk</a>
</p>


<h3>References</h3>

<p>Hung, H. and Chiang, C. (2010). Estimation methods for time-dependent AUC with survival data.
Canadian Journal of Statistics, 38(1):8-26
</p>
<p>Blanche, P., Dartigues, J. F., &amp; Jacqmin-Gadda,	H. (2013). Estimating and comparing time-dependent areas under
receiver operating characteristic curves for censored event times with competing risks. 
Statistics in medicine, 32(30), 5381-5397.
</p>


<h3>See Also</h3>

<p><code>timeROC</code>, <code>compare</code>, <code>plotAUCcurve</code>, <code>plotAUCcurveDiff</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">##-------------Without competing risks-------------------
library(survival)
data(pbc)
head(pbc)
pbc&lt;-pbc[!is.na(pbc$trt),] # select only randomised subjects
pbc$status&lt;-as.numeric(pbc$status==2) # create event indicator: 1 for death, 0 for censored

# we evaluate bilirubin as a prognostic biomarker for death.
ROC.bili&lt;-timeROC(T=pbc$time,
                  delta=pbc$status,marker=pbc$bili,
                  cause=1,weighting="marginal",
                  times=quantile(pbc$time,probs=seq(0.2,0.8,0.1)),
                  iid=TRUE)
ROC.bili
confint(ROC.bili)


##-------------With competing risks-------------------

data(Melano)
head(Melano)

# Evaluate tumor thickness as a prognostic biomarker for
# death from malignant melanoma.
ROC.thick&lt;-timeROC(T=Melano$time,delta=Melano$status,
                   marker=Melano$thick,cause=1,
                   times=quantile(Melano$time,probs=seq(0.2,0.8,0.2)),
                   iid=TRUE)
ROC.thick
confint(ROC.thick)

## Not run: 
	data(Paquid)
	head(Paquid)
	
	# Computation requires approximately 30 seconds 
	# (because iid=TRUE and n=2561 subjects)	
	# evaluate DDST cognitive score as a prognostic tool for
	# dementia onset, accounting for death without dementia competing risk.	
	ROC.DSST&lt;-timeROC(T=Paquid$time,
                      delta=Paquid$status,marker=-Paquid$DSST,
                      cause=1,weighting="marginal",times=c(3,5),
                      ROC=TRUE,iid=TRUE)
	ROC.DSST
	confint(ROC.DSST)

## End(Not run) 
</code></pre>


</div>