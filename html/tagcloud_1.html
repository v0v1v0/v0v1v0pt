<div class="container">

<table style="width: 100%;"><tr>
<td>plot.tagcloud</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tag and Word Clouds</h2>

<h3>Description</h3>

<p>Functions to create and display plots called tag clouds, word clouds or
weighted lists, in which a usually large number of words is displayed in
size correlated with a numerical value (for example, frequency in a text or
enrichment of a GO term). This makes it easier to visualize the prominence
of certain tags or words. Also, it looks nice.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'tagcloud'
plot(x, family = NULL, add = FALSE, with.box = FALSE,
  col = NULL, sel = NULL, ...)

## S3 method for class 'tagcloud'
summary(object, ...)

tagcloud(tags, weights = 1, algorithm = "oval", scale = "auto",
  scale.multiplier = 1, order = "size", sel = NULL, wmin = NULL,
  wmax = NULL, floor = 1, ceiling = 3, family = NULL, col = NULL,
  fvert = 0, plot = TRUE, add = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x,object</code></td>
<td>
<p>An object of the type produced by tagcloud.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>Font family to use, a vector containing font families to use
for each tag. For the <code>tagcloud</code> function, the special keyword "random"
can be used to assign random families (requires the extrafont package).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>If TRUE, the tags will be added to the current plot instead of
creating a new plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>with.box</code></td>
<td>
<p>If TRUE, a rectangle will be plotted around each tag.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Color or a vector containing colors to use for drawing the tags.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sel</code></td>
<td>
<p>An integer or boolean vector indicating which terms from the
provided list will be used to plot. The vectors <code>col</code> and
<code>weights</code> will be filtered accordingly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tags</code></td>
<td>
<p>A character vector containing words or tags to be shown on the
plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>A numeric vector giving the relative proportions of text size
corresponding to the given tag.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>algorithm</code></td>
<td>
<p>Name of the algorithm to use. Can be "oval", "fill",
"random", "snake", "list" or "clist". See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>If "auto", text expansion will be calculated automatically to
fit the available space. Otherwise, a numeric value used to modify the
calculated text sizes; tune scale to achieve a better fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale.multiplier</code></td>
<td>
<p>Multiplier for the final calculated text expansion
parameter. Increase if there is too much empty space around the tag cloud;
decrease if the tags go over the plot boundaries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>Determines in which order the tags will be drawn. Can be
"size", "keep", "random", "height" or "width". See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wmin</code></td>
<td>
<p>All items in the <code>weights</code> vector smaller than <code>wmin</code>
will be changed to <code>wmin</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wmax</code></td>
<td>
<p>All items in the <code>weights</code> vector larger than <code>wmax</code>
will be changed to <code>wmax</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>floor</code></td>
<td>
<p>Minimal text size. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ceiling</code></td>
<td>
<p>Maximal text size. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fvert</code></td>
<td>
<p>Fraction of tags which will be rotated by 90 degrees
counterclockwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>If FALSE, no plot will be produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to be passed to downstream methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The package <code>tagcloud</code> creates and plots tag clouds (word clouds).  The
algorithms in the package have been designed specifically with long tags
(such as GO Term descriptions) in mind.
</p>


<h4>Term ordering</h4>

<p>The available arguments are as follows:
</p>

<ul>
<li>
<p> size – tags are ordered by size, that is, their effective
width multiplied by their effective height. Default.
</p>
</li>
<li>
<p> keep – keep the order from the list of words provided
</p>
</li>
<li>
<p> random – randomize the tag list
</p>
</li>
<li>
<p> width – order by effective screen width
</p>
</li>
<li>
<p> height – order by effective screen height
</p>
</li>
</ul>
<p>By default, prior to plotting terms are ordered by size.
</p>



<h4>Algorithms</h4>

<p>There are four algorithms for placing tags on the
plot implemented in tagcloud.
</p>

<ul>
<li>
<p> oval – creates an oval cloud.
</p>
</li>
<li>
<p> fill – an attempt will
be made to fill the available space
</p>
</li>
<li>
<p> random – randomly distribute tags
over the available space.  This algorithm is slow and not very effective
</p>
</li>
<li>
<p> snake – tags are placed clockwise around the first tag to plot
</p>
</li>
<li>
<p> list – create a list, one tag directly beneath another, justified left
</p>
</li>
<li>
<p> clist – create a list, one tag directly beneath another, centered
</p>
</li>
</ul>
<p>Algorithms <code>oval</code>, <code>fill</code> and <code>random</code> attempt to fill the
available space by adjusting the scaling factor for the font sizes. </p>



<h4>Calculation of tag sizes</h4>

<p>Placing tags such that the empty space
between the tags is minimized poses a non-trivial problem, because the
effective bounding box of a displayed text is not linearly dependent on the
<code>cex</code> parameter.
</p>
<p>In tagcloud, first a <code>cex</code> parameter is calculated for each tag
separately, based on the parameters <code>floor</code>, <code>ceiling</code> and the
vector of weights. Note that all weights smaller than <code>wmin</code> are
replaced by <code>wmin</code> and all weights larger than <code>wmax</code> are replaced
by <code>wmax</code>. Then, effective heights and widths of the tags to be
displayed are calculated using the <code>strwidth</code> and
<code>strheight</code> functions.
</p>
<p>Unless the argument <code>scale</code> is different from "auto", a scaling
parameter for <code>cex</code> is automatically calculated based on the current
area of the tags and the available plotting area. This usually results in a
reasonable plot, but is neither guaranteed to occupy all of the available
space without margins, nor that no tag will cross the view port.
</p>



<h3>Value</h3>

<p><code>tagcloud</code> returns an object of the <code>tagcloud-class</code>, which really
is a data frame with the following columns:
</p>

<ul>
<li>
<p><code>tags</code> – the tags, words or phrases shown on the plot
</p>
</li>
<li>
<p><code>weights</code> – a numeric vector that is used to calculate the size
of the plotted tags
</p>
</li>
<li>
<p><code>family</code> – name of the font family to be used in plotting
</p>
</li>
<li>
<p><code>vertical</code> – whether the tag should be rotated by 90
degrees counter-clockwise
</p>
</li>
<li>
<p><code>x</code>,<code>y</code> – coordinates of the left
lower corner of the tags bounding box
</p>
</li>
<li>
<p><code>w</code>,<code>h</code> – width and height of the bounding box
</p>
</li>
<li>
<p><code>cex</code> – text expansion factor, see <code>par</code>
</p>
</li>
<li>
<p><code>s</code> – surface of the tag (width x height)
</p>
</li>
</ul>
<p>The object of the <code>tagcloud</code> class can be manipulated using
<code>editor.tagcloud</code> and displayed using <code>plot</code>,
<code>print</code> and <code>summary</code> functions.
</p>


<h3>Note</h3>

<p>Care should be taken when using extra fonts loaded by the extrafont
package; not all fonts can be easily copied to a PDF file.
</p>
<p>Some ideas in this package are based on the 'wordcloud' package by Ian
Fellows.
</p>


<h3>Author(s)</h3>

<p>January Weiner &lt;january.weiner@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code>editor.tagcloud</code> – interactive editing of tagcloud
objects.
</p>
<p><code>strmultline</code> – splitting multi-word sentences into lines for a
better cloud display.
</p>
<p><code>smoothPalette</code> – mapping values onto a color gradient.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># a rather boring tag cloud
data( gambia )
terms &lt;- gambia$Term
tagcloud( terms )

# tag cloud with weights relative to P value
# colors relative to odds ratio, from light
# grey to black
weights &lt;- -log( gambia$Pvalue )
colors  &lt;- smoothPalette( gambia$OddsRatio, max=4 )
tagcloud( terms, weights, col= colors, algorithm= "oval" )

# tag cloud filling the whole plot
tagcloud( terms, weights, col= colors, algorithm= "fill" )

# just a list of only the first ten terms
tagcloud( terms, weights, sel= 1:10,
          col= colors, algorithm= "list", order= "width" )

# oval, with line breaks in terms
terms &lt;- strmultline( gambia$Term )
tagcloud( terms, weights, col= colors, algorithm= "oval" )

## Not run: 
# shows available font families, scaled according to
# the total disk space occupied by the fonts
require( extrafont )
ft &lt;- fonttable()
fi &lt;- file.info( fonttable()$fontfile )
families &lt;- unique( ft$FamilyName )
sizes    &lt;- sapply( families,function( x ) sum( fi[ ft$FamilyName == x, "size" ] ) )
tagcloud( families, sizes, family= families )

## End(Not run)
</code></pre>


</div>