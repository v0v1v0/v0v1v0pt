<div class="container">

<table style="width: 100%;"><tr>
<td>nested_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare a parameter-long data frame for statistical analysis</h2>

<h3>Description</h3>

<p>Prepare a parameter-long data frame for statistical analysis
</p>


<h3>Usage</h3>

<pre><code class="language-R">nested_data(
  .data,
  qualifiers = NULL,
  key = NULL,
  value,
  fill = NA,
  select_if = ~TRUE,
  filter_all = any_vars(TRUE),
  trans = identity,
  groups = NULL
)

unnested_data(.data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>Data in parameter-long form</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qualifiers</code></td>
<td>
<p>Columns that add context to observations (e.g., depth, zone, core)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>The column name that contains the column names of the data matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>The column name that contains the values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>If a key/value combination doesn't exist in the input, this value will be
assigned in the data matrix. Generally, using NA for geochemical data and 0 for relative
abundance data is advised.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select_if</code></td>
<td>
<p>Use <code>~TRUE</code> to keep all columns; use <code>~all(is.finite(.))</code> to keep columns
with all finite values. See select_if.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter_all</code></td>
<td>
<p>Use <code>any_vars(TRUE)</code> to keep all observations; use <code>all_vars(is.finite(.))</code> to
keep only observations with finite (non-missing) values. See filter_all.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trans</code></td>
<td>
<p>A function that will be applied to all columns, column-wise. Use identity
to perform no transformation, use scale to scale each column to a mean of zero and
variance of 1. See mutate_all.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>Use group_by or this argument to group by one or more columns (e.g., core or lake)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>One or more columns to unnest.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A nested data matrix, which is composed of a <code>tibble::tibble()</code>
with tibble list-columns <code>data</code>, <code>discarded_rows</code>, <code>discarded_columns</code>, and
<code>qualifiers</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">nested_data(
  alta_lake_geochem,
  qualifiers = c(age, depth, zone),
  key = param,
  value = value,
  trans = scale
)

</code></pre>


</div>