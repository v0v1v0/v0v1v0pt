<div class="container">

<table style="width: 100%;"><tr>
<td>gen_keyframe</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generator for keyframe based tweening</h2>

<h3>Description</h3>

<p>This is a generator version of <code>tween_state()</code> and its utility functions. It
returns a generator that can be used with <code>get_frame()</code> and
<code>get_raw_frames()</code> to extract frames for a specific time point scaled between
0 and 1.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gen_keyframe(keyframe = NULL, pause = 0)

add_pause(.data, pause = 0)

add_keyframe(
  .data,
  keyframe,
  ease,
  length,
  id = NULL,
  enter = NULL,
  exit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>keyframe</code></td>
<td>
<p>A data frame to use as a keyframe state</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pause</code></td>
<td>
<p>The length of the pause at the current keyframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>A data.frame to start from. If <code>.data</code> is the result of a prior
tween, only the last frame will be used for the tween. The new tween will
then be added to the prior tween</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ease</code></td>
<td>
<p>The easing function to use. Either a single string or one for
each column in the data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length</code></td>
<td>
<p>The length of the transition</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>The column to match observations on. If <code>NULL</code> observations will be
matched by position. See the <em>Match, Enter, and Exit</em> section for more
information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enter, exit</code></td>
<td>
<p>functions that calculate a start state for new observations
that appear in <code>to</code> or an end state for observations that are not present in
<code>to</code>. If <code>NULL</code> the new/old observations will not be part of the tween. The
function gets a data.frame with either the start state of the exiting
observations, or the end state of the entering observations and must return
a modified version of that data.frame. See the <em>Match, Enter, and Exit</em>
section for more information.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>keyframe_generator</code> object
</p>


<h3>See Also</h3>

<p>Other Other generators: 
<code>gen_along()</code>,
<code>gen_at()</code>,
<code>gen_components()</code>,
<code>gen_events()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">df1 &lt;- data.frame(
  country = c('Denmark', 'Sweden', 'Norway'),
  population = c(5e6, 10e6, 3.5e6)
)
df2 &lt;- data.frame(
  country = c('Denmark', 'Sweden', 'Norway', 'Finland'),
  population = c(6e6, 10.5e6, 4e6, 3e6)
)
df3 &lt;- data.frame(
  country = c('Denmark', 'Norway'),
  population = c(10e6, 6e6)
)
to_zero &lt;- function(x) {
  x$population &lt;- 0
  x
}
gen &lt;- gen_keyframe(df1, 10) %&gt;%
  add_keyframe(df2, 'cubic-in-out', 35, id = country, enter = to_zero) %&gt;%
  add_pause(10) %&gt;%
  add_keyframe(df3, 'cubic-in-out', 35, id = country, enter = to_zero,
               exit = to_zero) %&gt;%
  add_pause(10)

get_frame(gen, 0.25)
</code></pre>


</div>