<div class="container">

<table style="width: 100%;"><tr>
<td>writeRaster</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Write raster data to a file</h2>

<h3>Description</h3>

<p>Write a SpatRaster to a file. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'SpatRaster,character'
writeRaster(x, filename, overwrite=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>SpatRaster</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>character. Output filename. Can be a single filename, or as many filenames as <code>nlyr(x)</code> to write a file for each layer</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>logical. If <code>TRUE</code>, <code>filename</code> is overwritten</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments for for writing files. See Details </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In writeRaster, and in other methods that generate SpatRasters, options for writing raster files to disk can be provided as additional arguments or, in a few cases, as the <code>wopt</code> argument (a named list) if the additional arguments are already used for a different purpose. See <code>terraOptions</code> to get or set default values. The following options are available: 
</p>

<table>
<tr>
<td style="text-align: left;">
<b>name</b> </td>
<td style="text-align: left;"> <b>description</b>
</td>
</tr>
<tr>
<td style="text-align: left;">

<code>datatype</code>
</td>
<td style="text-align: left;"> values accepted are "INT1U", "INT2U", "INT2S", "INT4U", "INT4S", "FLT4S", "FLT8S". With GDAL &gt;= 3.5 you can also use "INT8U" and "INT8S". And with GDAL &gt;= 3.7 you can use also use "INT1S". See <code>gdal</code> to discover the GDAL version you are using.
The first three letters indicate whether the datatype is an integer (whole numbers) of a real number ("float", decimal numbers), the fourth character indicates the number of bytes used for each number. Higher values allow for storing larger numbers and/or more precision; but create larger files. The  "S" or "U" indicate whether the values are signed (both negative and positive) or unsigned (zero and positive values only).</td>
</tr>
<tr>
<td style="text-align: left;">

<code>filetype</code>
</td>
<td style="text-align: left;"> file format expresses as <a href="https://gdal.org/en/latest/drivers/raster/index.html">GDAL driver names</a>. If this argument is not supplied, the driver is derived from the filename. You can use <code>gdal(drivers=TRUE)</code> to see what drivers are available in your installation</td>
</tr>
<tr>
<td style="text-align: left;">

<code>gdal</code>
</td>
<td style="text-align: left;"> GDAL driver specific datasource creation options. See the GDAL documentation. For example, with the <a href="https://gdal.org/en/latest/drivers/raster/gtiff.html">GeoTiff file format</a> you can use <code>gdal=c("COMPRESS=DEFLATE", "TFW=YES")</code>.</td>
</tr>
<tr>
<td style="text-align: left;">

<code>tempdir</code>
</td>
<td style="text-align: left;"> the path where temporary files are to be written to.</td>
</tr>
<tr>
<td style="text-align: left;">

<code>progress</code>
</td>
<td style="text-align: left;"> positive integer. If the number of chunks is larger, a progress bar is shown.</td>
</tr>
<tr>
<td style="text-align: left;">

<code>memfrac</code>
</td>
<td style="text-align: left;"> numeric between 0 and 0.9 (higher values give a warning). The fraction of available RAM that terra is allowed to use.</td>
</tr>
<tr>
<td style="text-align: left;">

<code>memmax</code>
</td>
<td style="text-align: left;"> memmax - the maximum amount of RAM (in GB) that terra can use when processing a raster dataset. Should be less than what is detected (see <code>mem_info</code>, and higher values are ignored. Set it to a negative number or NA to ignore this value). </td>
</tr>
<tr>
<td style="text-align: left;">

<code>names</code>
</td>
<td style="text-align: left;"> output layer names.</td>
</tr>
<tr>
<td style="text-align: left;">

<code>NAflag</code>
</td>
<td style="text-align: left;"> numeric. value to represent missing (<code>NA</code> or <code>NaN</code>) values. See note</td>
</tr>
<tr>
<td style="text-align: left;">

<code>scale</code>
</td>
<td style="text-align: left;"> numeric. Cell values written to disk are divided by this value (default is 1). See <code>scoff</code>
</td>
</tr>
<tr>
<td style="text-align: left;">

<code>offset</code>
</td>
<td style="text-align: left;"> numeric. Value that is subtracted from the cell values written to disk (default is 0). See 
<code>scoff</code> </td>
</tr>
<tr>
<td style="text-align: left;">

<code>verbose</code>
</td>
<td style="text-align: left;"> logical. If <code>TRUE</code> debugging information is printed</td>
</tr>
<tr>
<td style="text-align: left;">

<code>steps</code>
</td>
<td style="text-align: left;"> positive integers. In how many steps (chunks) do you want to process the data (for debugging)</td>
</tr>
<tr>
<td style="text-align: left;">

<code>todisk</code>
</td>
<td style="text-align: left;"> logical. If <code>TRUE</code> processing operates as if the dataset is very large and needs to be written to a temporary file (for debugging).</td>
</tr>
<tr>
<td style="text-align: left;">

</td>
</tr>
</table>
<h3>Value</h3>

<p>SpatRaster. This function is used for the side-effect of writing values to a file.
</p>


<h3>Note</h3>

<p>GeoTiff files are, by default, written with LZW compression. If you do not want compression, use <code>gdal="COMPRESS=NONE"</code>.
</p>
<p>When writing integer values the lowest available value (given the datatype) is used to represent <code>NA</code> for signed types, and the highest value is used for unsigned values. This can be a problem with byte data (between 0 and 255) as the value 255 is reserved for <code>NA</code>. To keep the value 255, you need to set another value as <code>NAflag</code>, or do not set a <code>NAflag</code> (with <code>NAflag=NA</code>)
</p>


<h3>See Also</h3>

<p>see <code>writeCDF</code> for writing NetCDF files.
</p>


<h3>Examples</h3>

<pre><code class="language-R">r &lt;- rast(nrows=5, ncols=5, vals=1:25)

# create a temporary filename for the example
f &lt;- file.path(tempdir(), "test.tif")

writeRaster(r, f, overwrite=TRUE)

writeRaster(r, f, overwrite=TRUE, gdal=c("COMPRESS=NONE", "TFW=YES"), datatype='INT1U')

## Or with a wopt argument:

writeRaster(r, f, overwrite=TRUE, wopt= list(gdal=c("COMPRESS=NONE"), datatype='INT1U'))

## remove the file
unlink(f)
</code></pre>


</div>