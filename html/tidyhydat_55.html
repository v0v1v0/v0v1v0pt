<div class="container">

<table style="width: 100%;"><tr>
<td>realtime_dd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download a tibble of realtime river data from the last 30 days from the Meteorological Service of Canada datamart</h2>

<h3>Description</h3>

<p>Download realtime river data from the last 30 days from the Meteorological Service of Canada (MSC) datamart.
The function will prioritize downloading data collected at the highest resolution. In instances where data is
not available at high (hourly or higher) resolution daily averages are used. Currently, if a station does not
exist or is not found, no data is returned.
</p>


<h3>Usage</h3>

<pre><code class="language-R">realtime_dd(station_number = NULL, prov_terr_state_loc = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>station_number</code></td>
<td>
<p>A seven digit Water Survey of Canada station number. If this argument is omitted, the value of <code>prov_terr_state_loc</code>
is returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prov_terr_state_loc</code></td>
<td>
<p>Province, state or territory. If this argument is omitted, the value of <code>station_number</code>
is returned. See <code>unique(allstations$prov_terr_state_loc)</code>. Will also accept <code>CA</code> to return only Canadian stations.</p>
</td>
</tr>
</table>
<h3>Format</h3>

<p>A tibble with 8 variables:
</p>

<dl>
<dt>STATION_NUMBER</dt>
<dd>
<p>Unique 7 digit Water Survey of Canada station number</p>
</dd>
<dt>PROV_TERR_STATE_LOC</dt>
<dd>
<p>The province, territory or state in which the station is located</p>
</dd>
<dt>Date</dt>
<dd>
<p>Observation date and time for last thirty days. Formatted as a POSIXct class in UTC for consistency.</p>
</dd>
<dt>Parameter</dt>
<dd>
<p>Parameter being measured. Only possible values are Flow and Level</p>
</dd>
<dt>Value</dt>
<dd>
<p>Value of the measurement. If Parameter equals Flow the units are m^3/s.
If Parameter equals Level the units are metres.</p>
</dd>
<dt>Grade</dt>
<dd>
<p>reserved for future use</p>
</dd>
<dt>Symbol</dt>
<dd>
<p>reserved for future use</p>
</dd>
<dt>Code</dt>
<dd>
<p>quality assurance/quality control flag for the discharge</p>
</dd>
<dt>station_tz</dt>
<dd>
<p>Station timezone based on tidyhydat::allstations$station_tz</p>
</dd>
</dl>
<h3>Value</h3>

<p>A tibble of water flow and level values. The date and time of the query (in UTC) is also
stored as an attribute.
</p>


<h3>See Also</h3>

<p>Other realtime functions: 
<code>realtime_stations()</code>,
<code>realtime_ws()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## Download from multiple provinces
realtime_dd(station_number = c("01CD005", "08MF005"))

## To download all stations in Prince Edward Island:
pei &lt;- realtime_dd(prov_terr_state_loc = "PE")

## Access the time of query
attributes(pei)$query_time

## End(Not run)

</code></pre>


</div>