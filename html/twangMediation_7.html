<div class="container">

<table style="width: 100%;"><tr>
<td>dx.wts.mediation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute diagnostics assessing covariates balance.</h2>

<h3>Description</h3>

<p><code>dx.wts.mediation</code> takes a <code>ps</code> object or a set of propensity scores and
computes diagnostics assessing covariates balance.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dx.wts.mediation(
  x,
  data,
  estimand,
  vars = NULL,
  treat.var,
  x.as.weights = TRUE,
  sampw = NULL,
  perm.test.iters = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A data frame, matrix, or vector of propensity score weights or a ps
object. <code>x</code> can also be a data frame, matrix, or vector of
propensity scores if <code>x.as.weights=FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimand</code></td>
<td>
<p>The estimand of interest: either "ATT" or "ATE".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>A vector of character strings naming variables in <code>data</code> on
which to assess balance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat.var</code></td>
<td>
<p>A character string indicating which variable in <code>data</code>
contains the 0/1 treatment group indicator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.as.weights</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> indicating whether <code>x</code>
specifies propensity score weights or propensity scores.
Ignored if <code>x</code> is a ps object. Default: <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampw</code></td>
<td>
<p>Optional sampling weights. If <code>x</code> is a <code>ps</code> object, then the
sampling weights should have been passed to ps and
not specified here. <code>dx.wts.mediation</code> will issue a warning if
<code>x</code> is a ps object and <code>sampw</code> is also specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perm.test.iters</code></td>
<td>
<p>A non-negative integer giving the number of iterations
of the permutation test for the KS statistic. If <code>perm.test.iters=0</code>,
then the function returns an analytic approximation to the p-value. This
argument is ignored is <code>x</code> is a <code>ps</code> object. Setting
<code>perm.test.iters=200</code> will yield precision to within 3% if the true
p-value is 0.05. Use <code>perm.test.iters=500</code> to be within 2%.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Creates a balance table that compares unweighted and weighted means and
standard deviations, computes effect sizes, and KS statistics to assess the
ability of the propensity scores to balance the treatment and control groups.
</p>


<h3>Value</h3>

<p>Returns a list containing
</p>

<ul><li> <p><code>treat</code> The vector of 0/1 treatment assignment indicators.
</p>
</li></ul>
<h3>See Also</h3>

<p><code>wgtmed,bal.table.mediation,
  print.mediation,summary.mediation</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("tMdat")

## tMdat is small simulated data set included in twangMediation for 
## demonstrating the functions. See ?tMdat for details

fit.es.max &lt;- wgtmed(M ~ w1 + w2 + w3,
                      data = tMdat,
                      a_treatment = "A",
                      y_outcome = "Y",
                      total_effect_wts = tMdat$te.wgt,
                      method = "ps",
                      ps_n.trees=1500,
                      ps_shrinkage=0.01,
                      ps_stop.method=c("es.max")
                      )

## dx.wts.mediation is used internally by bal.table.mediation,
##   print.mediation, and summary.mediation

summary(fit.es.max)
</code></pre>


</div>