<div class="container">

<table style="width: 100%;"><tr>
<td>sibp_amce</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Infer Treatments on the Test Set</h2>

<h3>Description</h3>

<p><code>sibp_amce</code> uses an sibp object fitted on a training set to estimate the AMCE with the test set.</p>


<h3>Usage</h3>

<pre><code class="language-R">	  sibp_amce(sibp.fit, X, Y, G = NULL, seed = 0, level = 0.05, thresh = 0.5)
	  sibp_amce_plot(sibp.amce, xlab = "Feature", ylab = "Outcome", subs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sibp.fit</code></td>
<td>
<p>A <code>sibp</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>The covariates for the full data set.  The division between the training and test set is handled inside the function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>The outcomes for the full data set.  The division between the training and test set is handled inside the function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>G</code></td>
<td>
<p>A group membership matrix.  The AMCE for a given treatment is permitted to vary as a function of the individual's group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>The seed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>The level of the confidence intervals to be obtained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thresh</code></td>
<td>
<p>The treatment will = 1 when nu &gt;= thresh and 0 otherwise.  This avoids problems due to misclassification error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sibp.amce</code></td>
<td>
<p>The table returned by codesibp_amce.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>The label for the x-axis of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>The label for the y-axis of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subs</code></td>
<td>
<p>The susbet of the coefficients to plot.  By default, plots all coefficients.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Nothing</p>


<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>sibp.amce</code></td>
<td>
<p>A table where the first column is the index of the treatment, the second column ("effect") is the estimated AMCE, the third column ("L") is the lower bound of the confidence interval, and the fourth column ("U") is the upper bound of the confidence interval.</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Christian Fong</p>


<h3>References</h3>

<p>Fong, Christian and Justin Grimmer.  2016. “Discovery of Treatments from Text Corpora” Proceedings of the 54th Annual Meeting of the Association for Computational Linguistics. <a href="https://aclweb.org/anthology/P/P16/P16-1151.pdf">https://aclweb.org/anthology/P/P16/P16-1151.pdf</a></p>


<h3>See Also</h3>

<p>sibp</p>


<h3>Examples</h3>

<pre><code class="language-R">##Load the sample of Wikipedia biography data
data(BioSample)

# Divide into training and test sets
Y &lt;- BioSample[,1]
X &lt;- BioSample[,-1]
set.seed(1)
train.ind &lt;- sample(1:nrow(X), size = 0.5*nrow(X), replace = FALSE)

# Fit an sIBP on the training data
sibp.fit &lt;- sibp(X, Y, K = 2, alpha = 4, sigmasq.n = 0.8, 
				 train.ind = train.ind)
				 
sibp.amce &lt;- sibp_amce(sibp.fit, X, Y)
sibp_amce_plot(sibp.amce)
</code></pre>


</div>