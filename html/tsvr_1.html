<div class="container">

<table style="width: 100%;"><tr>
<td>aggts</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Aggregates a <code>tsvreq_classic</code> object across a set of timescales; also the constructor function
for class <code>vreq_classic_ag</code>.</h2>

<h3>Description</h3>

<p>All the components of a <code>tsvreq_classic</code> object can be aggregated across an arbitrary 
set of timescales, producing a new variance ratio equation - this function performs that
aggregation. The function returns a <code>vreq_classic_ag</code> object, and is the constructor 
function of that class. The 
<code>vreq_classic_ag</code> class has slots <code>com</code>, <code>comnull</code>, <code>vr</code>, which are
the same as a <code>vreq</code> object, but also has slot <code>ts</code>, which is the timescales
over which aggregation was performed to get the object. The class inherits from <code>vreq</code>,
which inherits from <code>list</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">aggts(obj, ts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>A <code>tsvreq_classic</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ts</code></td>
<td>
<p>The timescales to aggregate over</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Before aggregation is performed, the argument 'ts' is intersected with the 
canonical Fourier timescales greater than or equal to the Nyquist timescale, and the
resulting timescales are then reflected about the Nyquist timescale. This is to 
account for the symmetry of Fourier transforms about the Nyquist frequency. The
'ts' slot of the output object shows the intersected, reflected timescales that were 
actually used for aggregation. See the examples.
</p>


<h3>Value</h3>

<p><code>aggts</code> returns an object of class <code>vreq_classic_ag</code>. Slots are:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>com</code></td>
<td>
<p>the timescale-aggregated value of CVcom2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comnull</code></td>
<td>
<p>the timescale-aggregated value of CVcomip2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vr</code></td>
<td>
<p>the timescale-aggregated value of the classic variance ratio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ts</code></td>
<td>
<p>the timescales over which aggregation was performed</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Shaopeng Wang, <a href="mailto:shaopeng.wang@pku.edu.cn">shaopeng.wang@pku.edu.cn</a>; Lei Zhao, <a href="mailto:lei.zhao@cau.edu.cn">lei.zhao@cau.edu.cn</a>; Daniel Reuman, <a href="mailto:reuman@ku.edu">reuman@ku.edu</a>
</p>


<h3>References</h3>

<p>Zhao et al, (In prep) Decomposition of the variance ratio illuminates timescale-specific
population and community variability.
</p>


<h3>See Also</h3>

<p><code>tsvreq_classic</code>, <code>vreq_classic_ag_methods</code>, 
<code>browseVignettes("tsvr")</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">X&lt;-matrix(runif(10*100),10,100)
h&lt;-tsvreq_classic(X)
res1&lt;-aggts(h,h$ts[h$ts&gt;=4]) 
res2&lt;-aggts(h,h$ts[h$ts&gt;=4 | h$ts&lt;=4/3]) 
#res1 and res2 produce the same result 
#because of Fourier symmetry around the 
#Nyquist timescale - see Details 

</code></pre>


</div>