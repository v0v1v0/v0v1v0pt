<div class="container">

<table style="width: 100%;"><tr>
<td>opt-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class "opt" stores options for fitting and plotting</h2>

<h3>Description</h3>

<p>Class "opt" stores options for fitting and plotting applicable to
all model types</p>


<h3>Details</h3>

<p>See <code>kinopt-class</code>, <code>specopt-class</code> and
<code>massopt-class</code> for
the specification of fitting/plotting options that are specific to the
class type. </p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("opt", ...)</code> or
<code>opt(...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt>getStartTri</dt>
<dd></dd>
<dt>imagepal</dt>
<dd></dd>
<dt>maxfev</dt>
<dd></dd>
</dl>
<dl>
<dt>minFactor</dt>
<dd></dd>
<dt>nnlscrit</dt>
<dd></dd>
<dt>noplotest</dt>
<dd></dd>
<dt>notraces</dt>
<dd></dd>
<dt>optimmethod</dt>
<dd></dd>
<dt>parscale</dt>
<dd></dd>
<dt>residtraces</dt>
<dd></dd>
<dt>selectedtraces</dt>
<dd></dd>
<dt>sumnls</dt>
<dd></dd>
<dt>trilinear</dt>
<dd></dd>
<dt>triStart</dt>
<dd></dd>
<dt>writedata</dt>
<dd></dd>
<dt>writefitivo</dt>
<dd></dd>
<dt>xlim</dt>
<dd></dd>
<dt>
<code>algorithm</code>:</dt>
<dd>
<p>Object of class <code>"character"</code>  that defaults to
<code>algorithm="nls"</code>, so that the function <code>nls</code> is used to
optimize nonlinear parameters under least squares criteria.
Other options are
</p>

<dl>
<dt>
<code>nls.lm</code>:</dt>
<dd>
<p>optimize nonlinear parameters under least
squares criteria using <code>nls.lm</code> </p>
</dd>
<dt>
<code>optim</code>:</dt>
<dd>
<p>optimize nonlinear parameters under poisson
regression criteria with the Nelder-Mead algorithm in
<code>optim</code>; if this option is used then it MUST be used in
conjunction with <code>nnls=TRUE</code>. Currently, it must also be
used with <code>stderrclp=FALSE</code>. </p>
</dd>
</dl>
</dd>
<dt>
<code>nnls</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code>  that defaults to
<code>FALSE</code>.  If <code>nnls=TRUE</code>,
constrain the conditionally linear parameters
to nonnegativity via a nonnegative least squares algorithm as
implemented via the function <code>nnls</code> from the package by the same
name.</p>
</dd>
<dt>
<code>writecon</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code>  that defaults to
<code>FALSE</code>; if true then
concentrations are written to a txt file; row labels are <code>x</code></p>
</dd>
<dt>
<code>writespec</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code> that defaults to
<code>FALSE</code>; if <code>TRUE</code> then
spectra are written to a txt file; row labels are <code>x2</code></p>
</dd>
<dt>
<code>writenormspec</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code> that
defaults to <code>FALSE</code>; if <code>TRUE</code> then normalized spectra are
written to a txt file; row labels are <code>x2</code></p>
</dd>
<dt>
<code>writefit</code>:</dt>
<dd>
<p>Object of class
<code>"logical"</code> that defaults to <code>FALSE</code>; if <code>TRUE</code> then fit
is written to a txt file; row and column labels are <code>x</code> and
<code>x2</code></p>
</dd>
<dt>
<code>writeclperr</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code>
that defaults to
FALSE; if true then
the error bars for clp are written to a txt file.  This option is only
sensible with <code>stderrclp=TRUE</code>.</p>
</dd>
<dt>
<code>output</code>:</dt>
<dd>
<p>Object of class
<code>"character"</code> that defaults to <code>"ps"</code>, which means that
plots written to file are postscript.  Alternatively, specify
<code>output = "pdf"</code>, and plots are written as pdf files</p>
</dd>
<dt>
<code>addfilename</code>:</dt>
<dd>
<p>Object of class
<code>"logical"</code> that, for each data file, tries to add the
filename to plots associated with output for that data. </p>
</dd>
<dt>
<code>residplot</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code> defaults to
<code>FALSE</code>; if <code>TRUE</code> generate a plot of residuals in a
separate window.</p>
</dd>
<dt>
<code>adddataimage</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code> defaults to
<code>FALSE</code>; if <code>TRUE</code> adding imageplot of data in summary plot.</p>
</dd>
<dt>
<code>plot</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code> that defaults to
<code>TRUE</code>; if <code>FALSE</code> then do not write output in the form of
plots and other windows to the screen. </p>
</dd>
<dt>
<code>divdrel</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code> that defaults to
<code>FALSE</code>; if <code>TRUE</code>, plot traces and concentration
profiles divided by the dataset scaling parameters where they apply; this
allows for the fit of datasets having different intensities on the same
scale.</p>
</dd>
<dt>
<code>plotkinspec</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code> that defaults
to <code>FALSE</code>; if <code>TRUE</code>, generates a separate plot of the spectra
associated with the components that are not a part of a coherent
artifact/scatter model. </p>
</dd>
<dt>
<code>superimpose</code>:</dt>
<dd>
<p>Object of class <code>"vector"</code> containing
dataset indices whose results should be superimposed in plots</p>
</dd>
<dt>
<code>xlab</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> containing
label for x-axis, e.g., <code>"nanoseconds"</code>
or <code>"picoseconds"</code></p>
</dd>
<dt>
<code>ylab</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> containing label
for y-axis, e.g., <code>"wavelength"</code></p>
</dd>
<dt>
<code>title</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> containing title
to write at the top of plots.</p>
</dd>
<dt>
<code>makeps</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> containing
prefix to plot files written to postscript;
if present postscript will be written. Note that this string is also
used as the preffix of txt output files </p>
</dd>
<dt>
<code>linrange</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> giving linear
range of time axis for plotting; time will be plotted linearly from
-linrange to linrange and plotted on a logarithmic (base 10) axis elsewhere</p>
</dd>
<dt>
<code>summaryplotrow</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> giving
number of rows in summary plot; defaults to <code>4</code></p>
</dd>
<dt>
<code>summaryplotcol</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> giving
number of columns in summary plot; defaults to <code>4</code></p>
</dd>
<dt>
<code>iter</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> giving
number of iterations to optimize model parameters; if
<code>nls=FALSE</code> so that the Levenberg-Marquardt algorithm is
applied, then <code>iter</code> is interpreted as the
maximum number of residual function evaluations (see the help
page of the function <code>nls.lm</code> for details)</p>
</dd>
<dt>
<code>paropt</code>:</dt>
<dd>
<p>Object of class <code>"list"</code>
of graphical parameters in format <code>par(...)</code>
to apply to plots. </p>
</dd>
<dt>
<code>stderrclp</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code> that defaults
to <code>FALSE</code>; if <code>TRUE</code>, estimates of the standard error of
conditionally linear parameters are made</p>
</dd>
<dt>
<code>addest</code>:</dt>
<dd>
<p>Object of class <code>"vector"</code> containing
character strings of which parameter estimates should be added to the
summary plot, e.g., <code>addest = c("kinpar", "irfpar")</code></p>
</dd>
<dt>kinspecerr</dt>
<dd>
<p>Object of class <code>"logical"</code> that defaults to
<code>FALSE</code>; if <code>TRUE</code>, add standard error estimates to the clp
a plot generated with <code>kinspecest=TRUE</code> or
<code>plotkinspec=TRUE</code>.  This option can only be
used if the estimates were generated during fitting via the option
<code>stderrclp=TRUE</code></p>
</dd>
<dt>xlimspec</dt>
<dd>
<p>Object of class <code>"vector"</code> that defaults to
<code>vector()</code>; if changed, it should specify the desired x-limits of
the plot of clp</p>
</dd>
<dt>ylimspec</dt>
<dd>
<p>Object of class <code>"vector"</code> that defaults to
<code>vector()</code>; if changed, it should specify the desired y-limits of
the plot of clp. In the case of plotting the results of FLIM image
analysis, <code>ylimspec</code> can be used to determine the range used in the
image plot of lifetimes.  </p>
</dd>
<dt>ylimspecplus</dt>
<dd>
<p>Object of class <code>"vector"</code> that defaults to
<code>vector()</code>; if changed, the first value should specify a vector to
add to the y-limits of the plot of clp</p>
</dd>
<dt>samespecline</dt>
<dd>
<p>Object of class <code>"logical"</code> that defaults to
<code>FALSE</code>; if <code>TRUE</code>, then the line-type for clp is the same
for all datasets
</p>
</dd>
<dt>specinterpol</dt>
<dd>
<p>Object of class <code>"logical"</code> that defaults to
<code>FALSE</code>; if <code>TRUE</code>, use spline instead of lines between
the points representing estimated clp</p>
</dd>
<dt>specinterpolpoints</dt>
<dd>
<p>Object of class <code>"logical"</code> that defaults to
<code>TRUE</code>; if <code>TRUE</code>, add points representing the actual estimates
for clp to plots of the curves representing smoothed clp</p>
</dd>
<dt>specinterpolseg</dt>
<dd>
<p>Object of class <code>"numeric"</code> that defaults to
<code>50</code>; represents the number of segments used in a spline-based
representation of clp</p>
</dd>
<dt>specinterpolbspline</dt>
<dd>
<p>Object of class <code>"logical"</code> that defaults
to <code>FALSE</code>; determines whether a B-spline based representation of
clp is used (when <code>specinterpol=TRUE</code>) or a piecewise polynomial
representation</p>
</dd>
<dt>normspec</dt>
<dd>
<p>Object of class <code>"logical"</code> that determines whether
clp are normalized in plots</p>
</dd>
<dt>writespecinterpol</dt>
<dd>
<p>Object of class <code>"logical"</code> that defaults to
<code>FALSE</code>; if <code>TRUE</code>, a spline-based representation of clp
is written to ASCII files</p>
</dd>
<dt>nlsalgorithm</dt>
<dd>
<p>Object of class <code>"character"</code> that defaults to
<code>"default"</code> and determines the algorithm used by <code>nls</code>, if
<code>nls</code> is used in optimization.  See <code>help(nls)</code> for other
possibilities, such as <code>"port"</code>, which is more stable with
respect to starting values but requires more time.  </p>
</dd>
<dt>ltyfit</dt>
<dd>
<p>Object of class <code>"numeric"</code> if given, sets the line
type of the fit in plots of the fit/data; see <code>lty</code> in
<code>help(par)</code> for options. </p>
</dd>
<dt>ltydata</dt>
<dd>
<p>Object of class <code>"numeric"</code> if given, sets the line
type of the data in plots of the fit/data; see <code>lty</code> in
<code>help(par)</code> for options. </p>
</dd>
<dt>colfit</dt>
<dd>
<p>Object of class <code>"vector"</code> if given, sets the color
of the fit corresponding to each dataset
in plots of the fit/data; see <code>col</code> in
<code>help(par)</code> for options.  If given
<code>length(colfit)</code> must be equal to
the number of datasets in the analysis</p>
</dd>
<dt>coldata</dt>
<dd>
<p>Object of class <code>"vector"</code> if given, sets the color
of the data for each dataset
in plots of the fit/data; see <code>col</code> in
<code>help(par)</code> for options. If given,
<code>length(coldata)</code> must be equal to
the number of datasets in the analysis</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Katharine M. Mullen, Ivo H. M. van Stokkum</p>


<h3>See Also</h3>

<p><code>kinopt-class</code>, <code>specopt-class</code>
</p>


</div>