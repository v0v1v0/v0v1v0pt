<div class="container">

<table style="width: 100%;"><tr>
<td>HSPELL_to_STS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Data conversion from Horizontal Spell to STS.
</h2>

<h3>Description</h3>

<p>Convert data from Horizontal Spell to STS.
</p>


<h3>Usage</h3>

<pre><code class="language-R">HSPELL_to_STS(seqdata, begin, end, status = NULL,
    fixed.status = NULL, pvar = NULL, overwrite = TRUE,
    fillblanks = NULL, tmin = NULL, tmax = NULL, id = NULL,
    endObs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>seqdata</code></td>
<td>

<p>a data frame or matrix containing sequence data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>begin</code></td>
<td>

<p>Vector containing the columns (name or number) with the beginning position of each spell.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>

<p>Vector containing the columns (name or number) with the end position of each spell.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>

<p>Vector containing the columns (name or number) with the status of each spell.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed.status</code></td>
<td>
<p> Default status (for period not covered by any spell.)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvar</code></td>
<td>
<p> names or numbers of the column containing the 'birth' time.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Should the most recent episode overwrite the older one when they overlap? If <code>FALSE</code>, the most recent episode starts from the end of the previous one.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillblanks</code></td>
<td>
<p>If not <code>NULL</code>, character used for filling gaps between episodes.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tmin</code></td>
<td>

<p>If sequences are to be defined on a calendar time axis, it defines the starting time of the axis. If set as NULL, the start time is set as the minimum of the 'begin' column in the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tmax</code></td>
<td>

<p>If year sequences are wanted, defines the ending year of the sequences. If set to NULL, it is guessed from the data (not so accurately!).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>

<p>column containing the identification numbers for the sequences.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endObs</code></td>
<td>
<p>An optional end of observation date. Usefull for retrospective survey.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Hortizontal spell data format has the following caracteristics:
- One row per individual
- Each spell is specified with three consecutive variables: a begin date, an end date, and the status.
- For unused spells, begin and end values should be set as <code>NA</code>.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with the sequence in STS format.
</p>


<h3>Note</h3>

<p>This function is a pre-release and further testing is still needed, please report any problems.</p>


<h3>Author(s)</h3>

<p>Matthias Studer
</p>


<h3>See Also</h3>

<p>See Also <code>seqformat</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">hspell &lt;- data.frame(begin1=rep(1, 5), end1=c(2:5, NA), status1=1:5,
                     begin2=c(3:6, NA), end2=rep(NA, 5), status2=5:1)
sts &lt;- HSPELL_to_STS(hspell, begin=c("begin1", "begin2"), end=c("end1", "end2"),
                     status=c("status1", "status2"))
</code></pre>


</div>