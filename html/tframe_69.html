<div class="container">

<table style="width: 100%;"><tr>
<td>tfL</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Time Series Shifting and Differencing</h2>

<h3>Description</h3>

<p>Lag, shift forward, or difference a tframe or tframed object.</p>


<h3>Usage</h3>

<pre><code class="language-R">    tfL(x, p=1)
    ## Default S3 method:
tfL(x, p=1)
    ## S3 method for class 'tframe'
tfL(x, p=1)

    ## S3 method for class 'tframe'
diff(x,lag=1, differences=1, ...)
    ## S3 method for class 'tframed'
diff(x,lag=1, differences=1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a tframed object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>difference calculated relative to lag periods previous.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>differences</code></td>
<td>
<p>order of differencing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>number of periods to shift or lag periods for differencing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to be passed to other methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>tfL</code> methods shift the time frame, or the time frame of the object, by
<code>p</code> periods. (This might also be thought of as the exponent of the lag 
operator.) Positive <code>p</code> means shift the time frame forward and negative
<code>p</code> means shift the time frame back. Shifting the time frame forward
means the data at a point in time is the data from the previous point in time
in the unshifted data, so the result corresponds to what is often called 
the lagged data. The default <code>p</code> (+1) means 
the start and end for the results are one period later. When applied to a
data object, the default result is one lag of the data.
This convention is not the same as that used for <code>k</code> in the 
function <code>lag</code>. 
</p>
<p>Note that the time frame of the data is shifted, but a vector or matrix
representation of the data is unchanged. This means that operations on the
data, such as <code>+, -, *, and /</code>,  need to be time aware as, for example,
operations on ts objects are. If the operations do not recognize the time
framed aspect of the objects, then the operation will be performed with
default methods that will probably have unintended results (see examples).
</p>
<p>Differencing methods create a time frame or time framed object 
by differencing the number 
of times indicated by <code>differences</code> at a lagged number of periods indicated 
by <code>lag</code>. (Positive values of <code>lag</code> indicate number of periods back.)
The default is take the difference from data one period previous.
See <code>diff</code> for more details, but note that the result when 
applied to a time frame is a time frame, not a series.
</p>


<h3>See Also</h3>

<p><code>diff</code>,
<code>lag</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">    z &lt;- ts(rnorm(100), start=c(1982,1), frequency=12)
    tfstart(z)
    Tobs(z)
    z &lt;- diff(z)
    tfstart(z)
    Tobs(z)

    ts(1:5) - tfL(ts(1:5))
    (1:5) - tfL(1:5) # (1:5) this is not a tframed object, so minus is the default
    ts(1:5) - tfL(ts(1:5), p= 2)

    z &lt;- ts(1:10, start=c(1992,1), frequency=4)
    z - tfL(z)

    z &lt;- ts(matrix(1:10,5,2), start=c(1992,1), frequency=4)
    seriesNames(z) &lt;- c("One", "Two")
    z - tfL(z)
</code></pre>


</div>