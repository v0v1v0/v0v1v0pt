<div class="container">

<table style="width: 100%;"><tr>
<td>elbow.tree</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Finding the Final Tree using the Elbow Method
</h2>

<h3>Description</h3>

<p><code>elbow.tree</code> is like <code>final.tree</code>, but instead of using the minimum cost it uses the 'elbow' of the costs. It is similar to the elbow AIC or BIC approaches in the literature.
</p>


<h3>Usage</h3>

<pre><code class="language-R">elbow.tree(nodetree=nodetree, subtrees=subtrees, omega, alphac=2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nodetree</code></td>
<td>

<p>Fully grown tree from the original data. Output from <code>output.coxphout</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtrees</code></td>
<td>

<p>Pruned subtrees from the original data. Output from <code>prune</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omega</code></td>
<td>

<p>Bias (i.e. third index of the output) from <code>bootstrap</code>. Look at the value section of <code>bootstrap</code> for more information.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alphac</code></td>
<td>

<p>Predetermined penalty parameter
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>One can take the output (table) generated by this function and plot the (penalized) bias-corrected cost of each subtrees, then (visually) identify the 'elbow' as the selected subtree.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>subtree </code></td>
<td>
<p>output from <code>prune</code> with an additional column 'cost' that contains bootstrap estimate of each subtree</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cost.p </code></td>
<td>
<p>This column contains the (penalized) bias-corrected cost of each subtree</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data('alcohol')
require(survival)

coxtree &lt;- coxph.tree(alcohol[,'time'], alcohol[,'event'], 
                      x = alcohol[,'alc', drop = FALSE], D = 4)
nodetree &lt;- output.coxphout(coxtree)

subtrees &lt;- prune(nodetree)

store.mult.cont &lt;- bootstrap(B=20, nodetree, subtrees, alcohol[,'time'],
                                alcohol[,'event'], x = alcohol[,'alc', drop = FALSE], 
                                D=4,minfail=20, alphac=2)
                                
Balph &lt;- 0.5 * 2 * log(nrow(alcohol))                                
elbow.tree &lt;- elbow.tree(nodetree, subtrees, store.mult.cont[[3]], alphac= Balph)

## End(Not run)
</code></pre>


</div>