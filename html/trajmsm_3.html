<div class="container">

<table style="width: 100%;"><tr>
<td>gformula</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Counterfactual means via G-Formula</h2>

<h3>Description</h3>

<p>Calculates counterfactual means using the g-formula approach.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gformula(
  formula,
  baseline,
  covariates,
  treatment,
  outcome,
  ntimes_interval,
  obsdata
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>Specification of the model for the outcome to be fitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baseline</code></td>
<td>
<p>Names of the baseline covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariates</code></td>
<td>
<p>Names of the time-varying covariates (should be a list).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment</code></td>
<td>
<p>Names of the time-varying treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p>Name of the outcome variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ntimes_interval</code></td>
<td>
<p>Length of a time-interval (s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obsdata</code></td>
<td>
<p>Observed data in wide format.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>list_gform_countermeans</code></td>
<td>
<p> List of counterfactual means obtained with g-formula.</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Awa Diop, Denis Talbot
</p>


<h3>Examples</h3>

<pre><code class="language-R">
obsdata = gendata(n = 1000, format = "wide", total_followup = 6, seed = 945)
years &lt;- 2011:2016
baseline_var &lt;- c("age","sex")
variables &lt;- c("hyper", "bmi")
var_cov &lt;- c("statins","hyper", "bmi")
covariates &lt;- lapply(years, function(year) {
paste0(variables, year)})
treatment_var &lt;- paste0("statins", 2011:2016)
formula = paste0("y ~", paste0(treatment_var,collapse = "+"), "+",
                paste0(unlist(covariates), collapse = "+"),"+",
                paste0(baseline_var, collapse = "+"))
res_gform &lt;- gformula(formula = formula, baseline = baseline_var, covariates = covariates,
treatment = treatment_var, outcome = "y", ntimes_interval = 6, obsdata =   obsdata )

</code></pre>


</div>