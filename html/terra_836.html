<div class="container">

<table style="width: 100%;"><tr>
<td>sapp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Apply a terra function that takes only a single layer and returns a SpatRaster to all layers of a SpatRaster</h2>

<h3>Description</h3>

<p>Apply to all layers of a SpatRaster a function that only takes a single layer SpatRaster and returns a SpatRaster (these are rare). In most cases you can also use <code>lapply</code> or <code>sapply</code> for this. 
</p>
<p>Or apply the same method to each sub-dataset (SpatRaster) in a SpatRasterDataset
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'SpatRaster'
sapp(x, fun, ..., filename="", overwrite=FALSE, wopt=list())

## S4 method for signature 'SpatRasterDataset'
sapp(x, fun, ..., filename="", overwrite=FALSE, wopt=list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>SpatRaster or SpatRasterDataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>if <code>x</code> is a <code>SpatRaster</code>: a function that takes a SpatRaster argument and can be applied to each layer of <code>x</code> (e.g. <code>terrain</code>. 
if <code>x</code> is a <code>SpatRasterDataset</code>: a function that is applied to all layers of the SpatRasters in <code>x</code> (e.g. <code>mean</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed to <code>fun</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>character. Output filename</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>logical. If <code>TRUE</code>, <code>filename</code> is overwritten</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wopt</code></td>
<td>
<p>list with named options for writing files as in <code>writeRaster</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>SpatRaster
</p>


<h3>See Also</h3>

<p><code> lapp, app, tapp, lapply</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">s &lt;- rast(system.file("ex/logo.tif", package="terra")) + 1  

#SpatRasterDataset
sd &lt;- sds(s*2, s/2)
y &lt;- sapp(sd, mean)
z &lt;- sapp(sd, \(i) 2 * mean(i))

</code></pre>


</div>