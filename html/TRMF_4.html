<div class="container">

<table style="width: 100%;"><tr>
<td>create_TRMF</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a TRMF object</h2>

<h3>Description</h3>

<p>Creates a TRMF object from a data matrix. This function is always needed to initialize a TRMF model.</p>


<h3>Usage</h3>

<pre><code class="language-R">create_TRMF(dataM, weight = 1, 
      normalize = c("none", "standard", "robust", "range"),
      normalize.type = c("global", "columnwise", "rowwise"),
      na.action = c("impute", "fail"),
      scaleXm = c("no","project","track"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataM</code></td>
<td>
<p>The data matrix, each column represents a time series.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>An optional matrix of weights to be used in the fitting process. If used, <code>sum(w^2*e^2)</code> is minimized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize</code></td>
<td>
<p>Type of scaling/centering for the data. Recommended to reduce bias when using regularization. <code>none</code> does nothing,
<code>standard</code> centers with mean, and scales by <code>sd()</code>, <code>robust</code> centers with the median and scales by <code>mad(,constant=1)</code>,
<code>range</code> maps to <code>[0-1]</code> interval</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize.type</code></td>
<td>
<p>how should normalization be applied. <code>global</code> scales and centers matrix by one value. <code>columnwise</code> and <code>rowwise</code>
normalize each column or row separately.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>what action to take when data contains NAs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaleXm</code></td>
<td>
<p>Should the columns of Xm be rescaled at each iteration. See details</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function doesn't do any computation, it is the entry point for creating a TRMF model. To train the model or add additional details, see examples. Normalization is recommended in general. Regularization biases the factorization toward zero a little bit, centering changes that to bias towards the mean. Scaling makes the choosing of regularization parameters easier. If the factorization is to be used for forward forecasting, rowwise normalization is not recommended as it could remove some temporal information.
If <code>scaleXm</code> = 'project' then the columns of Xm will be rescaled to have sum squared value = 1. If set to 'track' then the scaling factors will be stored and updated and used scale Fm before fitting Xm at each iteration.These options were added to allow for more stable behavior of temporal regularization.
</p>


<h3>Value</h3>

<p><code>create_TRMF</code> returns an object of <code>class</code> "<code>TRMF</code>" to be passed to other TRMF functions.
</p>


<h3>Author(s)</h3>

<p>Chad Hammerquist
</p>


<h3>References</h3>

<p>Yu, Hsiang-Fu, Nikhil Rao, and Inderjit S. Dhillon. "High-dimensional time series prediction with missing values." arXiv preprint arXiv:1509.08333 (2015).
</p>


<h3>See Also</h3>

<p><code>train.TRMF</code>, <code>TRMF_columns</code>, <code>TRMF_trend</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# create test data
xm = poly(x = (-10:10)/10,degree=4)
fm = matrix(runif(40),4,10)
Am = xm%*%fm+rnorm(210,0,.2)

# create model
obj = create_TRMF(Am)
obj = TRMF_columns(obj,reg_type ="interval")
obj = TRMF_trend(obj,numTS=4,order=2)
out = train(obj)
plot(out)

</code></pre>


</div>