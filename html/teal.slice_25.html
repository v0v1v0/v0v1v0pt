<div class="container">

<table style="width: 100%;"><tr>
<td>FilteredData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class to encapsulate filtered datasets</h2>

<h3>Description</h3>

<p>Manages filtering of all datasets in the application or module.
</p>


<h3>Details</h3>

<p>The main purpose of this class is to provide a collection of reactive datasets,
each dataset having a filter state that determines how it is filtered.
</p>
<p>For each dataset, <code>get_filter_expr</code> returns the call to filter the dataset according
to the filter state. The data itself can be obtained through <code>get_data</code>.
</p>
<p>The datasets are filtered lazily, i.e. only when requested / needed in a <code>shiny</code> app.
</p>
<p>By design, any <code>dataname</code> set through <code>set_dataset</code> cannot be removed because
other code may already depend on it. As a workaround, the underlying
data can be set to <code>NULL</code>.
</p>
<p>The class currently supports variables of the following types within datasets:
</p>

<ul>
<li> <p><code>choices</code>: variable of type <code>factor</code>, e.g. <code>ADSL$COUNTRY</code>, <code>iris$Species</code>
zero or more options can be selected, when the variable is a factor
</p>
</li>
<li> <p><code>logical</code>: variable of type <code>logical</code>, e.g. <code>ADSL$TRT_FLAG</code>
exactly one option must be selected, <code>TRUE</code> or <code>FALSE</code>
</p>
</li>
<li> <p><code>ranges</code>: variable of type <code>numeric</code>, e.g. <code>ADSL$AGE</code>, <code>iris$Sepal.Length</code>
numerical range, a range within this range can be selected
</p>
</li>
<li> <p><code>dates</code>: variable of type <code>Date</code>, <code>POSIXlt</code>
Other variables cannot be used for filtering the data in this class.
</p>
</li>
</ul>
<p>Common arguments are:
</p>

<ol>
<li> <p><code>filtered</code>: whether to return a filtered result or not
</p>
</li>
<li> <p><code>dataname</code>: the name of one of the datasets in this <code>FilteredData</code> object
</p>
</li>
<li> <p><code>varname</code>: one of the columns in a dataset
</p>
</li>
</ol>
<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-FilteredData-new"><code>FilteredData$new()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-datanames"><code>FilteredData$datanames()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-get_datalabel"><code>FilteredData$get_datalabel()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-set_available_teal_slices"><code>FilteredData$set_available_teal_slices()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-get_available_teal_slices"><code>FilteredData$get_available_teal_slices()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-get_call"><code>FilteredData$get_call()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-get_data"><code>FilteredData$get_data()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-get_join_keys"><code>FilteredData$get_join_keys()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-get_filter_overview"><code>FilteredData$get_filter_overview()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-get_keys"><code>FilteredData$get_keys()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-set_dataset"><code>FilteredData$set_dataset()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-set_join_keys"><code>FilteredData$set_join_keys()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-get_filter_state"><code>FilteredData$get_filter_state()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-format"><code>FilteredData$format()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-print"><code>FilteredData$print()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-set_filter_state"><code>FilteredData$set_filter_state()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-remove_filter_state"><code>FilteredData$remove_filter_state()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-clear_filter_states"><code>FilteredData$clear_filter_states()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-ui_filter_panel"><code>FilteredData$ui_filter_panel()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-srv_filter_panel"><code>FilteredData$srv_filter_panel()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-ui_active"><code>FilteredData$ui_active()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-srv_active"><code>FilteredData$srv_active()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-ui_add"><code>FilteredData$ui_add()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-srv_add"><code>FilteredData$srv_add()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-ui_overview"><code>FilteredData$ui_overview()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-srv_overview"><code>FilteredData$srv_overview()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredData-clone"><code>FilteredData$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-FilteredData-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Initialize a <code>FilteredData</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$new(data_objects, join_keys = teal.data::join_keys())</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data_objects</code></dt>
<dd>
<p>(<code style="white-space: pre;">⁠named list⁠</code>)
List of data objects.
Names of the list will be used as <code>dataname</code> for respective datasets.</p>
</dd>
<dt><code>join_keys</code></dt>
<dd>
<p>(<code>join_keys</code>) optional joining keys, see <code>teal.data::join_keys()</code>.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-FilteredData-datanames"></a>



<h4>Method <code>datanames()</code>
</h4>

<p>Gets <code>datanames</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$datanames()</pre></div>



<h5>Details</h5>

<p>The <code>datanames</code> are returned in the order in which they must be evaluated (in case of dependencies).
</p>



<h5>Returns</h5>

<p>Character vector.
</p>


<hr>
<a id="method-FilteredData-get_datalabel"></a>



<h4>Method <code>get_datalabel()</code>
</h4>

<p>Gets data label for the dataset.
Useful to display in <code style="white-space: pre;">⁠Show R Code⁠</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$get_datalabel(dataname)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>dataname</code></dt>
<dd>
<p>(<code>character(1)</code>) name of the dataset</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>Character string.
</p>


<hr>
<a id="method-FilteredData-set_available_teal_slices"></a>



<h4>Method <code>set_available_teal_slices()</code>
</h4>

<p>Set list of external filter states available for activation.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$set_available_teal_slices(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt>
<dd>
<p>(<code>reactive</code>)
should return <code>teal_slices</code></p>
</dd>
</dl>
</div>



<h5>Details</h5>

<p>Unlike adding new filter from the column, these filters can come with some prespecified settings.
<code>teal_slices</code> are wrapped in a <code>reactive</code> so they can be updated from elsewhere in the app.
Filters passed in <code>x</code> are limited to those that can be set for this <code>FilteredData</code> object,
i.e. they have the correct <code>dataname</code> and <code>varname</code> (waived <code>teal_slice_fixed</code> as they do not have <code>varname</code>).
List is accessible in <code>ui/srv_active</code> through <code>ui/srv_available_filters</code>.
</p>



<h5>Returns</h5>

<p><code>NULL</code>, invisibly.
</p>


<hr>
<a id="method-FilteredData-get_available_teal_slices"></a>



<h4>Method <code>get_available_teal_slices()</code>
</h4>

<p>Get list of filter states available for this object.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$get_available_teal_slices()</pre></div>



<h5>Details</h5>

<p>All <code>teal_slice</code> objects that have been created since the beginning of the app session
are stored in one <code>teal_slices</code> object. This returns a subset of that <code>teal_slices</code>,
describing filter states that can be set for this object.
</p>



<h5>Returns</h5>

<p><code>reactive</code> that returns <code>teal_slices</code>.
</p>


<hr>
<a id="method-FilteredData-get_call"></a>



<h4>Method <code>get_call()</code>
</h4>

<p>Gets a <code>call</code> to filter the dataset according to the filter state.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$get_call(dataname)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>dataname</code></dt>
<dd>
<p>(<code>character(1)</code>) name of the dataset</p>
</dd>
</dl>
</div>



<h5>Details</h5>

<p>It returns a <code>call</code> to filter the dataset only, assuming the
other (filtered) datasets it depends on are available.
</p>
<p>Together with <code>self$datanames()</code> which returns the datasets in the correct
evaluation order, this generates the whole filter code, see the function
<code>FilteredData$get_filter_code</code>.
</p>
<p>For the return type, note that <code>rlang::is_expression</code> returns <code>TRUE</code> on the
return type, both for base <code>R</code> expressions and calls (single expression,
capturing a function call).
</p>
<p>The filtered dataset has the name given by <code>self$filtered_dataname(dataname)</code>
</p>
<p>This can be used for the <code style="white-space: pre;">⁠Show R Code⁠</code> generation.
</p>



<h5>Returns</h5>

<p>A list of <code>call</code>s.
</p>


<hr>
<a id="method-FilteredData-get_data"></a>



<h4>Method <code>get_data()</code>
</h4>

<p>Gets filtered or unfiltered dataset.
</p>
<p>For <code>filtered = FALSE</code>, the original data set with <code>set_data</code> is returned including all attributes.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$get_data(dataname, filtered = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>dataname</code></dt>
<dd>
<p>(<code>character(1)</code>) name of the dataset.</p>
</dd>
<dt><code>filtered</code></dt>
<dd>
<p>(<code>logical(1)</code>) whether to return a filtered or unfiltered dataset.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A data object, a <code>data.frame</code> or a <code>MultiAssayExperiment</code>.
</p>


<hr>
<a id="method-FilteredData-get_join_keys"></a>



<h4>Method <code>get_join_keys()</code>
</h4>

<p>Get join keys between two datasets.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$get_join_keys()</pre></div>



<h5>Returns</h5>

<p><code>join_keys</code>
</p>


<hr>
<a id="method-FilteredData-get_filter_overview"></a>



<h4>Method <code>get_filter_overview()</code>
</h4>

<p>Creates filter overview table to be displayed in the application.
One row is created per dataset, according to the <code>get_filter_overview</code> methods
of the contained <code>FilteredDataset</code> objects.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$get_filter_overview(datanames)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>datanames</code></dt>
<dd>
<p>(<code>character</code>) vector of dataset names.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A <code>data.frame</code> listing the numbers of observations in all datasets.
</p>


<hr>
<a id="method-FilteredData-get_keys"></a>



<h4>Method <code>get_keys()</code>
</h4>

<p>Get keys for the dataset.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$get_keys(dataname)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>dataname</code></dt>
<dd>
<p>(<code>character(1)</code>) name of the dataset.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>Character vector of key column names.
</p>


<hr>
<a id="method-FilteredData-set_dataset"></a>



<h4>Method <code>set_dataset()</code>
</h4>

<p>Adds a dataset to this <code>FilteredData</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$set_dataset(data, dataname)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data</code></dt>
<dd>
<p>(<code>data.frame</code> or <code>MultiAssayExperiment</code>)
data to be filtered.</p>
</dd>
<dt><code>dataname</code></dt>
<dd>
<p>(<code>character(1)</code>)
the name of the <code>dataset</code> to be added to this object.</p>
</dd>
</dl>
</div>



<h5>Details</h5>

<p><code>set_dataset</code> creates a <code>FilteredDataset</code> object which keeps <code>dataset</code> for the filtering purpose.
If this data has a parent specified in the <code>join_keys</code> object stored in <code>private$join_keys</code>
then created <code>FilteredDataset</code> (child) gets linked with other <code>FilteredDataset</code> (parent).
"Child" dataset return filtered data then dependent on the reactive filtered data of the
"parent". See more in documentation of <code>parent</code> argument in <code>DataframeFilteredDataset</code> constructor.
</p>



<h5>Returns</h5>

<p><code>self</code>, invisibly.
</p>


<hr>
<a id="method-FilteredData-set_join_keys"></a>



<h4>Method <code>set_join_keys()</code>
</h4>

<p>Set the <code>join_keys</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$set_join_keys(join_keys)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>join_keys</code></dt>
<dd>
<p>(<code>join_keys</code>), see <code>teal.data::join_keys()</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>, invisibly.
</p>


<hr>
<a id="method-FilteredData-get_filter_state"></a>



<h4>Method <code>get_filter_state()</code>
</h4>

<p>Gets states of all contained <code>FilterState</code> objects.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$get_filter_state()</pre></div>



<h5>Returns</h5>

<p>A <code>teal_slices</code> object.
</p>


<hr>
<a id="method-FilteredData-format"></a>



<h4>Method <code>format()</code>
</h4>

<p>Returns a formatted string representing this <code>FilteredData</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$format(show_all = FALSE, trim_lines = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>show_all</code></dt>
<dd>
<p>(<code>logical(1)</code>) passed to <code>format.teal_slice</code>.</p>
</dd>
<dt><code>trim_lines</code></dt>
<dd>
<p>(<code>logical(1)</code>) passed to <code>format.teal_slice</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>character(1)</code> the formatted string.
</p>


<hr>
<a id="method-FilteredData-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>Prints this <code>FilteredData</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$print(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt>
<dd>
<p>additional arguments passed to <code>format</code>.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-FilteredData-set_filter_state"></a>



<h4>Method <code>set_filter_state()</code>
</h4>

<p>Sets active filter states.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$set_filter_state(state)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>state</code></dt>
<dd>
<p>(<code>teal_slices</code>)</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>NULL</code>, invisibly.
</p>


<hr>
<a id="method-FilteredData-remove_filter_state"></a>



<h4>Method <code>remove_filter_state()</code>
</h4>

<p>Removes one or more <code>FilterState</code> from a <code>FilteredData</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$remove_filter_state(state)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>state</code></dt>
<dd>
<p>(<code>teal_slices</code>)
specifying <code>FilterState</code> objects to remove;
<code>teal_slice</code>s may contain only <code>dataname</code> and <code>varname</code>, other elements are ignored.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>NULL</code>, invisibly.
</p>


<hr>
<a id="method-FilteredData-clear_filter_states"></a>



<h4>Method <code>clear_filter_states()</code>
</h4>

<p>Remove all <code>FilterStates</code> of a <code>FilteredDataset</code> or all <code>FilterStates</code> of a <code>FilteredData</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$clear_filter_states(datanames = self$datanames(), force = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>datanames</code></dt>
<dd>
<p>(<code>character</code>)
names of datasets for which to remove all filter states.
Defaults to all datasets in this <code>FilteredData</code> object.</p>
</dd>
<dt><code>force</code></dt>
<dd>
<p>(<code>logical(1)</code>)
flag specifying whether to include anchored filter states.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>NULL</code>, invisibly.
</p>


<hr>
<a id="method-FilteredData-ui_filter_panel"></a>



<h4>Method <code>ui_filter_panel()</code>
</h4>

<p>top-level <code>shiny</code> module for the filter panel in the <code>teal</code> app.
Contains 1) filter overview panel, 2) filter active panel, and 3) add filters panel.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$ui_filter_panel(id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>(<code>character(1)</code>)
<code>shiny</code> module instance id.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>shiny.tag</code>
</p>


<hr>
<a id="method-FilteredData-srv_filter_panel"></a>



<h4>Method <code>srv_filter_panel()</code>
</h4>

<p>Server function for filter panel.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$srv_filter_panel(id, active_datanames = self$datanames)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>(<code>character(1)</code>)
<code>shiny</code> module instance id.</p>
</dd>
<dt><code>active_datanames</code></dt>
<dd>
<p>(<code>function</code> or <code>reactive</code>)
returning <code>datanames</code> that should be shown on the filter panel.
Must be a subset of the <code>datanames</code> in this <code>FilteredData</code>.
If the function returns <code>NULL</code> (as opposed to <code>character(0)</code>),
the filter panel will be hidden.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>NULL</code>.
</p>


<hr>
<a id="method-FilteredData-ui_active"></a>



<h4>Method <code>ui_active()</code>
</h4>

<p>Server module responsible for displaying active filters.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$ui_active(id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>(<code>character(1)</code>)
<code>shiny</code> module instance id.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>shiny.tag</code>
</p>


<hr>
<a id="method-FilteredData-srv_active"></a>



<h4>Method <code>srv_active()</code>
</h4>

<p>Server module responsible for displaying active filters.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$srv_active(id, active_datanames = self$datanames)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>(<code>character(1)</code>)
<code>shiny</code> module instance id.</p>
</dd>
<dt><code>active_datanames</code></dt>
<dd>
<p>(<code>reactive</code>)
defining subset of <code>self$datanames()</code> to be displayed.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>NULL</code>.
</p>


<hr>
<a id="method-FilteredData-ui_add"></a>



<h4>Method <code>ui_add()</code>
</h4>

<p>Server module responsible for displaying drop-downs with variables to add a filter.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$ui_add(id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>(<code>character(1)</code>)
<code>shiny</code> module instance id.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>shiny.tag</code>
</p>


<hr>
<a id="method-FilteredData-srv_add"></a>



<h4>Method <code>srv_add()</code>
</h4>

<p>Server module responsible for displaying drop-downs with variables to add a filter.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$srv_add(id, active_datanames = reactive(self$datanames()))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>(<code>character(1)</code>)
<code>shiny</code> module instance id.</p>
</dd>
<dt><code>active_datanames</code></dt>
<dd>
<p>(<code>reactive</code>)
defining subset of <code>self$datanames()</code> to be displayed.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>NULL</code>.
</p>


<hr>
<a id="method-FilteredData-ui_overview"></a>



<h4>Method <code>ui_overview()</code>
</h4>

<p>Creates the UI definition for the module showing counts for each dataset
contrasting the filtered to the full unfiltered dataset.
</p>
<p>Per dataset, it displays
the number of rows/observations in each dataset,
the number of unique subjects.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$ui_overview(id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>(<code>character(1)</code>)
<code>shiny</code> module instance id.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-FilteredData-srv_overview"></a>



<h4>Method <code>srv_overview()</code>
</h4>

<p>Server function to display the number of records in the filtered and unfiltered
data.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$srv_overview(id, active_datanames = self$datanames)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>(<code>character(1)</code>)
<code>shiny</code> module instance id.</p>
</dd>
<dt><code>active_datanames</code></dt>
<dd>
<p>(<code>reactive</code>)
returning <code>datanames</code> that should be shown on the filter panel,
must be a subset of the <code>datanames</code> argument provided to <code>ui_filter_panel</code>;
if the function returns <code>NULL</code> (as opposed to <code>character(0)</code>), the filter
panel will be hidden.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>NULL</code>.
</p>


<hr>
<a id="method-FilteredData-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredData$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R"># use non-exported function from teal.slice
FilteredData &lt;- getFromNamespace("FilteredData", "teal.slice")

library(shiny)

datasets &lt;- FilteredData$new(list(iris = iris, mtcars = mtcars))

# get datanames
datasets$datanames()

datasets$set_filter_state(
  teal_slices(teal_slice(dataname = "iris", varname = "Species", selected = "virginica"))
)
isolate(datasets$get_call("iris"))

datasets$set_filter_state(
  teal_slices(teal_slice(dataname = "mtcars", varname = "mpg", selected = c(15, 20)))
)

isolate(datasets$get_filter_state())
isolate(datasets$get_call("iris"))
isolate(datasets$get_call("mtcars"))


### set_filter_state
library(shiny)

data(miniACC, package = "MultiAssayExperiment")
datasets &lt;- FilteredData$new(list(iris = iris, mae = miniACC))
fs &lt;- teal_slices(
  teal_slice(
    dataname = "iris", varname = "Sepal.Length", selected = c(5.1, 6.4),
    keep_na = TRUE, keep_inf = FALSE
  ),
  teal_slice(
    dataname = "iris", varname = "Species", selected = c("setosa", "versicolor"),
    keep_na = FALSE
  ),
  teal_slice(
    dataname = "mae", varname = "years_to_birth", selected = c(30, 50),
    keep_na = TRUE, keep_inf = FALSE
  ),
  teal_slice(dataname = "mae", varname = "vital_status", selected = "1", keep_na = FALSE),
  teal_slice(dataname = "mae", varname = "gender", selected = "female", keep_na = TRUE),
  teal_slice(
    dataname = "mae", varname = "ARRAY_TYPE",
    selected = "", keep_na = TRUE, experiment = "RPPAArray", arg = "subset"
  )
)
datasets$set_filter_state(state = fs)
isolate(datasets$get_filter_state())

</code></pre>


</div>