<div class="container">

<table style="width: 100%;"><tr>
<td>tcplLoadData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Load tcpl data</h2>

<h3>Description</h3>

<p><code>tcplLoadData</code> queries the tcpl databases and returns a data.table with
data for the given level and data type.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tcplLoadData(lvl, fld = NULL, val = NULL, type = "mc", add.fld = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lvl</code></td>
<td>
<p>Integer of length 1, the level of data to load</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fld</code></td>
<td>
<p>Character, the field(s) to query on</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>val</code></td>
<td>
<p>List, vectors of values for each field to query on. Must be in
the same order as 'fld'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Character of length 1, the data type, "sc" or "mc"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.fld</code></td>
<td>
<p>Boolean if true we want to return 
the additional parameters fit with tcplfit2</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The data type can be either 'mc' for mutliple concentration data, or 'sc'
for single concentration data. Multiple concentration data will be loaded
into the 'mc' tables, whereas the single concentration will be loaded into
the 'sc' tables.
</p>
<p>Setting 'lvl' to "agg" will return an aggregate table containing the m4id
with the concentration-response data and m3id to map back to well-level
information.
</p>
<p>If <code>tcplConf()</code> was set with "API" as the driver, then <code>tcplLoadData</code> 
will return data from the CCTE Bioactivity API. API data is available for
<code>type = 'mc'</code> and lvl = c(3,4,5,6) and 'agg'. Only fields relating to the
requested level are returned, but not all fields that usually return from
invitrodb are available from the API. To have all fields available from the
API return, regardless of what lvl is set to, set <code>add.fld</code> to 
<code>TRUE</code>. API query-able fields include "aeid", "spid", "m4id", and 
"dtxsid".
</p>
<p>Leaving <code>fld</code> NULL will return all data.
</p>
<p>Valid <code>fld</code> inputs are based on the data level and type:
</p>

<table>
<tr>
<td style="text-align: center;">
type </td>
<td style="text-align: center;"> lvl </td>
<td style="text-align: left;">  Queried tables </td>
</tr>
<tr>
<td style="text-align: center;">
sc </td>
<td style="text-align: center;"> 0 </td>
<td style="text-align: left;"> sc0 </td>
</tr>
<tr>
<td style="text-align: center;">
sc </td>
<td style="text-align: center;"> 1 </td>
<td style="text-align: left;"> sc0, sc1 </td>
</tr>
<tr>
<td style="text-align: center;">
sc </td>
<td style="text-align: center;"> agg </td>
<td style="text-align: left;"> sc1, sc2_agg </td>
</tr>
<tr>
<td style="text-align: center;">
sc </td>
<td style="text-align: center;"> 2 </td>
<td style="text-align: left;"> sc2 </td>
</tr>
<tr>
<td style="text-align: center;">
mc </td>
<td style="text-align: center;"> 0 </td>
<td style="text-align: left;"> mc0 </td>
</tr>
<tr>
<td style="text-align: center;">
mc </td>
<td style="text-align: center;"> 1 </td>
<td style="text-align: left;"> mc0, mc1 </td>
</tr>
<tr>
<td style="text-align: center;">
mc </td>
<td style="text-align: center;"> 2 </td>
<td style="text-align: left;"> mc0, mc1, mc2 </td>
</tr>
<tr>
<td style="text-align: center;">
mc </td>
<td style="text-align: center;"> 3 </td>
<td style="text-align: left;"> mc0, mc1, mc3 </td>
</tr>
<tr>
<td style="text-align: center;">
mc </td>
<td style="text-align: center;"> agg </td>
<td style="text-align: left;"> mc3, mc4_agg </td>
</tr>
<tr>
<td style="text-align: center;">
mc </td>
<td style="text-align: center;"> 4 </td>
<td style="text-align: left;"> mc4 </td>
</tr>
<tr>
<td style="text-align: center;">
mc </td>
<td style="text-align: center;"> 5 </td>
<td style="text-align: left;"> mc4, mc5 </td>
</tr>
<tr>
<td style="text-align: center;">
mc </td>
<td style="text-align: center;"> 6 </td>
<td style="text-align: left;"> mc4, mc6 </td>
</tr>
<tr>
<td style="text-align: center;">
mc </td>
<td style="text-align: center;"> 7 </td>
<td style="text-align: left;"> mc4, mc7
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.table containing data for the given fields.
</p>


<h3>See Also</h3>

<p><code>tcplQuery</code>, <code>data.table</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## Load all of level 0 for multiple-concentration data, note 'mc' is the
## default value for type
tcplLoadData(lvl = 0)

## Load all of level 1 for single-concentration
tcplLoadData(lvl = 1, type = "sc")

## List the fields available for level 1, coming from tables mc0 and mc1
tcplListFlds(tbl = "mc0")
tcplListFlds(tbl = "mc1")

## Load level 0 data where the well type is "t" and the concentration
## index is 3 or 4
tcplLoadData(lvl = 1, fld = c("wllt", "cndx"), val = list("t", c(3:4)))

## End(Not run)
</code></pre>


</div>