<div class="container">

<table style="width: 100%;"><tr>
<td>make_header_entries</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a Matrix of Headers to Table Entries, with Merging of Runs </h2>

<h3>Description</h3>

<p>Given a matrix of row or column headers, create a corresponding set of
table entries, optionally with runs of repeated values merged into single
entries.  This is an internal utility function, not intended to be called
by package users.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_header_entries(x, xhier, which_head, offset, mergeRuns)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A character matrix containing header text.  The orientation and dimensions
should match those used for storing the corresponding header in
<code>textTable</code> objects (and also the way headers are displayed).  Thus
for row headers there is one column per header _layer_ (outermost layer to
innermost from left to right), and the number of rows matches the number
of rows in the table body.  For column headers there is one _row_ per
layer (outermost to innermost from top to bottom), and the number of
columns matches the table body.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xhier</code></td>
<td>
<p>List of data frames containing information about the hierarchical
structure of the header.  Function <code>headerRuns</code> creates such a list.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which_head</code></td>
<td>
<p>Character string indicating whether <code>x</code> contains "row" or "col"umn
headers.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>Two-element numeric vector.  The first element is the offset to be added
to row numbers of <code>x</code> to convert them to <code>arow*</code> values in the
table's expanded row-column grid.  The second element is the offset to be
added to column numbers of <code>x</code> to convert them to <code>acol*</code>
values.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mergeRuns</code></td>
<td>
<p>Numeric scalar, specifying how deeply in the header hierarchy runs of
repeated values will be merged into single entries.  Thus a value of 0
means no header cells will be merged, a value of 1 means only repeats in
the outermost header layer will be merged, 2 means repeats in the
outermost two layers will be merged, and so on.  (Determination of
repeated values respects the header hierarchy; see <code>headerRuns</code>.)
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>headlayer</code> and <code>level_in_layer</code> in the returned data frame are
based on <code>xhier</code>, which is not affected by <code>mergeRuns</code>.  Thus
when <code>mergeRuns</code> is less than the number of header layers (so some
runs are not merged), there may be multiple entries with the same
<code>headlayer</code> and <code>level_in_layer</code> values.  Entry ID's will be
unique however.
</p>


<h3>Value</h3>

<p>A data frame with a row for each header entry, and most of the columns
needed for a <code>tblEntries</code> object.  It has an additional attribute
<code>i,j</code> which is a two-column matrix containing the row and column
numbers in <code>x</code> associated with each entry.  (Minimum i, j values are
used for entries that span multiple rows or columns.)
</p>


<h3>See Also</h3>

<p><code>headerRuns</code>; <code>tblEntries</code> and
<code>tblBlocks</code> (which use this function)
</p>


</div>