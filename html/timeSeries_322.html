<div class="container">

<table style="width: 100%;"><tr>
<td>turns</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Turning points of a time series</h2>

<h3>Description</h3>

<p>Extracts and analyzes turning points of an univariate
<code>"timeSeries"</code> object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">turns(x, ...)

turnsStats(x, doplot = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>an univariate <code>"timeSeries"</code> object of financial indices or prices.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>optional arguments passed to the function <code>na.omit</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doplot</code></td>
<td>

<p>a logical flag, should the results be plotted? By default TRUE.    
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>turns</code> determines the number and the positions of
extrema (turning points, either peaks or pits) in a regular time
series.
</p>
<p>The function <code>turnsStats</code> calculates the quantity of information
associated with the observations in this series, according to
Kendall's information theory.
</p>
<p>The functions are borrowed from the contributed R package
<code>pastecs</code> and made ready for working together with univariate
<code>timeSeries</code> objects. You need not to load the R package
<code>pastecs</code>, the code parts we need here are builtin in the
<code>timeSeries</code> package.
</p>
<p>We have renamed the function <code>turnpoints</code> to <code>turns</code> to
distinguish between the original function in the contributed R package
<code>pastecs</code> and our Rmetrics function wrapper.
</p>
<p>For further details please consult the help page from the contributed
R package <code>pastecs</code>.
</p>


<h3>Value</h3>

<p>for <code>turns</code>, an object of class <code>timeSeries</code>.<br></p>
<p>for <code>turnsStats</code>, an object of class <code>turnpoints</code> with the
following entries:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The dataset to which the calculation is done.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>The number of observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points</code></td>
<td>
<p>The value of the points in the series, after elimination of ex-aequos.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos</code></td>
<td>
<p>The position of the points on the time scale in the series (including ex-aequos).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exaequos</code></td>
<td>
<p>Location of exaequos (1), or not (0).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nturns</code></td>
<td>
<p>Total number of turning points in the whole time series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>firstispeak</code></td>
<td>
<p>Is the first turning point a peak (TRUE), or not (FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>peaks</code></td>
<td>
<p>Logical vector. Location of the peaks in the time series without ex-aequos.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pits</code></td>
<td>
<p>Logical vector. Location of the pits in the time series without ex-aequos.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tppos</code></td>
<td>
<p>Position of the turning points in the initial series (with ex-aequos).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proba</code></td>
<td>
<p>Probability to find a turning point at this location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>info</code></td>
<td>
<p>Quantity of information associated with this point.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Frederic Ibanez and Philippe Grosjean for code from the contributed R
package <code>pastecs</code> and Rmetrics for the function wrapper.
</p>


<h3>References</h3>

<p>Ibanez, F., 1982, Sur une nouvelle application de la theorie de 
l'information a la description des series chronologiques planctoniques. 
J. Exp. Mar. Biol. Ecol., 4, 619â€“632
</p>
<p>Kendall, M.G., 1976, Time Series, 2nd ed. Charles Griffin and Co, London.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Load Swiss Equities Series -  
   SPI.RET &lt;- LPP2005REC[, "SPI"]
   head(SPI.RET)

## Cumulate and Smooth the Series -
   SPI &lt;- smoothLowess(cumulated(SPI.RET), f=0.05)
   plot(SPI)
   
## Plot Turn Points Series - 
   SPI.SMOOTH &lt;- SPI[, 2]
   tP &lt;- turns(SPI.SMOOTH)
   plot(tP)
   
## Compute Statistics -
   turnsStats(SPI.SMOOTH)
</code></pre>


</div>