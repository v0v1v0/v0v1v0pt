<div class="container">

<table style="width: 100%;"><tr>
<td>tk_make_timeseries</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Intelligent date and date-time sequence creation</h2>

<h3>Description</h3>

<p>Improves on the <code>seq.Date()</code> and <code>seq.POSIXt()</code> functions by simplifying
into 1 function <code>tk_make_timeseries()</code>. Intelligently handles character dates
and logical assumptions based on user inputs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tk_make_timeseries(
  start_date,
  end_date,
  by,
  length_out = NULL,
  include_endpoints = TRUE,
  skip_values = NULL,
  insert_values = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>start_date</code></td>
<td>
<p>Used to define the starting date for date sequence generation.
Provide in "YYYY-MM-DD" format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end_date</code></td>
<td>
<p>Used to define the ending date for date sequence generation.
Provide in "YYYY-MM-DD" format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>A character string, containing one of
<code>"sec"</code>, <code>"min"</code>, <code>"hour"</code>, <code>"day"</code>, <code>"week"</code>, <code>"month"</code>, <code>"quarter"</code> or <code>"year"</code>.
You can create regularly spaced sequences using phrases like <code>by = "10 min"</code>. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length_out</code></td>
<td>
<p>Optional length of the sequence. Can be used instead of one of:
<code>start_date</code>, <code>end_date</code>, or <code>by</code>. Can be specified as a number or a time-based phrase.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_endpoints</code></td>
<td>
<p>Logical. Whether or not to keep the last value when <code>length_out</code> is
a time-based phrase. Default is <code>TRUE</code> (keep last value).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_values</code></td>
<td>
<p>A sequence to skip</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>insert_values</code></td>
<td>
<p>A sequence to insert</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>tk_make_timeseries()</code> function handles both date and date-time sequences
automatically.
</p>

<ul>
<li>
<p> Parses date and date times from character
</p>
</li>
<li>
<p> Intelligently guesses the sequence desired based on arguments provided
</p>
</li>
<li>
<p> Handles spacing intelligently
</p>
</li>
<li>
<p> When both <code>by</code> and <code>length_out</code> are missing, guesses either second or day sequences
</p>
</li>
<li>
<p> Can skip and insert values if needed.
</p>
</li>
</ul>
<p><strong>Start and End Date Specification</strong>
</p>
<p>Start and end dates can be specified in reduced time-based phrases:
</p>

<ul>
<li> <p><code>start_date = "2014"</code>: Is converted to "2014-01-01" (start of period)
</p>
</li>
<li> <p><code>end_date = "2014"</code>: Is converted to "2014-12-31" (end of period)
</p>
</li>
<li> <p><code>start_date = "2014-03"</code>: Is converted to "2014-03-01" (start of period)
</p>
</li>
<li> <p><code>end_date = "2014-03"</code>: Is converted to "2014-03-31" (end of period)
</p>
</li>
</ul>
<p>A similar process can be used for date-times.
</p>
<p><strong>By: Daily Sequences</strong>
</p>
<p>Make a daily sequence with <code>tk_make_timeseries(by)</code>. Examples:
</p>

<ul>
<li>
<p> Every Day: <code>by = "day"</code>
</p>
</li>
<li>
<p> Every 2-Weeks: <code>by = "2 weeks"</code>
</p>
</li>
<li>
<p> Every 6-months: <code>by = "6 months"</code>
</p>
</li>
</ul>
<p>If missing, will guess <code>by = "day"</code>
</p>
<p><strong>By: Sub-Daily Sequences</strong>
</p>
<p>Make a sub-daily sequence with <code>tk_make_timeseries(by)</code>. Examples:
</p>

<ul>
<li>
<p> Every minute: <code>by = "min"</code>
</p>
</li>
<li>
<p> Every 30-seconds: <code>by = "30 sec"</code>
</p>
</li>
<li>
<p> Every 2-hours: <code style="white-space: pre;">⁠by = "2 hours⁠</code>
</p>
</li>
</ul>
<p>If missing, will guess <code>by = "sec"</code> if the start or end date is a date-time specification.
</p>
<p><strong>Length Out</strong>
</p>
<p>The <code>length_out</code> can be specified by number of observation or complex time-based expressions.
The following examples are all possible.
</p>

<ul>
<li> <p><code>length_out = 12</code> Creates 12 evenly spaced observations.
</p>
</li>
<li> <p><code>length_out = "12 months"</code> Adjusts the end date so it falls on the 12th month.
</p>
</li>
</ul>
<p><strong>Include Endpoint</strong>
</p>
<p>Sometimes the last date is not desired.
For example, if the user specifies <code style="white-space: pre;">⁠length_out = 12 months⁠</code>, the user may want the last value
to be the 12th month and not the 13th. Just toggle, <code>include_endpoint = FALSE</code> to obtain this
behavior.
</p>
<p><strong>Skip / Insert Timestamps</strong>
</p>
<p>Skips and inserts are performed after the sequence is generated. This means that if you use
the <code>length_out</code> parameter, the length may differ than the <code>length_out</code>.
</p>


<h3>Value</h3>

<p>A vector containing date or date-times
</p>


<h3>See Also</h3>


<ul>
<li>
<p> Intelligent date or date-time sequence creation: <code>tk_make_timeseries()</code>
</p>
</li>
<li>
<p> Holidays and weekends: <code>tk_make_holiday_sequence()</code>, <code>tk_make_weekend_sequence()</code>, <code>tk_make_weekday_sequence()</code>
</p>
</li>
<li>
<p> Make future index from existing: <code>tk_make_future_timeseries()</code>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)

# Set max.print to 50
options_old &lt;- options()$max.print
options(max.print = 50)

# ---- DATE ----

# Start + End, Guesses by = "day"
tk_make_timeseries("2017-01-01", "2017-12-31")

# Just Start
tk_make_timeseries("2017") # Same result

# Only dates in February, 2017
tk_make_timeseries("2017-02")

# Start + Length Out, Guesses by = "day"
tk_make_timeseries("2012", length_out = 6) # Guesses by = "day"

# Start + By + Length Out, Spacing 6 observations by monthly interval
tk_make_timeseries("2012", by = "1 month", length_out = 6)

# Start + By + Length Out, Phrase "1 year 6 months"
tk_make_timeseries("2012", by = "1 month",
                   length_out = "1 year 6 months", include_endpoints = FALSE)

# Going in Reverse, End + Length Out
tk_make_timeseries(end_date = "2012-01-01", by = "1 month",
                   length_out = "1 year 6 months", include_endpoints = FALSE)

# ---- DATE-TIME ----

# Start + End, Guesses by second
tk_make_timeseries("2016-01-01 01:01:02", "2016-01-01 01:01:04")

# Date-Time Sequence - By 10 Minutes
# - Converts to date-time automatically &amp; applies 10-min interval
tk_make_timeseries("2017-01-01", "2017-01-02", by = "10 min")


# --- REMOVE / INCLUDE ENDPOINTS ----

# Last value in this case is desired
tk_make_timeseries("2017-01-01", by = "30 min", length_out = "6 hours")

# Last value in monthly case is not wanted
tk_make_timeseries("2012-01-01", by = "1 month",
                   length_out = "12 months",
                   include_endpoints = FALSE) # Removes unnecessary last value


# ---- SKIP &amp; INSERT VALUES ----

tk_make_timeseries(
    "2011-01-01", length_out = 5,
    skip_values   = "2011-01-05",
    insert_values = "2011-01-06"
)

options(max.print = options_old)

</code></pre>


</div>