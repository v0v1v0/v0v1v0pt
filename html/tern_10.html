<div class="container">

<table style="width: 100%;"><tr>
<td>add_riskdiff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Split function to configure risk difference column</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>Wrapper function for <code>rtables::add_combo_levels()</code> which configures settings for the risk difference
column to be added to an <code>rtables</code> object. To add a risk difference column to a table, this function
should be used as <code>split_fun</code> in calls to <code>rtables::split_cols_by()</code>, followed by setting argument
<code>riskdiff</code> to <code>TRUE</code> in all following analyze function calls.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_riskdiff(
  arm_x,
  arm_y,
  col_label = paste0("Risk Difference (%) (95% CI)", if (length(arm_y) &gt; 1)
    paste0("\n", arm_x, " vs. ", arm_y)),
  pct = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>arm_x</code></td>
<td>
<p>(<code>string</code>)<br> name of reference arm to use in risk difference calculations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arm_y</code></td>
<td>
<p>(<code>character</code>)<br> names of one or more arms to compare to reference arm in risk difference
calculations. A new column will be added for each value of <code>arm_y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_label</code></td>
<td>
<p>(<code>character</code>)<br> labels to use when rendering the risk difference column within the table.
If more than one comparison arm is specified in <code>arm_y</code>, default labels will specify which two arms are
being compared (reference arm vs. comparison arm).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pct</code></td>
<td>
<p>(<code>flag</code>)<br> whether output should be returned as percentages. Defaults to <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A closure suitable for use as a split function (<code>split_fun</code>) within <code>rtables::split_cols_by()</code>
when creating a table layout.
</p>


<h3>See Also</h3>

<p><code>stat_propdiff_ci()</code> for details on risk difference calculation.
</p>


<h3>Examples</h3>

<pre><code class="language-R">adae &lt;- tern_ex_adae
adae$AESEV &lt;- factor(adae$AESEV)

lyt &lt;- basic_table() %&gt;%
  split_cols_by("ARMCD", split_fun = add_riskdiff(arm_x = "ARM A", arm_y = c("ARM B", "ARM C"))) %&gt;%
  count_occurrences_by_grade(
    var = "AESEV",
    riskdiff = TRUE
  )

tbl &lt;- build_table(lyt, df = adae)
tbl

</code></pre>


</div>