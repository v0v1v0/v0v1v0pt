<div class="container">

<table style="width: 100%;"><tr>
<td>trace_package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Traces function calls from a package</h2>

<h3>Description</h3>

<p>Traces all function calls from a package and writes them to <code>file</code> with timestamps and callstack depth. Should always be used in combination with <code>untrace_package()</code> to untrace the package after use. For example <code style="white-space: pre;">⁠trace_package("graphics"); on.exit(untrace_package("graphics")⁠</code>. See examples for more details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">trace_package(
  pkg,
  file = stdout(),
  max = Inf,
  funign = character(),
  opsign = TRUE,
  dotign = TRUE,
  silent = TRUE,
  exitmsg = "exit"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pkg</code></td>
<td>
<p>Package name to trace.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>File to write to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>Maximum depth of callstack to print.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>funign</code></td>
<td>
<p>Functions to ignore.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opsign</code></td>
<td>
<p>Whether to ignore operators.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dotign</code></td>
<td>
<p>Whether to ignore functions starting with a dot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>Whether to suppress messages.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exitmsg</code></td>
<td>
<p>Message to print on function exits.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Some function define their own <code>on.exit()</code> handlers with option <code>add = FALSE</code>. For those functions, exit tracing is impossible (as described in <code>trace()</code>). For now those functions have to be detected and ignored manually by the user using argument <code>funign</code>.
</p>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>See Also</h3>

<p><code>untrace_package()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Trace all function from the graphics package, except for `plot.default`
# as it defines its own on.exit() handler, i.e. exit tracing is impossible.
local({
    trace_package("graphics", funign = "plot.default")
    on.exit(untrace_package("graphics"), add = TRUE)
    plot(1:10)
})

## End(Not run)
</code></pre>


</div>