<div class="container">

<table style="width: 100%;"><tr>
<td>teal_modules</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create <code>teal_module</code> and <code>teal_modules</code> objects</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>Create a nested tab structure to embed modules in a <code>teal</code> application.
</p>


<h3>Usage</h3>

<pre><code class="language-R">module(
  label = "module",
  server = function(id, ...) {
     moduleServer(id, function(input, output, session) {
 
       })
 },
  ui = function(id, ...) {
     tags$p(paste0("This module has no UI (id: ", id, " )"))

    },
  filters,
  datanames = "all",
  server_args = NULL,
  ui_args = NULL
)

modules(..., label = "root")

## S3 method for class 'teal_module'
format(x, indent = 0, ...)

## S3 method for class 'teal_module'
print(x, ...)

## S3 method for class 'teal_modules'
format(x, indent = 0, ...)

## S3 method for class 'teal_modules'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>(<code>character(1)</code>) Label shown in the navigation item for the module or module group.
For <code>modules()</code> defaults to <code>"root"</code>. See <code>Details</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>server</code></td>
<td>
<p>(<code>function</code>) <code>shiny</code> module with following arguments:
</p>

<ul>
<li> <p><code>id</code> - <code>teal</code> will set proper <code>shiny</code> namespace for this module (see <code>shiny::moduleServer()</code>).
</p>
</li>
<li> <p><code>input</code>, <code>output</code>, <code>session</code> - (optional; not recommended) When provided, then <code>shiny::callModule()</code>
will be used to call a module. From <code>shiny</code> 1.5.0, the recommended way is to use
<code>shiny::moduleServer()</code> instead which doesn't require these arguments.
</p>
</li>
<li> <p><code>data</code> (optional) When provided, the module will be called with <code>teal_data</code> object (i.e. a list of
reactive (filtered) data specified in the <code>filters</code> argument) as the value of this argument.
</p>
</li>
<li> <p><code>datasets</code> (optional) When provided, the module will be called with <code>FilteredData</code> object as the
value of this argument. (See <code>teal.slice::FilteredData</code>).
</p>
</li>
<li> <p><code>reporter</code> (optional) When provided, the module will be called with <code>Reporter</code> object as the value
of this argument. (See <code>teal.reporter::Reporter</code>).
</p>
</li>
<li> <p><code>filter_panel_api</code> (optional) When provided, the module will be called with <code>FilterPanelAPI</code> object
as the value of this argument. (See <code>teal.slice::FilterPanelAPI</code>).
</p>
</li>
<li> <p><code>...</code> (optional) When provided, <code>server_args</code> elements will be passed to the module named argument
or to the <code>...</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ui</code></td>
<td>
<p>(<code>function</code>) <code>shiny</code> UI module function with following arguments:
</p>

<ul>
<li> <p><code>id</code> - <code>teal</code> will set proper <code>shiny</code> namespace for this module.
</p>
</li>
<li> <p><code>...</code> (optional) When provided, <code>ui_args</code> elements will be passed to the module named argument
or to the <code>...</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filters</code></td>
<td>
<p>(<code>character</code>) Deprecated. Use <code>datanames</code> instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datanames</code></td>
<td>
<p>(<code>character</code>) A vector with <code>datanames</code> that are relevant for the item. The
filter panel will automatically update the shown filters to include only
filters in the listed datasets. <code>NULL</code> will hide the filter panel,
and the keyword <code>"all"</code> will show filters of all datasets. <code>datanames</code> also determines
a subset of datasets which are appended to the <code>data</code> argument in server function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>server_args</code></td>
<td>
<p>(named <code>list</code>) with additional arguments passed on to the server function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ui_args</code></td>
<td>
<p>(named <code>list</code>) with additional arguments passed on to the UI function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<ul>
<li>
<p> For <code>modules()</code>: (<code>teal_module</code> or <code>teal_modules</code>) Objects to wrap into a tab.
</p>
</li>
<li>
<p> For <code>format()</code> and <code>print()</code>: Arguments passed to other methods.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(<code>teal_module</code> or <code>teal_modules</code>) Object to format/print.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indent</code></td>
<td>
<p>(<code>integer(1)</code>) Indention level; each nested element is indented one level more.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>module()</code> creates an instance of a <code>teal_module</code> that can be placed in a <code>teal</code> application.
<code>modules()</code> shapes the structure of a the application by organizing <code>teal_module</code> within the navigation panel.
It wraps <code>teal_module</code> and <code>teal_modules</code> objects in a <code>teal_modules</code> object,
which results in a nested structure corresponding to the nested tabs in the final application.
</p>
<p>Note that for <code>modules()</code> <code>label</code> comes after <code>...</code>, so it must be passed as a named argument,
otherwise it will be captured by <code>...</code>.
</p>
<p>The labels <code>"global_filters"</code> and <code>"Report previewer"</code> are reserved
because they are used by the <code>mapping</code> argument of <code>teal_slices()</code>
and the report previewer module <code>reporter_previewer_module()</code>, respectively.
</p>


<h3>Value</h3>

<p><code>module()</code> returns an object of class <code>teal_module</code>.
</p>
<p><code>modules()</code> returns a <code>teal_modules</code> object which contains following fields:
</p>

<ul>
<li> <p><code>label</code>: taken from the <code>label</code> argument.
</p>
</li>
<li> <p><code>children</code>: a list containing objects passed in <code>...</code>. List elements are named after
their <code>label</code> attribute converted to a valid <code>shiny</code> id.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">library(shiny)

module_1 &lt;- module(
  label = "a module",
  server = function(id, data) {
    moduleServer(
      id,
      module = function(input, output, session) {
        output$data &lt;- renderDataTable(data()[["iris"]])
      }
    )
  },
  ui = function(id) {
    ns &lt;- NS(id)
    tagList(dataTableOutput(ns("data")))
  },
  datanames = "all"
)

module_2 &lt;- module(
  label = "another module",
  server = function(id) {
    moduleServer(
      id,
      module = function(input, output, session) {
        output$text &lt;- renderText("Another Module")
      }
    )
  },
  ui = function(id) {
    ns &lt;- NS(id)
    tagList(textOutput(ns("text")))
  },
  datanames = NULL
)

modules &lt;- modules(
  label = "modules",
  modules(
    label = "nested modules",
    module_1
  ),
  module_2
)

app &lt;- init(
  data = teal_data(iris = iris),
  modules = modules
)

if (interactive()) {
  shinyApp(app$ui, app$server)
}
</code></pre>


</div>