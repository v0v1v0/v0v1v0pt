<div class="container">

<table style="width: 100%;"><tr>
<td>if_else2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Vectorised if else.</h2>

<h3>Description</h3>

<p>Vectorised if else that if true returns first possibility otherwise returns
second possibility (even if the condition is a missing value).
When searching character vectors an alternative solution is to use
<code>str_detect2()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">if_else2(condition, true, false)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>condition</code></td>
<td>
<p>Logical vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true, false</code></td>
<td>
<p>Values to use for <code>TRUE</code> and <code>FALSE</code> values of
<code>condition</code>. They must be either the same length as <code>condition</code>,
or length 1. They must also be the same type: <code>if_else()</code> checks that
they have the same type and same class. All other attributes are
taken from <code>true</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Where condition is <code>TRUE</code>, the matching value from <code>true</code>, where it's <code>FALSE</code> or <code>NA</code>, the matching value from <code>false</code>.
</p>


<h3>See Also</h3>

<p><code>ifelse()</code> and <code>dplyr::if_else()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># consider the following data frame
data &lt;- tibble::tibble(
  x = c(TRUE, FALSE, NA), 
  y = c("x is false", NA, "hello"))
  
# with a single vector if_else2() behaves the same as the default call to if_else().
dplyr::mutate(data,
    y1 = dplyr::if_else(y != "x is false", "x is true", y),
    y2 = if_else2(y != "x is false", "x is true", y))

# however in the case of a second vector the use of 
# if_else2() does not introduce missing values
dplyr::mutate(data,
    x1 = dplyr::if_else(stringr::str_detect(y, "x is false"), FALSE, x),
    x2 = if_else2(stringr::str_detect(y, "x is false"), FALSE, x))
    
# in the case of regular expression matching an alternative is to use 
# str_detect2()
dplyr::mutate(data,
    x3 = dplyr::if_else(str_detect2(y, "x is false"), FALSE, x))
</code></pre>


</div>