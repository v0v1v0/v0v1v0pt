<div class="container">

<table style="width: 100%;"><tr>
<td>format_auto</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Format automatically using data significant digits</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>Formatting function for the majority of default methods used in <code>analyze_vars()</code>.
For non-derived values, the significant digits of data is used (e.g. range), while derived
values have one more digits (measure of location and dispersion like mean, standard deviation).
This function can be called internally with "auto" like, for example,
<code>.formats = c("mean" = "auto")</code>. See details to see how this works with the inner function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">format_auto(dt_var, x_stat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dt_var</code></td>
<td>
<p>(<code>numeric</code>)<br> variable data the statistics were calculated from. Used only to
find significant digits. In analyze_vars this comes from <code>.df_row</code> (see
rtables::additional_fun_params), and it is the row data after the above row splits. No
column split is considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_stat</code></td>
<td>
<p>(<code>string</code>)<br> string indicating the current statistical method used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The internal function is needed to work with <code>rtables</code> default structure for
format functions, i.e. <code style="white-space: pre;">⁠function(x, ...)⁠</code>, where is x are results from statistical evaluation.
It can be more than one element (e.g. for <code>.stats = "mean_sd"</code>).
</p>


<h3>Value</h3>

<p>A string that <code>rtables</code> prints in a table cell.
</p>


<h3>See Also</h3>

<p>Other formatting functions: 
<code>extreme_format</code>,
<code>format_count_fraction()</code>,
<code>format_count_fraction_fixed_dp()</code>,
<code>format_count_fraction_lt10()</code>,
<code>format_extreme_values()</code>,
<code>format_extreme_values_ci()</code>,
<code>format_fraction()</code>,
<code>format_fraction_fixed_dp()</code>,
<code>format_fraction_threshold()</code>,
<code>format_sigfig()</code>,
<code>format_xx()</code>,
<code>formatting_functions</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">x_todo &lt;- c(0.001, 0.2, 0.0011000, 3, 4)
res &lt;- c(mean(x_todo[1:3]), sd(x_todo[1:3]))

# x is the result coming into the formatting function -&gt; res!!
format_auto(dt_var = x_todo, x_stat = "mean_sd")(x = res)
format_auto(x_todo, "range")(x = range(x_todo))
no_sc_x &lt;- c(0.0000001, 1)
format_auto(no_sc_x, "range")(x = no_sc_x)

</code></pre>


</div>