<div class="container">

<table style="width: 100%;"><tr>
<td>robust_decompose</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Robust time series seasonal decomposition</h2>

<h3>Description</h3>

<p>Decompose a time series into trend, level and potentially multiple seasonal
components including all interactions. The function allows for missings.
</p>


<h3>Usage</h3>

<pre><code class="language-R">robust_decompose(
  x,
  S,
  wsize = max(2 * max(S), 25),
  use.trend = TRUE,
  K = 4,
  ICpen = "BIC",
  extreg = NULL,
  use.autoregressive = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a time series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p>a number or vector describing the seasonalities (S_1, ..., S_K) in
the data, e.g. c(24, 168) if the data consists of 24 observations per day
and there is a weekly seasonality in the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wsize</code></td>
<td>
<p>is filter/rolling med size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.trend</code></td>
<td>
<p>if TRUE, uses standard decomposition. If FALSE, uses no
trend component.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>a sigma (standard deviation) bound. The observations that exceed
sigma*K become reduced weight in the regression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ICpen</code></td>
<td>
<p>is the information criterion penalty, e.g. string "BIC", "HQC"
or "AIC", or a fixed number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extreg</code></td>
<td>
<p>a vector, matrix or data frame of data containing external
regressors; each column is a variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.autoregressive</code></td>
<td>
<p>if TRUE, removes the autoregression from the
series. If NULL, it is derived data based.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list which contains a vector of fitted values, a vector of weights
given to the original time series, and a matrix of components of the
decomposition.<code style="white-space: pre;">⁠

⁠</code>
</p>


<h3>References</h3>

<p>Narajewski M, Kley-Holsteg J, Ziel F (2021).
“tsrobprep — an R package for robust preprocessing of time series data.”
<em>SoftwareX</em>, <b>16</b>, 100809.
doi: <a href="https://doi.org/10.1016/j.softx.2021.100809">10.1016/j.softx.2021.100809</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
GBload.decomposed &lt;- robust_decompose(GBload[,-1], S = c(48,7*48))
head(GBload.decomposed$components)

## End(Not run)
</code></pre>


</div>