<div class="container">

<table style="width: 100%;"><tr>
<td>rtruncbeta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The Truncated Exponential Family</h2>

<h3>Description</h3>

<p>Random generation for the truncated exponential family
distributions. Please refer to the "Details" and "Examples" section for more
information on how to use this function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rtruncbeta(n, shape1, shape2, a = 0, b = 1, faster = FALSE)

rtruncbinom(n, size, prob, a = 0, b = size, faster = FALSE)

rtruncchisq(n, df, a = 0, b = Inf, faster = FALSE)

rtrunccontbern(n, lambda, a = 0, b = 1, faster = FALSE)

rtruncexp(n, rate = 1, a = 0, b = Inf, faster = FALSE)

rtruncgamma(n, shape, rate = 1, scale = 1/rate, a = 0, b = Inf, faster = FALSE)

rtruncinvgamma(
  n,
  shape,
  rate = 1,
  scale = 1/rate,
  a = 0,
  b = Inf,
  faster = FALSE
)

rtruncinvgauss(n, m, s, a = 0, b = Inf, faster = FALSE)

rtrunclnorm(n, meanlog, sdlog, a = 0, b = Inf, faster = FALSE)

rtruncnbinom(n, size, prob, mu, a = 0, b = Inf, faster = FALSE)

rtruncnorm(n, mean, sd, a = -Inf, b = Inf, faster = FALSE)

rtruncpois(n, lambda, a = 0, b = Inf, faster = FALSE)

rtrunc(n, family = "gaussian", faster = FALSE, ...)

rtrunc_direct(n, family = "gaussian", parms, a, b, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape1</code></td>
<td>
<p>positive shape parameter alpha</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape2</code></td>
<td>
<p>positive shape parameter beta</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>point of left truncation. For discrete distributions, <code>a</code> will be
included in the support of the truncated distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>point of right truncation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>faster</code></td>
<td>
<p>if <code>TRUE</code>, samples directly from the truncated
distribution (more info in details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>target for number of successful trials,
or dispersion parameter (the shape parameter of the gamma mixing
distribution). Must be strictly positive, need not be integer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>probability of success on each trial</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>degrees of freedom for "parent" distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>mean and var of "parent" distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rate</code></td>
<td>
<p>inverse gamma rate parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>inverse gamma shape parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>inverse gamma scale parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>vector of means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>vector of dispersion parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meanlog</code></td>
<td>
<p>mean of untruncated distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdlog</code></td>
<td>
<p>standard deviation of untruncated distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>alternative parametrization via mean</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean</code></td>
<td>
<p>mean of parent distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd</code></td>
<td>
<p>standard deviation is parent distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>distribution family to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>individual arguments to each distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parms</code></td>
<td>
<p>list of parameters passed to rtrunc (through the <code>...</code> element)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>One way to use this function is by calling the <code>rtrunc</code>
generic with the <code>family</code> parameter of your choice. You can also
specifically call one of the methods (e.g. <code>rtruncpois(10, lambda=3)</code>
instead of <code style="white-space: pre;">⁠rtrunc(10, family="poisson", lambda=3)). The latter is more flexible (i.e., easily programmable) and more robust (i.e., it contains better error handling and validation procedures), while the former better conforms with the nomenclature from other distribution-related functions in the ⁠</code>stats' package.
</p>
<p>Setting <code>faster=TRUE</code> uses a new algorithm that samples directly from
the truncated distribution, as opposed to the old algorithm that samples
from the untruncated distribution and then truncates the result. The
advantage of the new algorithm is that it is way faster than the old one,
particularly for highly-truncated distributions. On the other hand, the
sample for untruncated distributions called through <code>rtrunc()</code> will no longer
match their stats-package counterparts for the same seed.
</p>


<h3>Value</h3>

<p>A sample of size n drawn from a truncated distribution
</p>
<p>vector of one of the <code style="white-space: pre;">⁠rtrunc_*⁠</code> classes containing the sample
elements, as well as some attributes related to the chosen distribution.
</p>


<h3>Note</h3>

<p>The current sample-generating algorithm may be slow if the distribution
is largely represented by low-probability values. This will be fixed soon.
Please follow <a href="https://github.com/ocbe-uio/TruncExpFam/issues/72">https://github.com/ocbe-uio/TruncExpFam/issues/72</a> for
details.
</p>


<h3>Author(s)</h3>

<p>René Holst, Waldir Leôncio
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Truncated binomial distribution
sample.binom &lt;- rtrunc(
  100, family = "binomial", prob = 0.6, size = 20, a = 4, b = 10
)
sample.binom
plot(
  table(sample.binom), ylab = "Frequency", main = "Freq. of sampled values"
)

# Truncated Log-Normal distribution
sample.lognorm &lt;- rtrunc(
  n = 100, family = "lognormal", meanlog = 2.5, sdlog = 0.5, a = 7
)
summary(sample.lognorm)

hist(
  sample.lognorm,
  nclass = 35, xlim = c(0, 60), freq = FALSE,
  ylim = c(0, 0.15)
)

# Normal distribution
sample.norm &lt;- rtrunc(n = 100, mean = 2, sd = 1.5, a = -1)
head(sample.norm)
hist(sample.norm, nclass = 25)

# Gamma distribution
sample.gamma &lt;- rtrunc(n = 100, family = "gamma", shape = 6, rate = 2, a = 2)
hist(sample.gamma, nclass = 15)

# Poisson distribution
sample.pois &lt;- rtrunc(n = 10, family = "poisson", lambda = 10, a = 4)
sample.pois
plot(table(sample.pois))
</code></pre>


</div>