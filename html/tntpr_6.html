<div class="container">

<table style="width: 100%;"><tr>
<td>choose_text_color</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get contrasting text colors for fills</h2>

<h3>Description</h3>

<p>Get appropriate high-contrast text colors for a vector of background colors.
This function uses the W3C contrast ratio guidance (through the
<code>colorspace::contrast_ratio()</code> function) to determine the contrast,
and will raise an error if no high-enough contrast colors can be found.
</p>


<h3>Usage</h3>

<pre><code class="language-R">choose_text_color(bg_color, text_colors = c("black", "white"), min_ratio = 4.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bg_color</code></td>
<td>
<p>a vector of colors to be used as background colors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text_colors</code></td>
<td>
<p>a vector of options for text colors. Defaults to "black" and "white"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_ratio</code></td>
<td>
<p>Minimum contrast ratio. By default this is set to 4.5, the WCAG recommendation for regular text.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default, this function uses black and white as the text color options,
however custom text color options can be set with the <code>text_colors</code>
argument.
</p>


<h3>Value</h3>

<p>a vector of text colors the same length as <code>bg_color</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(ggplot2)

fills &lt;- tntp_palette("top2_5")

diamonds |&gt;
  dplyr::summarize(m = mean(price), .by = cut) |&gt;
  ggplot(aes(cut, m, fill = cut)) +
  geom_col() +
  geom_text(aes(label = scales::dollar(m), color = cut), vjust = 1.5) +
  scale_fill_manual(values = fills, guide = "none") +
  scale_color_manual(values = choose_text_color(fills), guide = "none") +
  tntp_style(family = "sans")

</code></pre>


</div>