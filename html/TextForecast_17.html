<div class="container">

<table style="width: 100%;"><tr>
<td>tv_sentiment_index_all_coefs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>TV sentiment index using all positive and negative coefficients.</h2>

<h3>Description</h3>

<p>TV sentiment index using all positive and negative coefficients.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tv_sentiment_index_all_coefs(
  x,
  w,
  y,
  alpha,
  lambda,
  newx,
  family,
  scaled,
  k_mov_avg,
  type_mov_avg
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A matrix of variables to be selected by shrinkrage methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>Optional Argument. A matrix of variables to be selected by shrinkrage methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>the response variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>the alpha required in glmnet.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>the lambda required in glmnet.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newx</code></td>
<td>
<p>Matrix  that selection will be applied. Useful for time series, when we need the observation at time t.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>the glmnet family.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaled</code></td>
<td>
<p>Set TRUE for scale and FALSE for no scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_mov_avg</code></td>
<td>
<p>The moving average order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type_mov_avg</code></td>
<td>
<p>The type of moving average. See movavg.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with the net, postive and negative sentiment index. The net time-varying sentiment index. The index is based on the word/term counting and is computed using: tv_index=(pos-neg)/(pos+neg). The postive sentiment index is computed using: tv_index_pos=pos/(pos+neg) and the negative tv_index_neg=neg/(pos+neg).
</p>


<h3>Examples</h3>

<pre><code class="language-R">suppressWarnings(RNGversion("3.5.0"))
set.seed(1)
data("stock_data")
data("news_data")
y=as.matrix(stock_data[,2])
w=as.matrix(stock_data[,3])
data("news_data")
X=news_data[,2:ncol(news_data)]
x=as.matrix(X)
grid_alphas=0.05
cont_folds=TRUE
t=length(y)
optimal_alphas=optimal_alphas(x=x[1:(t-1),],
                              y=y[2:t],grid_alphas=grid_alphas,cont_folds=TRUE,family="gaussian")
tv_idx=tv_sentiment_index_all_coefs(x=x[1:(t-1),],y=y[2:t],alpha = optimal_alphas[1],
                                 lambda = optimal_alphas[2],newx=x,
                                 scaled = TRUE,k_mov_avg = 4,type_mov_avg = "s")
</code></pre>


</div>