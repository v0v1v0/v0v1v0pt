<div class="container">

<table style="width: 100%;"><tr>
<td>readXML</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read In an XML Document</h2>

<h3>Description</h3>

<p>Return a function which reads in an <abbr><span class="acronym">XML</span></abbr> document. The structure of
the <abbr><span class="acronym">XML</span></abbr> document is described with a specification.
</p>


<h3>Usage</h3>

<pre><code class="language-R">readXML(spec, doc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>spec</code></td>
<td>
<p>A named list of lists each containing two components. The
constructed reader will map each list entry to the content or metadatum of
the text document as specified by the named list entry. Valid names include
<code>content</code> to access the document's content, and character strings which
are mapped to metadata entries.
</p>
<p>Each list entry must consist of two components: the first must be a string
describing the type of the second argument, and the second is the
specification entry. Valid combinations are:
</p>

<dl>
<dt><code>type = "node", spec = "XPathExpression"</code></dt>
<dd>
<p>The XPath (1.0)
expression <code>spec</code> extracts information from an <abbr><span class="acronym">XML</span></abbr> node.</p>
</dd>
<dt><code>type = "function", spec = function(doc) ...</code></dt>
<dd>
<p>The function
<code>spec</code> is called, passing over the <abbr><span class="acronym">XML</span></abbr> document (as
delivered by <code>read_xml</code> from package <span class="pkg">xml2</span>) as
first argument.</p>
</dd>
<dt><code>type = "unevaluated", spec = "String"</code></dt>
<dd>
<p>The character vector
<code>spec</code> is returned without modification.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doc</code></td>
<td>
<p>An (empty) document of some subclass of <code>TextDocument</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Formally this function is a function generator, i.e., it returns a
function (which reads in a text document) with a well-defined
signature, but can access passed over arguments (e.g., the specification)
via lexical scoping.
</p>


<h3>Value</h3>

<p>A function with the following formals:
</p>

<dl>
<dt><code>elem</code></dt>
<dd>
<p>a named list with the component <code>content</code> which
must hold the document to be read in.</p>
</dd>
<dt><code>language</code></dt>
<dd>
<p>a string giving the language.</p>
</dd>
<dt><code>id</code></dt>
<dd>
<p>a character giving a unique identifier for the created
text document.</p>
</dd>
</dl>
<p>The function returns <code>doc</code> augmented by the parsed information
as described by <code>spec</code> out of the <abbr><span class="acronym">XML</span></abbr> file in
<code>elem$content</code>. The arguments <code>language</code> and <code>id</code> are used as
fallback: <code>language</code> if no corresponding metadata entry is found in
<code>elem$content</code>, and <code>id</code> if no corresponding metadata entry is found
in <code>elem$content</code> and if <code>elem$uri</code> is null.
</p>


<h3>See Also</h3>

<p><code>Reader</code> for basic information on the reader infrastructure
employed by package <span class="pkg">tm</span>.
</p>
<p>Vignette 'Extensions: How to Handle Custom File Formats', and
<code>XMLSource</code>.
</p>


</div>