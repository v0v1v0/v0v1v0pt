<div class="container">

<table style="width: 100%;"><tr>
<td>Diff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Differencing Transformation</h2>

<h3>Description</h3>

<p>The <code>Diff()</code> function returns a simple or seasonal differencing
transformation of the provided time series. <code>Diff.rev()</code> reverses the
transformation. Wrapper functions for <code>diff</code> and
<code>diffinv</code> of the <code>stats</code> package, respectively.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Diff(
  x,
  lag = ifelse(type == "simple", 1, stats::frequency(x)),
  differences = NULL,
  type = c("simple", "seasonal"),
  ...
)

Diff.rev(
  x,
  lag = ifelse(type == "simple", 1, stats::frequency(x)),
  differences = 1,
  xi,
  type = c("simple", "seasonal"),
  addinit = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector or univariate time series containing the values to
be differenced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>Integer indicating the lag parameter. Default set to <code>1</code> if
<code>type = "simple"</code>, or <code>frequency(x)</code> if <code>type = "seasonal"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>differences</code></td>
<td>
<p>Integer representing the order of the difference. If
<code>NULL</code>, the order of the difference is automatically selected using
<code>ndiffs</code> (if <code>type = "simple"</code>) or
<code>nsdiffs</code> (if <code>type = "seasonal"</code>) from the
<code>forecast</code> package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Character string. Indicates if the function should perform
simple or seasonal differencing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to <code>ndiffs</code> (if
<code>type = "simple"</code>) or <code>nsdiffs</code> (if <code>type =
"seasonal"</code>) from the <code>forecast</code> package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xi</code></td>
<td>
<p>Numeric vector or time series containing the initial values for
the integrals. If missing, zeros are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addinit</code></td>
<td>
<p>If <code>FALSE</code>, the reverse transformed time series does not 
contain <code>xi</code>. Default set to <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>x</code> if <code>differences</code> is automatically selected, and is not
set as greater than <code>0</code>. Same as <code>diff</code> otherwise.
</p>


<h3>Author(s)</h3>

<p>Rebecca Pontes Salles
</p>


<h3>References</h3>

<p>R.J. Hyndman and G. Athanasopoulos, 2013, Forecasting:
principles and practice. OTexts.
</p>
<p>R.H. Shumway and D.S. Stoffer, 2010, Time Series Analysis and Its
Applications: With R Examples. 3rd ed. 2011 edition ed. New York, Springer.
</p>


<h3>See Also</h3>

<p>Other transformation methods: 
<code>LogT()</code>,
<code>WaveletT()</code>,
<code>emd()</code>,
<code>mas()</code>,
<code>mlm_io()</code>,
<code>outliers_bp()</code>,
<code>pct()</code>,
<code>train_test_subset()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(CATS)
d &lt;- Diff(CATS[,1], differences = 1)
x &lt;- Diff.rev(as.vector(d), differences = attributes(d)$differences, xi = attributes(d)$xi)
all(round(x,4)==round(CATS[,1],4))

</code></pre>


</div>