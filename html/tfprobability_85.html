<div class="container">

<table style="width: 100%;"><tr>
<td>sts_seasonal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Formal representation of a seasonal effect model.</h2>

<h3>Description</h3>

<p>A seasonal effect model posits a fixed set of recurring, discrete 'seasons',
each of which is active for a fixed number of timesteps and, while active,
contributes a different effect to the time series. These are generally not
meteorological seasons, but represent regular recurring patterns such as
hour-of-day or day-of-week effects. Each season lasts for a fixed number of
timesteps. The effect of each season drifts from one occurrence to the next
following a Gaussian random walk:
</p>


<h3>Usage</h3>

<pre><code class="language-R">sts_seasonal(
  observed_time_series = NULL,
  num_seasons,
  num_steps_per_season = 1,
  drift_scale_prior = NULL,
  initial_effect_prior = NULL,
  constrain_mean_effect_to_zero = TRUE,
  name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>observed_time_series</code></td>
<td>
<p>optional <code>float</code> <code>tensor</code> of shape
<code style="white-space: pre;">⁠batch_shape + [T, 1]⁠</code> (omitting the trailing unit dimension is also
supported when <code>T &gt; 1</code>), specifying an observed time series.
Any priors not explicitly set will be given default values according to
the scale of the observed time series (or batch of time series). May
optionally be an instance of <code>sts_masked_time_series</code>, which includes
a mask <code>tensor</code> to specify timesteps with missing observations.
Default value: <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_seasons</code></td>
<td>
<p>Scalar <code>integer</code> number of seasons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_steps_per_season</code></td>
<td>
<p><code>integer</code> number of steps in each
season. This may be either a scalar (shape <code style="white-space: pre;">⁠[]⁠</code>), in which case all
seasons have the same length, or an array of shape <code style="white-space: pre;">⁠[num_seasons]⁠</code>,
in which seasons have different length, but remain constant around
different cycles, or an array of shape <code style="white-space: pre;">⁠[num_cycles, num_seasons]⁠</code>,
in which num_steps_per_season for each season also varies in different
cycle (e.g., a 4 years cycle with leap day). Default value: 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drift_scale_prior</code></td>
<td>
<p>optional <code>tfd$Distribution</code> instance specifying a prior
on the <code>drift_scale</code> parameter. If <code>NULL</code>, a heuristic default prior is
constructed based on the provided <code>observed_time_series</code>. Default value: <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial_effect_prior</code></td>
<td>
<p>optional <code>tfd$Distribution</code> instance specifying a
normal prior on the initial effect of each season. This may be either
a scalar <code>tfd_normal</code> prior, in which case it applies independently to
every season, or it may be multivariate normal (e.g.,
<code>tfd_multivariate_normal_diag</code>) with event shape <code style="white-space: pre;">⁠[num_seasons]⁠</code>, in
which case it specifies a joint prior across all seasons. If <code>NULL</code>, a
heuristic default prior is constructed based on the provided
<code>observed_time_series</code>. Default value: <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constrain_mean_effect_to_zero</code></td>
<td>
<p>if <code>TRUE</code>, use a model parameterization
that constrains the mean effect across all seasons to be zero. This
constraint is generally helpful in identifying the contributions of
different model components and can lead to more interpretable
posterior decompositions. It may be undesirable if you plan to directly
examine the latent space of the underlying state space model. Default value: <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>the name of this model component. Default value: 'Seasonal'.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<div class="sourceCode"><pre>effects[season, occurrence[i]] = (
  effects[season, occurrence[i-1]] + Normal(loc=0., scale=drift_scale))
</pre></div>
<p>The <code>drift_scale</code> parameter governs the standard deviation of the random walk;
for example, in a day-of-week model it governs the change in effect from this
Monday to next Monday.
</p>


<h3>Value</h3>

<p>an instance of <code>StructuralTimeSeries</code>.
</p>


<h3>See Also</h3>

<p>For usage examples see <code>sts_fit_with_hmc()</code>, <code>sts_forecast()</code>, <code>sts_decompose_by_component()</code>.
</p>
<p>Other sts: 
<code>sts_additive_state_space_model()</code>,
<code>sts_autoregressive_state_space_model()</code>,
<code>sts_autoregressive()</code>,
<code>sts_constrained_seasonal_state_space_model()</code>,
<code>sts_dynamic_linear_regression_state_space_model()</code>,
<code>sts_dynamic_linear_regression()</code>,
<code>sts_linear_regression()</code>,
<code>sts_local_level_state_space_model()</code>,
<code>sts_local_level()</code>,
<code>sts_local_linear_trend_state_space_model()</code>,
<code>sts_local_linear_trend()</code>,
<code>sts_seasonal_state_space_model()</code>,
<code>sts_semi_local_linear_trend_state_space_model()</code>,
<code>sts_semi_local_linear_trend()</code>,
<code>sts_smooth_seasonal_state_space_model()</code>,
<code>sts_smooth_seasonal()</code>,
<code>sts_sparse_linear_regression()</code>,
<code>sts_sum()</code>
</p>


</div>