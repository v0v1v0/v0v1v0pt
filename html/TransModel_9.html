<div class="container">

<table style="width: 100%;"><tr>
<td>TransModel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Main function for fitting the linear transformation models for right censored data
</h2>

<h3>Description</h3>

<p>This function is used to fit a linear transformation model, such as the proportional hazards model or 
proportional odds model, to the right censored survival data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">TransModel(formula = formula(data), data = parent.frame(), r, CICB.st, subset, 
dx, iter.max, num.sim)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>

<p>A survival formula based on the Surv() function, containg survival time, right censoring indicator and coavariates.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>Data set with all the variables needed in formula.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>

<p>Parameter in the hazard function, used to define different linear models. See details for more information.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CICB.st</code></td>
<td>

<p>Whether or not the perturbation for deriving the confidence intervals and confidence bands of survival estimates will be done. The default value is FALSE.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>

<p>Conditions for subsetting the dataset.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dx</code></td>
<td>

<p>Convergence tolerance. Default is 0.001.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter.max</code></td>
<td>

<p>Maximum number of iterations before convergence. Default is 100.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.sim</code></td>
<td>

<p>The number of perturbation, only works when CICB.st=TRUE. Default is 200.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In the linear transformation model H(t)=-b'z+e, the hazard function for error term e is defined as:
h(x)=exp(x)/(1+r*exp(x)), where the parameter r must be a non-negative value and can be changed for different models. For example, r=0 refers to the proportional hazards
model and r=1 refers to a proportional odds model. The default value for r is 0.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>coefficients</code></td>
<td>
<p>Estimated coefficients for covariates in the specified linear transformation model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcov</code></td>
<td>
<p>Estimated covariance matix for the coefficients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>converged</code></td>
<td>
<p>Convergence status, 0 indicates converged, and number of iterations used for convergence.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Kani Chen, et al., Semiparametric analysis of transformation models with censored data. Biometrika, 
89(3), 659-668, 2002.
</p>


<h3>Examples</h3>

<pre><code class="language-R">beta0 = c(1,-1)
# Fit proportional hazards model
data(PH_examp)
mod1&lt;-TransModel(formula=Surv(time,status)~gender+age,data=PH_examp,r=0)
print(mod1)
summary(mod1)
mod1$coefficients
mod1$vcov
mod1$converged

# Fit proportional odds model
data(PO_examp)
mod2=TransModel(Surv(time,status)~gender+age,data=PO_examp,r=1)
print(mod2)
summary(mod2)
</code></pre>


</div>