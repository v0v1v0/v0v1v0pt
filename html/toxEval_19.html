<div class="container">

<table style="width: 100%;"><tr>
<td>make_tox_map</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an interactive map of the data</h2>

<h3>Description</h3>

<p>The function <code>make_tox_map</code> creates a <code>leaflet</code> map
of the sites. This function places symbols at the location of each site in the data
file that represent the magnitude of EAR (color) and the number of
samples in the data set (size). This is the only function that requires
"dec_lon" and "dec_lat" (decimal longitude and decimal latitude) in the
data frame specified for the chem_site argument.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_tox_map(
  chemical_summary,
  chem_site,
  category = "Biological",
  mean_logic = FALSE,
  sum_logic = TRUE
)

map_tox_data(
  chemical_summary,
  chem_site,
  category = "Biological",
  mean_logic = FALSE,
  sum_logic = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>chemical_summary</code></td>
<td>
<p>Data frame from <code>get_chemical_summary</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chem_site</code></td>
<td>
<p>Data frame containing the columns SiteID, site_grouping,
Short Name, dec_lon, and dec_lat.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>category</code></td>
<td>
<p>Character. Either "Biological", "Chemical Class", or "Chemical".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean_logic</code></td>
<td>
<p>Logical.  <code>TRUE</code> displays the mean EAR from each site,
<code>FALSE</code> displays the maximum EAR from each site.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sum_logic</code></td>
<td>
<p>Logical. <code>TRUE</code> sums the EARs in a specified grouping,
<code>FALSE</code> does not. <code>FALSE</code> may be better for traditional benchmarks as
opposed to ToxCast benchmarks.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>map_tox_data</code> calculates the statistics for the map. It
my be useful on it's own.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># This is the example workflow:
path_to_tox &lt;- system.file("extdata", package = "toxEval")
file_name &lt;- "OWC_data_fromSup.xlsx"

full_path &lt;- file.path(path_to_tox, file_name)
tox_list &lt;- create_toxEval(full_path)

ACC &lt;- get_ACC(tox_list$chem_info$CAS)
ACC &lt;- remove_flags(ACC)

cleaned_ep &lt;- clean_endPoint_info(end_point_info)
filtered_ep &lt;- filter_groups(cleaned_ep)
chemical_summary &lt;- get_chemical_summary(tox_list, ACC, filtered_ep)

make_tox_map(chemical_summary, tox_list$chem_site, "Biological")
make_tox_map(chemical_summary, tox_list$chem_site, "Chemical Class")
make_tox_map(chemical_summary, tox_list$chem_site, "Chemical")

</code></pre>


</div>