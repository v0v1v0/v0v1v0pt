<div class="container">

<table style="width: 100%;"><tr>
<td>detect_any</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Detect SDGs in text with own query system</h2>

<h3>Description</h3>

<p><code>detect_any</code> identifies SDGs in text using user provided query systems. Works like <code>detect_sdg_systems</code> but uses a user specified query system instead of an existing one like <code>detect_sdg_systems</code> does.
</p>


<h3>Usage</h3>

<pre><code class="language-R">detect_any(
  text,
  system,
  queries = lifecycle::deprecated(),
  sdgs = NULL,
  output = c("features", "documents"),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p><code>character</code> vector or object of class <code>tCorpus</code> containing text in which SDGs shall be detected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>system</code></td>
<td>
<p>a data frame that must contain the following variables: a <code>character</code> vector with queries, a <code>integer</code> vector specifying which SDG each query maps to (values must be between 1 and 17) and a <code>character</code> with one unique value specifying the name of the used query system (can be anything as long as it is unique).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>queries</code></td>
<td>
<p>deprecated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdgs</code></td>
<td>
<p><code>numeric</code> vector with integers between 1 and 17 specifying the sdgs to identify in <code>text</code>. Defaults to <code>1:17</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p><code>character</code> specifying the level of detail in the output. The default <code>"features"</code> returns a <code>tibble</code> with one row per matched query, include a variable containing the features of the query that were matched in the text. By contrast, <code>"documents"</code> returns an aggregated <code>tibble</code> with one row per matched sdg, without information on the features.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p><code>logical</code> specifying whether messages on the function's progress should be printed.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function returns a <code>tibble</code> containing the SDG hits found in the vector of documents. Depending on the value of <code>output</code> the tibble will contain all or some of the following columns:
</p>

<dl>
<dt>document</dt>
<dd>
<p>Index of the element in <code>text</code> where match was found. Formatted as a factor with the number of levels matching the original number of documents.</p>
</dd>
<dt>sdg</dt>
<dd>
<p>Label of the SDG found in document.</p>
</dd>
<dt>systems</dt>
<dd>
<p>The name of the query system that produced the match.</p>
</dd>
<dt>query_id</dt>
<dd>
<p>Index of the query within the query system that produced the match.</p>
</dd>
<dt>features</dt>
<dd>
<p>Concatenated list of words that caused the query to match.</p>
</dd>
<dt>hit</dt>
<dd>
<p>Index of hit for a given system.</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">
# create data frame with query system
my_queries &lt;- tibble::tibble(
  system = "my_system",
  query = c(
    "theory",
    "analysis OR analyses OR analyzed",
    "study AND hypothesis"
  ),
  sdg = c(1, 2, 2)
)

# run sdg detection with own query system
hits &lt;- detect_any(projects, my_queries)

# run sdg detection for sdg 2 only
hits &lt;- detect_any(projects, my_queries, sdgs = 2)


</code></pre>


</div>