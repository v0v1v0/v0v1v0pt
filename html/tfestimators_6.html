<div class="container">

<table style="width: 100%;"><tr>
<td>classifier_parse_example_spec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generates Parsing Spec for TensorFlow Example to be Used with Classifiers</h2>

<h3>Description</h3>

<p>If users keep data in TensorFlow Example format, they need to call <code>tf$parse_example</code>
with a proper feature spec. There are two main things that this utility
helps:
</p>

<ul>
<li>
<p> Users need to combine parsing spec of features with labels and
weights (if any) since they are all parsed from same <code>tf$Example</code> instance.
This utility combines these specs.
</p>
</li>
<li>
<p> It is difficult to map expected label by
a classifier such as <code>dnn_classifier</code> to corresponding <code>tf$parse_example</code> spec.
This utility encodes it by getting related information from users (key,
dtype).
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">classifier_parse_example_spec(
  feature_columns,
  label_key,
  label_dtype = tf$int64,
  label_default = NULL,
  weight_column = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>feature_columns</code></td>
<td>
<p>An iterable containing all feature columns. All items
should be instances of classes derived from <code style="white-space: pre;">⁠_FeatureColumn⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_key</code></td>
<td>
<p>A string identifying the label. It means <code>tf$Example</code> stores
labels with this key.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_dtype</code></td>
<td>
<p>A <code>tf$dtype</code> identifies the type of labels. By default it
is <code>tf$int64</code>. If user defines a <code>label_vocabulary</code>, this should be set as
<code>tf$string</code>. <code>tf$float32</code> labels are only supported for binary
classification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_default</code></td>
<td>
<p>used as label if label_key does not exist in given
<code>tf$Example</code>. An example usage: let's say <code>label_key</code> is 'clicked' and
<code>tf$Example</code> contains clicked data only for positive examples in following
format <code style="white-space: pre;">⁠key:clicked, value:1⁠</code>. This means that if there is no data with key
'clicked' it should count as negative example by setting
<code>label_deafault=0</code>. Type of this value should be compatible with
<code>label_dtype</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight_column</code></td>
<td>
<p>A string or a numeric column created by
<code>column_numeric()</code> defining feature column representing
weights. It is used to down weight or boost examples during training. It
will be multiplied by the loss of the example. If it is a string, it is
used as a key to fetch weight tensor from the <code>features</code>. If it is a
numeric column, raw tensor is fetched by key <code>weight_column$key</code>, then
<code>weight_column$normalizer_fn</code> is applied on it to get weight tensor.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A dict mapping each feature key to a <code>FixedLenFeature</code> or
<code>VarLenFeature</code> value.
</p>


<h3>Raises</h3>


<ul>
<li>
<p> ValueError: If label is used in <code>feature_columns</code>.
</p>
</li>
<li>
<p> ValueError: If weight_column is used in <code>feature_columns</code>.
</p>
</li>
<li>
<p> ValueError: If any of the given <code>feature_columns</code> is not a feature column instance.
</p>
</li>
<li>
<p> ValueError: If <code>weight_column</code> is not a numeric column instance.
</p>
</li>
<li>
<p> ValueError: if label_key is <code>NULL</code>.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Other parsing utilities: 
<code>regressor_parse_example_spec()</code>
</p>


</div>