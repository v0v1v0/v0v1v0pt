<div class="container">

<table style="width: 100%;"><tr>
<td>optimizer_moving_average</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Moving Average</h2>

<h3>Description</h3>

<p>Moving Average
</p>


<h3>Usage</h3>

<pre><code class="language-R">optimizer_moving_average(
  optimizer,
  sequential_update = TRUE,
  average_decay = 0.99,
  num_updates = NULL,
  name = "MovingAverage",
  clipnorm = NULL,
  clipvalue = NULL,
  decay = NULL,
  lr = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>optimizer</code></td>
<td>
<p>str or tf$keras$optimizers$Optimizer that will be used to compute
and apply gradients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sequential_update</code></td>
<td>
<p>Bool. If False, will compute the moving average at the same
time as the model is updated, potentially doing benign data races. If True, will update
the moving average after gradient updates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>average_decay</code></td>
<td>
<p>float. Decay to use to maintain the moving averages of trained variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_updates</code></td>
<td>
<p>Optional count of the number of updates applied to variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>Optional name for the operations created when applying gradients.
Defaults to "MovingAverage".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clipnorm</code></td>
<td>
<p>is clip gradients by norm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clipvalue</code></td>
<td>
<p>is clip gradients by value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decay</code></td>
<td>
<p>is included for backward compatibility to allow time inverse decay of learning rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lr</code></td>
<td>
<p>is included for backward compatibility, recommended to use learning_rate instead.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Optimizer that computes a moving average of the variables.
Empirically it has been found that using the moving average of the
trained parameters of a deep network is better than using its trained
parameters directly. This optimizer allows you to compute this moving
average and swap the variables at save time so that any code outside
of the training loop will use by default the average values
instead of the original ones.
</p>


<h3>Value</h3>

<p>Optimizer for use with 'keras::compile()'
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 

opt = tf$keras$optimizers$SGD(learning_rate)
opt = moving_average(opt)


## End(Not run)

</code></pre>


</div>