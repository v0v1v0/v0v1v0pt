<div class="container">

<table style="width: 100%;"><tr>
<td>confband.tramME</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Confidence intervals and bands from a <code>tramME</code> model</h2>

<h3>Description</h3>

<p>Pointwise confidence intervals or multiplicity-adjusted confidence bands for
transformation, distribution, survivor or cumulative hazard functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'tramME'
confband(
  object,
  newdata,
  level = 0.95,
  type = c("trafo", "distribution", "survivor", "cumhazard"),
  adjust = FALSE,
  K = 40,
  cheat = K,
  q = NULL,
  baseline_only = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>The <code>tramME</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>A data frame of covariate values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>Confidence level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The scale on which the condfidence bands are calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjust</code></td>
<td>
<p>If <code>TRUE</code>, multiplicity-adjusted confidence bands are
calculated. (see Details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>The number of grid points at which the outcome distribution is
evaluated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cheat</code></td>
<td>
<p>In the case of multiplicity adjustment (<code>adjust = TRUE</code>),
an option to decrease the number of grid points (<code>cheat &lt; K</code>), for
faster calculations and increased numerical stability. (see Details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>The quantiles at which the model is evaluated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baseline_only</code></td>
<td>
<p>If <code>TRUE</code>, only evaluate the baseline
transformation function and ignore the shift terms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional arguments passed to <code>confint.glht</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Similarly to <code>confband</code>, this method evaluates the
conditional distribution of the outcome on a selected scale given a number
of grid-points and claculates the corresponding confidence intervals or
bands (adjusting for multiplicity).
</p>
<p>The point estimates retured by this function could also be calculated with
<code>predict.tramME</code> (when <code>newdata</code> does not contain
response values and <code>K</code> is set to the number of grid points).
While <code>predict.tramME</code> is designed to calculate a
potentially large number of point estimates on a wider range of available
scales, <code>confband</code> calculates the asymptotic intervals from the joint
covariance matrix of the fixed and random effects. For technical reasons,
a smaller set of <code>type</code> options are available, and the calculations
are slower than with <code>predict.tramME</code>. The handling of random
effects is currently stricter than in <code>predict.tramME</code>: No
<code>ranef</code> option is available, and grouping factors for random effects
supplied in <code>newdata</code> must have the same levels as the dataset used
to fit the model.
</p>
<p>The multiplicity adjustment is done using
<code>confint.glht</code>. The <code>cheat</code> argument reduces
the dimensionality of the multivariate root-finding problem (see
<code>qmvt</code>) for speed and (occasionally) numerical
stability. The critical value for the confidence bands are obtained for
<code>cheat &lt; K</code> grid points, but the confidence bands are calculated for
<code>K</code> grid points. As a result, the nominal level of the returned
confidence band is not maintained, but the deviation is expected to be
small if <code>cheat</code> is reasonably large. It is the user's responsibility
to set this value, and by default <code>cheat = K</code>.
</p>


<h3>Value</h3>

<p>A matrix (in the case when <code>newdata</code> has a single row) or a
list of matrices for each row of <code>newdata</code>.
</p>


<h3>Warning</h3>

<p>This method implements new functionality. Its user interface may
be subject to change.
</p>


</div>