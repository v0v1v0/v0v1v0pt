<div class="container">

<table style="width: 100%;"><tr>
<td>depth_rate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate the vertical velocity</h2>

<h3>Description</h3>

<p>This function is used to estimate the vertical velocity by differentiating a depth or altitude time series. A low-pass filter reduces the sensor noise that is amplified by the differentiation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">depth_rate(p, fs, fc, depth)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>A vector of depth or altitude data, or an animaltags list object containing depth or altitude data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fs</code></td>
<td>
<p>(required only if p is a vector) is the sampling rate of p in Hz.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fc</code></td>
<td>
<p>(optional) A smoothing filter cut-off frequency in Hz. If fc is not given, a default value is used of 0.2 Hz (5 second time constant).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>depth</code></td>
<td>
<p>(optional) The behavior of animals. Required only if dealing with animals not behave descent but ascent.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>v, The vertical velocity with the same sampling rate as p. v is a vector with the same dimensions as p. The unit of v depends on the unit of p. For example, if p is in meters, v is in meters/second
</p>


<h3>Note</h3>

<p>The low-pass filter is a symmetric FIR with length 4fs/fc. The group delay of the filters is removed. Usually, the function handles data pertaining to diving animals, where data is measured as the depth beneath the water surface. For ascending data coming from birds and alike data, setting depth = FALSE will help calculating the right vertical velocity.
</p>


<h3>Examples</h3>

<pre><code class="language-R">v &lt;- depth_rate(p = beaked_whale$P)
plott_base(list(beaked_whale$P$data, v),
  fs = beaked_whale$P$sampling_rate,
  r = c(1, 0), panel_labels = c("Depth\n(m)", "Vertical Velocity\n(m/s)")
)
</code></pre>


</div>