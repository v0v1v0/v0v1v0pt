<div class="container">

<table style="width: 100%;"><tr>
<td>data_list</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data lists for input into Bayesian models</h2>

<h3>Description</h3>

<p>Functions used by <code>compose_data()</code> to create lists of data suitable for
input into a Bayesian modeling function. <strong>These functions typically should not be called directly</strong>
(instead use <code>compose_data()</code>), but are exposed for the rare cases in which
you may need to provide your own conversion routines for a data type not already
supported (see <em>Details</em>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">data_list(...)

as_data_list(object, name = "", ...)

## Default S3 method:
as_data_list(object, name = "", ...)

## S3 method for class 'numeric'
as_data_list(object, name = "", scalar_as_array = FALSE, ...)

## S3 method for class 'logical'
as_data_list(object, name = "", ...)

## S3 method for class 'factor'
as_data_list(object, name = "", .n_name = n_prefix("n"), ...)

## S3 method for class 'character'
as_data_list(object, name = "", ...)

## S3 method for class 'list'
as_data_list(object, name = "", ...)

## S3 method for class 'data.frame'
as_data_list(object, name = "", .n_name = n_prefix("n"), ...)

## S3 method for class 'data_list'
as_data_list(object, name = "", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to other implementations of
<code>as_data_list</code>, or for <code>data_list</code>, passed to <code>list()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>The object to convert (see <em>Details</em>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>The name of the element in the returned list corresponding to
this object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scalar_as_array</code></td>
<td>
<p>If <code>TRUE</code>, returns single scalars as an
1-dimensional array with one element. This is used by
<code>as_data_list.data.frame</code> to ensure that columns from a data frame with
only one row are still returned as arrays instead of scalars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.n_name</code></td>
<td>
<p>A function that is used to form variables storing the number of
rows in data frames or the number of levels in factors in <code>...</code>). For
example, if a factor with <code>name = "foo"</code> (having three levels) is
passed in, the list returned will include an element named
<code>.n_name("foo")</code>, which by default would be "n_foo", containing the
value 3.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>data_list</code> creates a list with class <code>c("data_list", "list")</code>
instead of <code>c("list")</code>, but largely otherwise acts like the <code>list()</code>
function.
</p>
<p><code>as_data_list</code> recursively translates its first argument into list elements,
concatenating all resulting lists together. By default this means that:
</p>

<ul>
<li>
<p> numerics are included as-is.
</p>
</li>
<li>
<p> logicals are translated into numeric using <code>as.numeric()</code>.
</p>
</li>
<li>
<p> factors are translated into numeric using <code>as.numeric()</code>, and an additional element named
<code>.n_name(name)</code> is added with the number of levels in the factor.
</p>
</li>
<li>
<p> character vectors are converted into factors then translated into numeric in the same manner as factors are.
</p>
</li>
<li>
<p> lists are translated by translating all elements of the list
(recursively) and adding them to the result.
</p>
</li>
<li>
<p> data.frames are translated by translating every column of the data.frame and adding them to
the result. A variable named <code>"n"</code> (or <code>.n_name(name)</code> if <code>name</code> is not <code>""</code>)
is also added containing the number of rows in the data frame.
</p>
</li>
<li>
<p> all other types are dropped (and a warning given)
</p>
</li>
</ul>
<p>If you wish to add support for additional types not described above, provide
an implementation of <code>as_data_list()</code> for the type. See the
implementations of <code>as_data_list.numeric</code>, <code>as_data_list.logical</code>,
etc for examples.
</p>


<h3>Value</h3>

<p>An object of class <code>c("data_list", "list")</code>, where each element
is a translated variable as described above.
</p>


<h3>Author(s)</h3>

<p>Matthew Kay
</p>


<h3>See Also</h3>

<p><code>compose_data()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Typically these functions should not be used directly.
# See the compose_data function for examples of how to translate
# data in lists for input to Bayesian modeling functions.

</code></pre>


</div>