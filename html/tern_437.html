<div class="container">

<table style="width: 100%;"><tr>
<td>to_string_matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert table into matrix of strings</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>Helper function to use mostly within tests. <code>with_spaces</code>parameter allows
to test not only for content but also indentation and table structure.
<code>print_txt_to_copy</code> instead facilitate the testing development by returning a well
formatted text that needs only to be copied and pasted in the expected output.
</p>


<h3>Usage</h3>

<pre><code class="language-R">to_string_matrix(
  x,
  widths = NULL,
  max_width = NULL,
  hsep = formatters::default_hsep(),
  with_spaces = TRUE,
  print_txt_to_copy = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(<code>VTableTree</code>)<br><code>rtables</code> table object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>widths</code></td>
<td>
<p>(<code>numeric</code> or  <code>NULL</code>)<br> Proposed widths for the columns of <code>x</code>. The expected
length of this numeric vector can be retrieved with <code>ncol(x) + 1</code> as the column of row names
must also be considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_width</code></td>
<td>
<p>(<code>integer(1)</code>, <code>string</code> or <code>NULL</code>)<br> width that title and footer (including
footnotes) materials should be word-wrapped to. If <code>NULL</code>, it is set to the current print width of the
session (<code>getOption("width")</code>). If set to <code>"auto"</code>, the width of the table (plus any table inset) is
used. Parameter is ignored if <code>tf_wrap = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hsep</code></td>
<td>
<p>(<code>string</code>)<br> character to repeat to create header/body separator line. If
<code>NULL</code>, the object value will be used. If <code>" "</code>, an empty separator will be printed. See
<code>default_hsep()</code> for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>with_spaces</code></td>
<td>
<p>(<code>flag</code>)<br> whether the tested table should keep the indentation and other relevant spaces.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print_txt_to_copy</code></td>
<td>
<p>(<code>flag</code>)<br> utility to have a way to copy the input table directly
into the expected variable instead of copying it too manually.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>matrix</code> of <code>string</code>s. If <code>print_txt_to_copy = TRUE</code> the well formatted printout of the
table will be printed to console, ready to be copied as a expected value.
</p>


<h3>Examples</h3>

<pre><code class="language-R">tbl &lt;- basic_table() %&gt;%
  split_rows_by("SEX") %&gt;%
  split_cols_by("ARM") %&gt;%
  analyze("AGE") %&gt;%
  build_table(tern_ex_adsl)

to_string_matrix(tbl, widths = ceiling(propose_column_widths(tbl) / 2))

</code></pre>


</div>