<div class="container">

<table style="width: 100%;"><tr>
<td>bb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bounding box generator</h2>

<h3>Description</h3>

<p>Swiss army knife for bounding boxes. Modify an existing bounding box or create a new bounding box from scratch. See details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bb(
  x = NA,
  ext = NULL,
  cx = NULL,
  cy = NULL,
  width = NULL,
  height = NULL,
  xlim = NULL,
  ylim = NULL,
  relative = FALSE,
  asp.limit = NULL,
  current.projection = NULL,
  projection = NULL,
  output = c("bbox", "matrix", "extent")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>One of the following:
</p>

<ul>
<li>
<p> A shape from class <code>sf</code>, <code>stars</code>, <code>sp</code>, or <code>raster</code>.
</p>
</li>
<li>
<p> A bounding box (<code>st_bbox</code>, <code>Extent</code> (<code>raster</code> package, which will no longer be supported in the future versions), numeric vector of 4 (default order: xmin, ymin, xmax, ymax), or a 2x2 matrix).
</p>
</li>
<li>
<p> Open Street Map search query. The bounding is automatically generated by querying <code>x</code> from Open Street Map Nominatim. See <code>geocode_OSM</code> and <a href="https://wiki.openstreetmap.org/wiki/Nominatim">https://wiki.openstreetmap.org/wiki/Nominatim</a>.</p>
</li>
</ul>
<p>If <code>x</code> is not specified, a bounding box can be created from scratch (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ext</code></td>
<td>
<p>Extension factor of the bounding box. If 1, the bounding box is unchanged. Values smaller than 1 reduces the bounding box, and values larger than 1 enlarges the bounding box. This argument is a shortcut for both <code>width</code> and <code>height</code> with <code>relative=TRUE</code>. If a negative value is specified, then the shortest side of the bounding box (so width or height) is extended with <code>ext</code>, and the longest side is extended with the same absolute value. This is especially useful for bounding boxes with very low or high aspect ratios.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cx</code></td>
<td>
<p>center x coordinate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cy</code></td>
<td>
<p>center y coordinate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>width of the bounding box. These are either absolute or relative (depending on the argument <code>relative</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>height of the bounding box. These are either absolute or relative (depending on the argument <code>relative</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>limits of the x-axis. These are either absolute or relative (depending on the argument <code>relative</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>limits of the y-axis. See <code>xlim</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relative</code></td>
<td>
<p>boolean that determines whether relative values are used for <code>width</code>, <code>height</code>, <code>xlim</code> and <code>ylim</code> or absolute. If <code>x</code> is unspecified, <code>relative</code> is set to <code>"FALSE"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>asp.limit</code></td>
<td>
<p>maximum aspect ratio, which is width/height. Number greater than or equal to 1. For landscape bounding boxes, <code>1/asp.limit</code> will be used. The returned bounding box will have an aspect ratio between <code>1/asp.limit</code> and <code>asp.limit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>current.projection</code></td>
<td>
<p>projection that corresponds to the bounding box specified by <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>projection</code></td>
<td>
<p>projection to transform the bounding box to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>output format of the bounding box, one of:
</p>

<ul>
<li> <p><code>"bbox"</code> a <code>sf::bbox</code> object, which is a numeric vector of 4: xmin, ymin, xmax, ymax. This representation used by the <code>sf</code> package.
</p>
</li>
<li> <p><code>"matrix"</code> a 2 by 2 numeric matrix, where the rows correspond to x and y, and the columns to min and max. This representation used by the <code>sp</code> package.
</p>
</li>
<li> <p><code>"extent"</code> an <code>raster::extent</code> object, which is a numeric vector of 4: xmin, xmax, ymin, ymax. This representation used by the <code>raster</code> package.
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>Details</h3>

<p>An existing bounding box (defined by <code>x</code>) can be modified as follows:
</p>

<ul>
<li>
<p> Using the extension factor <code>ext</code>.
</p>
</li>
<li>
<p> Changing the width and height with <code>width</code> and <code>height</code>. The argument <code>relavitve</code> determines whether relative or absolute values are used.
</p>
</li>
<li>
<p> Setting the x and y limits. The argument <code>relavitve</code> determines whether relative or absolute values are used.</p>
</li>
</ul>
<p>A new bounding box can be created from scratch as follows:
</p>

<ul>
<li>
<p> Using the extension factor <code>ext</code>.
</p>
</li>
<li>
<p> Setting the center coorinates <code>cx</code> and <code>cy</code>, together with the <code>width</code> and <code>height</code>.
</p>
</li>
<li>
<p> Setting the x and y limits <code>xlim</code> and <code>ylim</code>
</p>
</li>
</ul>
<h3>Value</h3>

<p>bounding box (see argument <code>output</code>)
</p>


<h3>See Also</h3>

<p><code>geocode_OSM</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (require(tmap) &amp;&amp; packageVersion("tmap") &gt;= "2.0") {

    ## load shapes
    data(NLD_muni)
    data(World)

    ## get bounding box (similar to sp's function bbox)
    bb(NLD_muni)

    ## extent it by factor 1.10
    bb(NLD_muni, ext=1.10)

    ## convert to longlat
    bb(NLD_muni, projection=4326)

    ## change existing bounding box
    bb(NLD_muni, ext=1.5)
    bb(NLD_muni, width=2, relative = TRUE)
    bb(NLD_muni, xlim=c(.25, .75), ylim=c(.25, .75), relative = TRUE)

}

## Not run: 
if (require(tmap)) {
    bb("Limburg", projection = "rd")
    bb_italy &lt;- bb("Italy", projection = "eck4")

    tm_shape(World, bbox=bb_italy) + tm_polygons()
    # shorter alternative: tm_shape(World, bbox="Italy") + tm_polygons()
}
## End(Not run)
</code></pre>


</div>