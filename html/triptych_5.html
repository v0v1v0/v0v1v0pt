<div class="container">

<table style="width: 100%;"><tr>
<td>murphy</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evaluation of forecasts using Murphy curves</h2>

<h3>Description</h3>

<p>A Murphy curve visualizes economic utility by displaying the mean elementary
scores across all threshold values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">murphy(x, y_var = "y", ref_var = "ref", ..., y = NULL, ref = NULL)

as_murphy(x, r)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A data frame, list, matrix, or other object that can be coerced to a tibble. Contains numeric forecasts, and observations (optional).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_var</code></td>
<td>
<p>A variable in <code>x</code> that contains observations. Specified as the argument <code>var</code>in <code>dplyr::pull()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref_var</code></td>
<td>
<p>A variable in <code>x</code> that contains reference forecasts. Specified as the argument <code>var</code> in <code>dplyr::pull()</code>). Ignored, if the default name is not present in <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Unused.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector of observations. If supplied, overrides <code>y_var</code>. Otherwise, defaults to <code>dplyr::pull(x, y_var)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref</code></td>
<td>
<p>A numeric vector of reference forecasts. If supplied, overrides <code>ref_var</code>. Otherwise, ignored (see <code>ref_var</code>) or <code>dplyr::pull(x, ref_var)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>A reference triptych_murphy object whose attributes are used for casting.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>triptych_murphy</code> object, that is a <code>vctrs_vctr</code> subclass, and has
a length equal to number of forecasting methods supplied in <code>x</code>. Each entry
is named according to the corresponding forecasting method,
and contains a list of named objects:
</p>

<ul>
<li> <p><code>estimate</code>: A data frame with the threshold and corresponding mean score values.
</p>
</li>
<li> <p><code>region</code>: Either an empty list, or a data frame of point confidence intervals
added by <code>add_confidence()</code>.
</p>
</li>
<li> <p><code>x</code>: The numeric vector of original forecasts.
</p>
</li>
</ul>
<p>Access is most convenient through <code>estimates()</code>, <code>regions()</code>, and <code>forecasts()</code>.
</p>


<h3>See Also</h3>

<p>Accessors: <code>estimates()</code>, <code>regions()</code>, <code>forecasts()</code>, <code>observations()</code>
</p>
<p>Adding uncertainty quantification: <code>add_confidence()</code>
</p>
<p>Visualization: <code>plot.triptych_murphy()</code>, <code>autoplot.triptych_murphy()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(ex_binary, package = "triptych")

mr &lt;- murphy(ex_binary)
mr

# 1. Choose 4 predictions
# 2. Visualize
# 3. Adjust the title of the legend
mr[c(1, 3, 6, 9)] |&gt;
  autoplot() +
  ggplot2::guides(colour = ggplot2::guide_legend("Forecast"))
  
# Build yourself using accessors
library(ggplot2)
df_est &lt;- estimates(mr[c(1, 3, 6, 9)])
ggplot(df_est) +
  geom_path(aes(x = knot, y = mean_score, col = forecast))

</code></pre>


</div>