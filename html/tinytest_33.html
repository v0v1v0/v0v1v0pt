<div class="container">

<table style="width: 100%;"><tr>
<td>report_side_effects</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Report side effects for expressions in test files</h2>

<h3>Description</h3>

<p>Call this function from within a test file to report side effects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">report_side_effects(
  report = TRUE,
  envvar = report,
  pwd = report,
  files = report,
  locale = report
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>report</code></td>
<td>
<p><code>[logical]</code> report all side-effects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envvar</code></td>
<td>
<p><code>[logical]</code> changes in environment variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pwd</code></td>
<td>
<p><code>[logical]</code> changes in working directory</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>files</code></td>
<td>
<p><code>[logical]</code> changes in files in the directory where the
test file lives. Also watches subdirectories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locale</code></td>
<td>
<p><code>[logical]</code> Changes in locale settings as detected by 
<code>link[base]{Sys.getlocale}</code> are reported.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A named <code>logical</code>, indicating which aspects of the environment
are tracked, invisibly.
</p>


<h3>Details</h3>

<p>A side effect causes a change in an external variable outside of the scope
of a function, or test file. This includes environment variables, global
options, global R variables, creating files or directories, and so on.
</p>
<p>If this function is called in a test file, side effects are monitored from
that point in the file and only for that file. The state of the environment
before and after running every expression in the file are compared.
</p>
<p>There is some performance penalty in tracking external variables, especially
for those that require a system call.
</p>


<h3>Note</h3>

<p>There could be side-effects that are untrackable by <span class="pkg">tinytest</span>. This includes
packages that use a global internal state within their namespace or packages
that use a global state within compiled code.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># switch on
report_side_effects()
# switch off
report_side_effects(FALSE)

# only report changes in environment variables
report_side_effects(report=FALSE, envvar=TRUE)

</code></pre>


</div>