<div class="container">

<table style="width: 100%;"><tr>
<td>export_savedmodel.tf_estimator</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Save an Estimator</h2>

<h3>Description</h3>

<p>Save an estimator (alongside its weights) to the directory <code>export_dir_base</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'tf_estimator'
export_savedmodel(
  object,
  export_dir_base,
  serving_input_receiver_fn = NULL,
  assets_extra = NULL,
  as_text = FALSE,
  checkpoint_path = NULL,
  overwrite = TRUE,
  versioned = !overwrite,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A TensorFlow estimator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>export_dir_base</code></td>
<td>
<p>A string containing a directory in which to export the
SavedModel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>serving_input_receiver_fn</code></td>
<td>
<p>A function that takes no argument and
returns a <code>ServingInputReceiver</code>. Required for custom models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assets_extra</code></td>
<td>
<p>A dict specifying how to populate the assets.extra
directory within the exported SavedModel, or <code>NULL</code> if no extra assets are
needed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_text</code></td>
<td>
<p>whether to write the SavedModel proto in text format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkpoint_path</code></td>
<td>
<p>The checkpoint path to export. If <code>NULL</code> (the
default), the most recent checkpoint found within the model directory is
chosen.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Should the <code>export_dir</code> directory be overwritten?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>versioned</code></td>
<td>
<p>Should the model be exported under a versioned subdirectory?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional arguments passed on to the estimator's
<code>export_savedmodel()</code> method.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This method builds a new graph by first calling the serving_input_receiver_fn
to obtain feature <code>Tensor</code>s, and then calling this <code>Estimator</code>'s model_fn to
generate the model graph based on those features. It restores the given
checkpoint (or, lacking that, the most recent checkpoint) into this graph in
a fresh session. Finally it creates a timestamped export directory below the
given export_dir_base, and writes a <code>SavedModel</code> into it containing a single
<code>MetaGraphDef</code> saved from this session. The exported <code>MetaGraphDef</code> will
provide one <code>SignatureDef</code> for each element of the export_outputs dict
returned from the model_fn, named using the same keys. One of these keys is
always signature_constants.DEFAULT_SERVING_SIGNATURE_DEF_KEY, indicating
which signature will be served when a serving request does not specify one.
For each signature, the outputs are provided by the corresponding
<code>ExportOutput</code>s, and the inputs are always the input receivers provided by
the serving_input_receiver_fn. Extra assets may be written into the
SavedModel via the extra_assets argument. This should be a dict, where each
key gives a destination path (including the filename) relative to the
assets.extra directory. The corresponding value gives the full path of the
source file to be copied. For example, the simple case of copying a single
file without renaming it is specified as <code>{'my_asset_file.txt': '/path/to/my_asset_file.txt'}</code>.
</p>


<h3>Value</h3>

<p>The path to the exported directory, as a string.
</p>


<h3>Raises</h3>

<p>ValueError: if no serving_input_receiver_fn is provided, no
export_outputs are provided, or no checkpoint can be found.
</p>


<h3>See Also</h3>

<p>Other custom estimator methods: 
<code>estimator_spec()</code>,
<code>estimator()</code>,
<code>evaluate.tf_estimator()</code>,
<code>predict.tf_estimator()</code>,
<code>train.tf_estimator()</code>
</p>


</div>