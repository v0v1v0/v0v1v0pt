<div class="container">

<table style="width: 100%;"><tr>
<td>oneStepATT</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate Additive treatment effect among the treated (oneStepATT)</h2>

<h3>Description</h3>

<p>An internal function called by the <code>tmle</code> function to calculate the additive treatment effect among the treated (ATT) using a universal least favorable submodel (on the transformed scale if outcomes are continuous). The function is called a second time with updated arguments to calculate the additive treatment effect among the controls (ATC). Missingness in the outcome data is allowed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">oneStepATT(Y, A, Delta, Q, g1W, pDelta1, depsilon, max_iter, gbounds, Qbounds, obsWeights)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>continuous or binary outcome variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>A</code></td>
<td>
<p>binary treatment indicator, <code>1</code> - treatment, <code>0</code> - control</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Delta</code></td>
<td>
<p>indicator of missing outcome. <code>1</code> - observed, <code>0</code> - missing</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>
<p>a 3-column matrix <code>(Q(A,W), Q(1,W), Q(0,W))</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g1W</code></td>
<td>
<p>treatment mechanism estimates, <code class="reqn">P(A=1|W)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pDelta1</code></td>
<td>
<p>censoring mechanism estimates, a 2-column matrix [<code class="reqn">P(Delta=1|A=0,W)</code>, <code class="reqn">P(Delta=1|A=1,W)</code>]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>depsilon</code></td>
<td>
<p>step size for delta moves, set to 0.001</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_iter</code></td>
<td>
<p>maximum number of iterations before terminating without convergence</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gbounds</code></td>
<td>
<p>bounds on the propensity score for untreated subjects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Qbounds</code></td>
<td>
<p>alpha bounds on the logit scale</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obsWeights</code></td>
<td>
<p>sampling weights</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>psi</code></td>
<td>
<p>effect estimate (on the transformed scale for continuous outcomes)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IC</code></td>
<td>
<p>influence function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conv</code></td>
<td>
<p>TRUE if procedure converged, FALSE otherwise</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Susan Gruber</p>


<h3>See Also</h3>

<p><code>tmle</code>,
</p>


</div>