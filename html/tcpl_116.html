<div class="container">

<table style="width: 100%;"><tr>
<td>Query functions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Wrappers for sending queries and fetching results</h2>

<h3>Description</h3>

<p>These functions send a query to the given database, and are the access point
for all tcpl functions that query or update the tcpl database.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tcplQuery(
  query,
  db = getOption("TCPL_DB"),
  drvr = getOption("TCPL_DRVR"),
  tbl = NULL
)

tcplQueryAPI(resource = "data", fld = NULL, val = NULL, return_flds = NULL)

tcplSendQuery(
  query,
  db = getOption("TCPL_DB"),
  drvr = getOption("TCPL_DRVR"),
  tbl = NULL,
  delete = F
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>Character of length 1, the query string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>db</code></td>
<td>
<p>Character of length 1, the name of the tcpl database</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drvr</code></td>
<td>
<p>Character of length 1, which database driver to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tbl</code></td>
<td>
<p>Tables to be read queried</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resource</code></td>
<td>
<p>must be either data or assay to determine which api endpoint to hit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fld</code></td>
<td>
<p>field that should be used to query the api</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>val</code></td>
<td>
<p>value for specified field to query on</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_flds</code></td>
<td>
<p>optional list of fields that should be returned</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delete</code></td>
<td>
<p>Logical of length 1, execute delete on queried table</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Currently, the tcpl package supports the "MySQL", "example", and "API"
database drivers.
</p>
<p><code>tcplQuery</code> returns a data.table object with the query results.
<code>tcplSendQuery</code> sends a query, but does not fetch any results, and 
returns 'TRUE' or the error message given by the database. 
<code>tcplQueryAPI</code> returns a data.table object with the query results when
connected using "API" as driver.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# only with MySQL driver
tcplQuery("SELECT 'Hello World';")

# only with API driver
tcplConfDefault()
tcplQueryAPI(resource = "data", fld = "aeid", val = 2)

## End(Not run)

</code></pre>


</div>