<div class="container">

<table style="width: 100%;"><tr>
<td>draft.data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Draft DATA.bib</h2>

<h3>Description</h3>

<p>Create an initial draft version of a ‘<span class="file">DATA.bib</span>’ metadata file.
</p>


<h3>Usage</h3>

<pre><code class="language-R">draft.data(originator = NULL, year = format(Sys.time(), "%Y"),
  title = NULL, period = NULL, access = "Public", source = NULL,
  file = "", append = FALSE,
  data.files = dir(taf.boot.path("initial/data")),
  data.scripts = dir(boot.dir(), pattern = "\\.R$"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>originator</code></td>
<td>
<p>who prepared the data, e.g. a working group acronym.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p>year of the analysis when the data were used. The default is the
current year.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>description of the data, including survey names or the like.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period</code></td>
<td>
<p>a string of the form <code>"1990-2000"</code>, indicating the first
and last year that the data cover, separated by a simple dash.
Alternatively, a single number if the data cover only one year. If the
data do not cover specific years, this metadata field can be
suppressed using <code>period = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>access</code></td>
<td>
<p>data access code: <code>"OSPAR"</code>, <code>"Public"</code>, or
<code>"Restricted"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>where the data are copied/downloaded from. This can be a URL,
filename, or a special value: <code>"file"</code>, <code>"folder"</code>, or
<code>"script"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>optional filename to save the draft metadata to a file. The value
<code>TRUE</code> can be used as shorthand for <code>"boot/DATA.bib"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>whether to append metadata entries to an existing file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.files</code></td>
<td>
<p>data files to consider. The default is all folders and
files inside <code style="white-space: pre;">⁠boot/initial/data⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.scripts</code></td>
<td>
<p>boot data scripts to consider. The default is all
<code style="white-space: pre;">⁠*.R⁠</code> files in the <code style="white-space: pre;">⁠boot⁠</code> folder.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Typical usage is to specify <code>originator</code>, while using the default values
for the other arguments. Most data files have the same originator, which can
be specified to facilitate completing the entries after creating the initial
draft.
</p>
<p>The data access codes come from <a href="https://vocab.ices.dk/?ref=1435">https://vocab.ices.dk/?ref=1435</a>.
</p>
<p>The special values <code style="white-space: pre;">⁠source = "file"⁠</code>, <code style="white-space: pre;">⁠source = "folder"⁠</code>, and
<code style="white-space: pre;">⁠source = "script"⁠</code> are described on the
<a href="https://github.com/ices-taf/doc/wiki/Bib-entries">TAF Wiki</a>, along with
other metadata information.
</p>
<p>The default value <code>file = ""</code> prints the initial draft in the console,
instead of writing it to a file. The output can then be pasted into a file to
edit further, without accidentally overwriting an existing metadata file.
</p>


<h3>Value</h3>

<p>Object of class <code style="white-space: pre;">⁠Bibtex⁠</code>.
</p>


<h3>Note</h3>

<p>This function is intended to be called from the top directory of a TAF
analysis. It looks for data files inside <code style="white-space: pre;">⁠boot/initial/data⁠</code> folder and
data scripts inside <code style="white-space: pre;">⁠boot⁠</code>.
</p>
<p>After creating the initial draft, the user can complete the description of
each data entry inside the <code style="white-space: pre;">⁠title⁠</code> field and look into each file to
specify the <code style="white-space: pre;">⁠period⁠</code> that the data cover.
</p>


<h3>See Also</h3>

<p><code>period</code> pastes two years to form a <code>period</code> string.
</p>
<p><code>draft.software</code> creates an initial draft version of a
<code style="white-space: pre;">⁠SOFTWARE.bib⁠</code> metadata file.
</p>
<p><code>taf.boot</code> reads and processes metadata entries.
</p>
<p><code>TAF-package</code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Print in console
draft.data("WGEF", 2015)

# Export to file
draft.data("WGEF", 2015, file=TRUE)

# Empty entry, to complete by hand
draft.data(data.files="")

## End(Not run)

</code></pre>


</div>