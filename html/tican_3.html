<div class="container">

<table style="width: 100%;"><tr>
<td>ttpeak</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Return time to peak from time-intensity data</h2>

<h3>Description</h3>

<p>This function returns the time to peak from time-intensity curve data. Raw data
is smoothed using a loess smoother, and the time of peak is returned. Time to a
specified proportion of the peak (e.g. time to 90% of peak) can be calculated.
It is recommended that plotresult is set to TRUE in the first instance to visually
deconfirm the analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ttpeak(
  data,
  timevar,
  intensityvar,
  loess.span = 0.1,
  peakproportion = NULL,
  plotresult = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A dataframe with time and intensity values as columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timevar</code></td>
<td>
<p>A character string (in quotes) with the dataframe column name for the time variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intensityvar</code></td>
<td>
<p>A character string (in quotes) with dataframe column name for the intensity variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loess.span</code></td>
<td>
<p>A number between 0 and 1, with larger values resulting in a smoother curve.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>peakproportion</code></td>
<td>
<p>A number between 0 and 1 which is used in the time to peak proportion calculations. If
a number is entered the function will return the time to peak proportion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotresult</code></td>
<td>
<p>TRUE or FALSE to determine whether a plot of the results is generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to be passed into the loess() function.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The time at which the loess curve is at its peak. Depending on the plotresult argument can also
return a plot of the smoothed curve.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Example usage:

# Generating simulated data
set.seed(123)
example_data &lt;- data.frame(time = seq(0, 82, by = 0.25))
random_vals &lt;- sample(1:10, nrow(example_data), replace = TRUE)
example_data$regionA_intensity &lt;- log(example_data$time + 1) * 50 -
  example_data$time * 2 + random_vals
example_data$regionB_intensity &lt;- log(example_data$time + 7, base = 10) *
  80 - example_data$time * 1.5 + random_vals

# Example with defaults:

ttpeak(data = example_data, timevar = "time", intensityvar = "regionA_intensity")

# Example with additional arguments:

ttpeak(data = example_data, timevar = "time", intensityvar = "regionA_intensity",
                  loess.span = 0.1, peakproportion = 0.9, plotresult = TRUE)


</code></pre>


</div>