<div class="container">

<table style="width: 100%;"><tr>
<td>sim_dat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Simulate Data from a Variety of Functional Scenarios
</h2>

<h3>Description</h3>

<p>This function generates survival data according to the simulation scenarios considered in Section 4 of Wu, J., and Witten, D. (2019) Flexible and interpretable models for survival data. Cox model has the form
</p>
<p style="text-align: center;"><code class="reqn"> \lambda(t|x) = \lambda_0(t) exp(\sum_{j=1}^p f_j(x)) </code>
</p>
<p>.
Failure time is generated by Weibull distribution with baseline hazard </p>
<p style="text-align: center;"><code class="reqn">\lambda_0(t) = scale * shape * t ^ {shape-1}</code>
</p>
<p>. In the paper, however, failure time is generated by a simplied weibull distribution: exponential(1) baseline hazard corresponding to <code>shape=1</code> and <code>scale=1</code>. Censoring time is generated independently by exponential distribution with intensity <code>censoring.rate</code>. Thus the observed time is the minimum of failure time and censoring time. Each scenario has four covariates that have some non-linear association with the outcome. There is the option to also generate a user-specified number of covariates that have no association with the outcome. </p>


<h3>Usage</h3>

<pre><code class="language-R">sim_dat(n, zerof=0, scenario=1, scale=1, shape=1, censoring.rate=0.01, n.discrete=0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>number of observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scenario</code></td>
<td>
<p>Simulation scenario. Options are 1, 2, 3, 4. Scenario 1 corresponds to piecewise constant functions, scenario 2 corresponds to smooth functions, scenario 3 corresponds to piecewise linear functions, and scenario 4 corresponds to functions that have varying degrees of smoothness. Each scenario has four covariates that have some non-linear association with the outcome. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zerof</code></td>
<td>
<p>Number of additional covariates that have no association with the outcome. The total number of covariates is <code>4+zerof</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>scale parameter as in <code>rweibull</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>shape parameter as in <code>rweibull</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censoring.rate</code></td>
<td>
<p>censoring intensity. Censoring time is generated by exponential distribution with intensity <code>censoring.rate</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.discrete</code></td>
<td>
<p>The number of binary covariates and default is zero binary covariate.  </p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>failure or censoring time whichever comes first. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>
<p>censoring indicator. 1 denotes censoring and 0 denotes failure. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>n x p covariate matrix. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true_theta</code></td>
<td>
<p>n x p matrix. </p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Jiacheng Wu</p>


<h3>References</h3>

<p>Jiacheng Wu &amp; Daniela Witten (2019) Flexible and Interpretable Models for Survival Data, Journal of Computational and Graphical Statistics, DOI: 10.1080/10618600.2019.1592758
</p>


<h3>See Also</h3>

<p><code>plot.sim_dat</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#generate data
set.seed(123)
dat = sim_dat(n=100, zerof=0, scenario=1)
#plot X versus the true theta
plot.sim_dat(dat)
</code></pre>


</div>