<div class="container">

<table style="width: 100%;"><tr>
<td>log_interval_vec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Log-Interval Transformation for Constrained Interval Forecasting</h2>

<h3>Description</h3>

<p>The <code>log_interval_vec()</code> transformation constrains a forecast to an interval
specified by an <code>upper_limit</code> and a <code>lower_limit</code>. The transformation provides
similar benefits to <code>log()</code> transformation, while ensuring the inverted transformation
stays within an upper and lower limit.
</p>


<h3>Usage</h3>

<pre><code class="language-R">log_interval_vec(
  x,
  limit_lower = "auto",
  limit_upper = "auto",
  offset = 0,
  silent = FALSE
)

log_interval_inv_vec(x, limit_lower, limit_upper, offset = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A positive numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit_lower</code></td>
<td>
<p>A lower limit. Must be less than the minimum value.
If set to "auto", selects zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit_upper</code></td>
<td>
<p>An upper limit. Must be greater than the maximum value.
If set to "auto",  selects a value that is 10% greater than the maximum value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>An offset to include in the log transformation.
Useful when the data contains values less than or equal to zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>Whether or not to report the parameter selections as a message.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><strong>Log Interval Transformation</strong>
</p>
<p>The Log Interval Transformation constrains values to specified upper and lower limits.
The transformation maps limits to a function:
</p>
<p><code>log(((x + offset) - a)/(b - (x + offset)))</code>
</p>
<p>where <code>a</code> is the lower limit and <code>b</code> is the upper limit
</p>
<p><strong>Inverse Transformation</strong>
</p>
<p>The inverse transformation:
</p>
<p><code>(b-a)*(exp(x)) / (1 + exp(x)) + a - offset</code>
</p>


<h3>Value</h3>

<p>A <code>numeric</code> vector of the transformed series.
</p>


<h3>References</h3>


<ul><li> <p><a href="https://otexts.com/fpp2/limits.html">Forecasting: Principles &amp; Practices: Forecasts constrained to an interval</a>
</p>
</li></ul>
<h3>See Also</h3>


<ul>
<li>
<p> Box Cox Transformation: <code>box_cox_vec()</code>
</p>
</li>
<li>
<p> Lag Transformation: <code>lag_vec()</code>
</p>
</li>
<li>
<p> Differencing Transformation: <code>diff_vec()</code>
</p>
</li>
<li>
<p> Rolling Window Transformation: <code>slidify_vec()</code>
</p>
</li>
<li>
<p> Loess Smoothing Transformation: <code>smooth_vec()</code>
</p>
</li>
<li>
<p> Fourier Series: <code>fourier_vec()</code>
</p>
</li>
<li>
<p> Missing Value Imputation &amp; Anomaly Cleaning for Time Series: <code>ts_impute_vec()</code>, <code>ts_clean_vec()</code>
</p>
</li>
</ul>
<p>Other common transformations to reduce variance: <code>log()</code>, <code>log1p()</code> and <code>sqrt()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)

values_trans &lt;- log_interval_vec(1:10, limit_lower = 0, limit_upper = 11)
values_trans

values_trans_forecast &lt;- c(values_trans, 3.4, 4.4, 5.4)

values_trans_forecast %&gt;%
    log_interval_inv_vec(limit_lower = 0, limit_upper = 11) %&gt;%
    plot()


</code></pre>


</div>