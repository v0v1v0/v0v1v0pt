<div class="container">

<table style="width: 100%;"><tr>
<td>db_ts_trim_history</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Remove Vintages from the Beginning</h2>

<h3>Description</h3>

<p>Removes any vintages of the given time series that are older than a specified date.
</p>


<h3>Usage</h3>

<pre><code class="language-R">db_ts_trim_history(con, ts_keys, older_than, schema = "timeseries")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>con</code></td>
<td>
<p>RPostgres connection object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ts_keys</code></td>
<td>
<p><strong>character</strong> vector of time series identifiers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>older_than</code></td>
<td>
<p>Date cut off point</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>schema</code></td>
<td>
<p><strong>character</strong> name of the database schema. Defaults to 'timeseries'</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In some cases only the last few versions of time series are of interest. This
function can be used to trim off old vintages that are no longer relevant.
</p>


<h3>See Also</h3>

<p>Other time series functions: 
<code>db_collection_read_ts()</code>,
<code>db_dataset_read_ts()</code>,
<code>db_ts_delete_latest_version()</code>,
<code>db_ts_delete()</code>,
<code>db_ts_get_last_update()</code>,
<code>db_ts_read_history()</code>,
<code>db_ts_read()</code>,
<code>db_ts_store()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 

# Store different versions of the time series data
ch.kof.barometer &lt;- kof_ts["baro_2019m11"]
names(ch.kof.barometer) &lt;- c("ch.kof.barometer")
db_ts_store(
  con = connection,
  ch.kof.barometer,
  valid_from = "2019-12-01",
  schema = "schema"
)

ch.kof.barometer &lt;- kof_ts["baro_2019m12"]
names(ch.kof.barometer) &lt;- c("ch.kof.barometer")
db_ts_store(
  con = connection,
  ch.kof.barometer,
  valid_from = "2020-01-01",
  schema = "schema"
)

db_ts_trim_history(
  con = connection,
  ts_keys = "ch.kof.barometer",
  older_than = "2019-12-31",
  schema = "schema"
)

## End(Not run)
</code></pre>


</div>