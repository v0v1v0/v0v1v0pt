<div class="container">

<table style="width: 100%;"><tr>
<td>kern_smooth</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Smoothing by kernel regression</h2>

<h3>Description</h3>

<p>The function perform the smoothing of a time-series by non-parametric kernel regression.
</p>


<h3>Usage</h3>

<pre><code class="language-R">kern_smooth(
  x,
  t = seq_along(x),
  h,
  t.for.pred = t,
  kernel = c("epanechnikov", "box", "normal"),
  param_smoother = list(),
  output = c("dataframe", "list")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a numeric vector of the series to be smoothed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>a (numeric or Date) vector of time points. If missing, observations
are considered to correspond to sequential time steps (i.e., 1, 2 ...).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>a scalar indicating the bandwidth used by the smoothing function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t.for.pred</code></td>
<td>
<p>a (numeric or Date) vector of time points at which to
evaluate the smoothed fit. If missing, <code>t</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernel</code></td>
<td>
<p>a character string indicating which kernel to use: "epanechnikov"
(the default), "box", or "normal" (abbreviations also work).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param_smoother</code></td>
<td>
<p>a list of additional parameters to provide to the
internal smoothing function (see <strong>Details</strong>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>a character string indicating if the output should be a "dataframe"
(default) or a list (for faster computation when the function is called repeatedly).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function is essentially a wrapper that calls different underlying
functions depending on the kernel that is selected:
</p>

<ul>
<li> <p><code>lpridge::lpepa()</code> for "epanechnikov".
</p>
</li>
<li> <p><code>stats::ksmooth()</code> for "normal" and "box".
The argument <code>param_smoother</code> can be used to pass additional arguments to
these functions.
</p>
</li>
</ul>
<h3>Value</h3>

<p>a dataframe of time points (<code>t.for.pred</code>) and corresponding fitted
values.
</p>


<h3>References</h3>

<p>A short post we found useful: <a href="http://users.stat.umn.edu/~helwig/notes/smooth-notes.html">http://users.stat.umn.edu/~helwig/notes/smooth-notes.html</a>
</p>


<h3>See Also</h3>

<p><code>tcor</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Smooth 10 first values of a vector

kern_smooth(stockprice$DAX[1:20], h = 5)


## Prediction at time step 2 and 3

kern_smooth(stockprice$DAX, h = 1, t.for.pred = c(2, 3))


## Smoothing using a vector of dates for time

kern_smooth(x = stockprice$DAX[1:10], t = stockprice$DateID[1:10], h = 5)


## Smoothing conserves original order

kern_smooth(x = stockprice$DAX[10:1], t = stockprice$DateID[10:1], h = 5)


## Effect of the bandwidth

plot(stockprice$DAX[1:100] ~ stockprice$DateID[1:100],
     las = 1, ylab = "DAX index", xlab = "Date")
points(kern_smooth(stockprice$DAX[1:100], stockprice$DateID[1:100], h = 1),
       type = "l", col = "grey")
points(kern_smooth(stockprice$DAX[1:100], stockprice$DateID[1:100], h = 3),
       type = "l", col = "blue")
points(kern_smooth(stockprice$DAX[1:100], stockprice$DateID[1:100], h = 10),
       type = "l", col = "red")
legend("topright", fill = c("grey", "blue", "red"),
       legend = c("1", "3", "10"), bty = "n", title = "Bandwidth (h)")


## Effect of the kernel

plot(stockprice$DAX[1:100] ~ stockprice$DateID[1:100],
     las = 1, ylab = "DAX index", xlab = "Date")
points(kern_smooth(stockprice$DAX[1:100], stockprice$DateID[1:100], h = 10),
       type = "l", col = "orange")
points(kern_smooth(stockprice$DAX[1:100], stockprice$DateID[1:100], h = 10, kernel = "box"),
       type = "l", col = "blue")
points(kern_smooth(stockprice$DAX[1:100], stockprice$DateID[1:100], h = 10, kernel = "norm"),
       type = "l", col = "red")
legend("topright", fill = c("orange", "blue", "red"),
       legend = c("epanechnikov", "box", "normal"), bty = "n", title = "Kernel method")

</code></pre>


</div>