<div class="container">

<table style="width: 100%;"><tr>
<td>longer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pivot data between long and wide</h2>

<h3>Description</h3>

<p>Fast table pivoting from long to wide and from wide to long.
These functions are supported by <code>dcast.data.table</code> and <code>melt.data.table</code>
from <span class="pkg">data.table</span>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">longer(.data, ..., name = "name", value = "value", na.rm = FALSE)

wider(.data, ..., name, value = NULL, fun = NULL, fill = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>A data.table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Columns for unchanged group. Flexible, see examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>Name for the measured variable names column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>Name for the data values column(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>If <code>TRUE</code>, <code>NA</code> values will be removed from the molten data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>Should the data be aggregated before casting?
Defaults to <code>NULL</code>, which uses <code>length</code> for aggregation.
If a function is provided, with aggregated by this function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>Value with which to fill missing cells. Default uses <code>NA</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.table
</p>


<h3>See Also</h3>

<p><code>longer_dt</code>,<code>wider_dt</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
stocks &lt;- data.table(
  time = as.Date('2009-01-01') + 0:9,
  X = rnorm(10, 0, 1),
  Y = rnorm(10, 0, 2),
  Z = rnorm(10, 0, 4)
)

stocks %&gt;% longer(time)
stocks %&gt;% longer(-(2:4)) # same
stocks %&gt;% longer(-"X|Y|Z") # same
long_stocks = longer(stocks,"ti") # same as above except for assignment

long_stocks %&gt;% wider(time,name = "name",value = "value")

# the unchanged group could be missed if all the rest will be used
long_stocks %&gt;% wider(name = "name",value = "value")

</code></pre>


</div>