<div class="container">

<table style="width: 100%;"><tr>
<td>sts_semi_local_linear_trend</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Formal representation of a semi-local linear trend model.</h2>

<h3>Description</h3>

<p>Like the <code>sts_local_linear_trend</code> model, a semi-local linear trend posits a
latent <code>level</code> and <code>slope</code>, with the level component updated according to
the current slope plus a random walk:
</p>


<h3>Usage</h3>

<pre><code class="language-R">sts_semi_local_linear_trend(
  observed_time_series = NULL,
  level_scale_prior = NULL,
  slope_mean_prior = NULL,
  slope_scale_prior = NULL,
  autoregressive_coef_prior = NULL,
  initial_level_prior = NULL,
  initial_slope_prior = NULL,
  constrain_ar_coef_stationary = TRUE,
  constrain_ar_coef_positive = FALSE,
  name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>observed_time_series</code></td>
<td>
<p>optional <code>float</code> <code>tensor</code> of shape
<code style="white-space: pre;">⁠batch_shape + [T, 1]⁠</code> (omitting the trailing unit dimension is also
supported when <code>T &gt; 1</code>), specifying an observed time series.
Any priors not explicitly set will be given default values according to
the scale of the observed time series (or batch of time series). May
optionally be an instance of <code>sts_masked_time_series</code>, which includes
a mask <code>tensor</code> to specify timesteps with missing observations.
Default value: <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level_scale_prior</code></td>
<td>
<p>optional <code>tfp$distribution</code> instance specifying a prior
on the <code>level_scale</code> parameter. If <code>NULL</code>, a heuristic default prior is
constructed based on the provided <code>observed_time_series</code>.
Default value: <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slope_mean_prior</code></td>
<td>
<p>optional <code>tfd$Distribution</code> instance specifying a prior
on the <code>slope_mean</code> parameter. If <code>NULL</code>, a heuristic default prior is
constructed based on the provided <code>observed_time_series</code>. Default value: <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slope_scale_prior</code></td>
<td>
<p>optional <code>tfd$Distribution</code> instance specifying a prior
on the <code>slope_scale</code> parameter. If <code>NULL</code>, a heuristic default prior is
constructed based on the provided <code>observed_time_series</code>. Default value: <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>autoregressive_coef_prior</code></td>
<td>
<p>optional <code>tfd$Distribution</code> instance specifying
a prior on the <code>autoregressive_coef</code> parameter. If <code>NULL</code>, the default
prior is a standard <code>Normal(0, 1)</code>. Note that the prior may be
implicitly truncated by <code>constrain_ar_coef_stationary</code> and/or <code>constrain_ar_coef_positive</code>.
Default value: <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial_level_prior</code></td>
<td>
<p>optional <code>tfp$distribution</code> instance specifying a
prior on the initial level. If <code>NULL</code>, a heuristic default prior is
constructed based on the provided <code>observed_time_series</code>.
Default value: <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial_slope_prior</code></td>
<td>
<p>optional <code>tfd$Distribution</code> instance specifying a
prior on the initial slope. If <code>NULL</code>, a heuristic default prior is
constructed based on the provided <code>observed_time_series</code>. Default value: <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constrain_ar_coef_stationary</code></td>
<td>
<p>if <code>TRUE</code>, perform inference using a
parameterization that restricts <code>autoregressive_coef</code> to the interval
<code style="white-space: pre;">⁠(-1, 1)⁠</code>, or <code style="white-space: pre;">⁠(0, 1)⁠</code> if <code>force_positive_ar_coef</code> is also <code>TRUE</code>,
corresponding to stationary processes. This will implicitly truncate
the support of <code>autoregressive_coef_prior</code>. Default value: <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constrain_ar_coef_positive</code></td>
<td>
<p>if <code>TRUE</code>, perform inference using a
parameterization that restricts <code>autoregressive_coef</code> to be positive,
or in <code style="white-space: pre;">⁠(0, 1)⁠</code> if <code>constrain_ar_coef_stationary</code> is also <code>TRUE</code>. This
will implicitly truncate the support of <code>autoregressive_coef_prior</code>.
Default value: <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>the name of this model component. Default value: 'SemiLocalLinearTrend'.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<div class="sourceCode"><pre>level[t] = level[t-1] + slope[t-1] + Normal(0., level_scale)
</pre></div>
<p>The slope component in a <code>sts_semi_local_linear_trend</code> model evolves according to
a first-order autoregressive (AR1) process with potentially nonzero mean:
</p>
<div class="sourceCode"><pre>slope[t] = (slope_mean + autoregressive_coef * (slope[t-1] - slope_mean) + Normal(0., slope_scale))
</pre></div>
<p>Unlike the random walk used in <code>LocalLinearTrend</code>, a stationary
AR1 process (coefficient in <code style="white-space: pre;">⁠(-1, 1)⁠</code>) maintains bounded variance over time,
so a <code>SemiLocalLinearTrend</code> model will often produce more reasonable
uncertainties when forecasting over long timescales.
</p>


<h3>Value</h3>

<p>an instance of <code>StructuralTimeSeries</code>.
</p>


<h3>See Also</h3>

<p>For usage examples see <code>sts_fit_with_hmc()</code>, <code>sts_forecast()</code>, <code>sts_decompose_by_component()</code>.
</p>
<p>Other sts: 
<code>sts_additive_state_space_model()</code>,
<code>sts_autoregressive_state_space_model()</code>,
<code>sts_autoregressive()</code>,
<code>sts_constrained_seasonal_state_space_model()</code>,
<code>sts_dynamic_linear_regression_state_space_model()</code>,
<code>sts_dynamic_linear_regression()</code>,
<code>sts_linear_regression()</code>,
<code>sts_local_level_state_space_model()</code>,
<code>sts_local_level()</code>,
<code>sts_local_linear_trend_state_space_model()</code>,
<code>sts_local_linear_trend()</code>,
<code>sts_seasonal_state_space_model()</code>,
<code>sts_seasonal()</code>,
<code>sts_semi_local_linear_trend_state_space_model()</code>,
<code>sts_smooth_seasonal_state_space_model()</code>,
<code>sts_smooth_seasonal()</code>,
<code>sts_sparse_linear_regression()</code>,
<code>sts_sum()</code>
</p>


</div>