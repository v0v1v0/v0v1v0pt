<div class="container">

<table style="width: 100%;"><tr>
<td>ecdfbary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Barycenter of Empirical CDFs</h2>

<h3>Description</h3>

<p>Given a collection of empirical cumulative distribution functions
<code class="reqn">F^i (x)</code> for <code class="reqn">i=1,\ldots,N</code>, compute the Wasserstein barycenter
of order 2. This is obtained by taking a weighted average on a set of
corresponding quantile functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ecdfbary(ecdfs, weights = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ecdfs</code></td>
<td>
<p>a length-<code class="reqn">N</code> list of <code>"ecdf"</code> objects by <code>stats::ecdf()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>a weight of each image; if <code>NULL</code> (default), uniform weight is set. Otherwise, it should be a length-<code class="reqn">N</code> vector of nonnegative weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>extra parameters including </p>

<dl>
<dt>abstol</dt>
<dd>
<p>stopping criterion for iterations (default: 1e-8).</p>
</dd>
<dt>maxiter</dt>
<dd>
<p>maximum number of iterations (default: 496).</p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an <code>"ecdf"</code> object of the Wasserstein barycenter.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#----------------------------------------------------------------------
#                         Two Gaussians
#
# Two Gaussian distributions are parametrized as follows.
# Type 1 : (mean, var) = (-4, 1/4)
# Type 2 : (mean, var) = (+4, 1/4)
#----------------------------------------------------------------------
# GENERATE ECDFs
ecdf_list = list()
ecdf_list[[1]] = stats::ecdf(stats::rnorm(200, mean=-4, sd=0.5))
ecdf_list[[2]] = stats::ecdf(stats::rnorm(200, mean=+4, sd=0.5))

# COMPUTE THE BARYCENTER OF EQUAL WEIGHTS
emean = ecdfbary(ecdf_list)

# QUANTITIES FOR PLOTTING
x_grid  = seq(from=-8, to=8, length.out=100)
y_type1 = ecdf_list[[1]](x_grid)
y_type2 = ecdf_list[[2]](x_grid)
y_bary  = emean(x_grid)

# VISUALIZE
opar &lt;- par(no.readonly=TRUE)
plot(x_grid, y_bary, lwd=3, col="red", type="l",
     main="Barycenter", xlab="x", ylab="Fn(x)")
lines(x_grid, y_type1, col="gray50", lty=3)
lines(x_grid, y_type2, col="gray50", lty=3)
par(opar)

</code></pre>


</div>