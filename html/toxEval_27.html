<div class="container">

<table style="width: 100%;"><tr>
<td>rank_sites_DT</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rank sites by EAR</h2>

<h3>Description</h3>

<p>The <code>rank_sites_DT</code> (DT option) and <code>rank_sites</code> (data frame option) functions
create tables with one row per site. Columns represent the maximum or mean EAR
(depending on the mean_logic argument) for each category ("Chemical Class",
"Chemical", or "Biological") and the frequency of the maximum or mean EAR
exceeding a user specified hit_threshold.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rank_sites_DT(
  chemical_summary,
  category = "Biological",
  mean_logic = FALSE,
  sum_logic = TRUE,
  hit_threshold = 0.1
)

rank_sites(
  chemical_summary,
  category,
  hit_threshold = 0.1,
  mean_logic = FALSE,
  sum_logic = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>chemical_summary</code></td>
<td>
<p>Data frame from <code>get_chemical_summary</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>category</code></td>
<td>
<p>Character. Either "Biological", "Chemical Class", or "Chemical".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean_logic</code></td>
<td>
<p>Logical.  <code>TRUE</code> displays the mean sample from each site,
<code>FALSE</code> displays the maximum sample from each site.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sum_logic</code></td>
<td>
<p>Logical. <code>TRUE</code> sums the EARs in a specified grouping,
<code>FALSE</code> does not. <code>FALSE</code> may be better for traditional benchmarks as
opposed to ToxCast benchmarks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hit_threshold</code></td>
<td>
<p>Numeric threshold defining a "hit".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The tables show slightly different results for a single site. Rather than multiple
columns for categories, there is now 1 row per category (since the site is known).
</p>


<h3>Value</h3>

<p>data frame with one row per site, and the mas or mean EAR and frequency of
hits based on the category.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># This is the example workflow:
path_to_tox &lt;- system.file("extdata", package = "toxEval")
file_name &lt;- "OWC_data_fromSup.xlsx"

full_path &lt;- file.path(path_to_tox, file_name)

tox_list &lt;- create_toxEval(full_path)

ACC &lt;- get_ACC(tox_list$chem_info$CAS)
ACC &lt;- remove_flags(ACC)

cleaned_ep &lt;- clean_endPoint_info(end_point_info)
filtered_ep &lt;- filter_groups(cleaned_ep)
chemical_summary &lt;- get_chemical_summary(tox_list, ACC, filtered_ep)

stats_df &lt;- rank_sites(chemical_summary, "Biological")

rank_sites_DT(chemical_summary, category = "Biological")
rank_sites_DT(chemical_summary, category = "Chemical Class")
rank_sites_DT(chemical_summary, category = "Chemical")

</code></pre>


</div>