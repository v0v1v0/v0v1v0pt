<div class="container">

<table style="width: 100%;"><tr>
<td>fit_stm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit STM (Structural topic model)</h2>

<h3>Description</h3>

<p>Estimate a structural topic model
</p>


<h3>Usage</h3>

<pre><code class="language-R">fit_stm(
  data,
  n_topics = 2L,
  xcov,
  remove_punct = TRUE,
  stem = TRUE,
  remove_url = TRUE,
  remove_emojis = TRUE,
  stopwords = "en",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame of parsed tweets. Obtained either by using <code>load_tweets</code>  or
<code>stream_in</code> in conjunction with <code>tweets_with_users</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_topics</code></td>
<td>
<p>Integer with number of topics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xcov</code></td>
<td>
<p>Either a \[stats]formula with an empty left-hand side specifying external covariates
(meta data) to use.e.g. <code>~favourites_count + retweet_count</code>
or a character vector (<code>c("favourites_count", "retweet_count")</code>)
or comma seperated character string (<code>"favourites_count,retweet_count"</code>)
with column names implying which metadata to use as external covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_punct</code></td>
<td>
<p>Logical. Indicates whether punctuation (includes Twitter hashtags and usernames)
should be removed. Defaults to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stem</code></td>
<td>
<p>Logical. If <code>TRUE</code> turn on word stemming for terms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_url</code></td>
<td>
<p>Logical. If <code>TRUE</code> find and eliminate URLs beginning with http(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_emojis</code></td>
<td>
<p>Logical. If <code>TRUE</code> all emojis will be removed from tweets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stopwords</code></td>
<td>
<p>a character vector, list of character vectors, dictionary
or collocations object. See pattern for details.
Defaults to stopwords("english").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to stm.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Use this to function estimate a STM from a data frame of parsed Tweets.
Works with unpooled Tweets only. Pre-processing and fitting is done in one run.
</p>


<h3>Value</h3>

<p>Object of class stm. Additionally, pre-processed documents are appended into a named list called "prep".
</p>


<h3>See Also</h3>

<p>stm
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

library(Twitmo)

# load tweets (included in package)
mytweets &lt;- load_tweets(system.file("extdata", "tweets_20191027-141233.json", package = "Twitmo"))

# fit STM with tweets
stm_model &lt;- fit_stm(mytweets, n_topics = 7,
                     xcov = ~ retweet_count + followers_count + reply_count +
                     quote_count + favorite_count,
                     remove_punct = TRUE,
                     remove_url = TRUE,
                     remove_emojis = TRUE,
                     stem = TRUE,
                     stopwords = "en")

## End(Not run)
</code></pre>


</div>