<div class="container">

<table style="width: 100%;"><tr>
<td>data_extract_spec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data extract input for <code>teal</code> modules</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>The Data extract input can be used to filter and select columns from a data set.
This function enables such an input in <code>teal</code>.
Please use the constructor function data_extract_spec to set it up.
</p>


<h3>Usage</h3>

<pre><code class="language-R">data_extract_spec(dataname, select = NULL, filter = NULL, reshape = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataname</code></td>
<td>
<p>(<code>character</code>)
The name of the dataset to be extracted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>
<p>(<code>NULL</code> or <code>select_spec</code>-S3 class or <code>delayed_select_spec</code>)
Columns to be selected from the input dataset mentioned in <code>dataname</code>.
The setup can be created using select_spec function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>(<code>NULL</code> or <code>filter_spec</code> or its respective delayed version)
Setup of the filtering of key columns inside the dataset.
This setup can be created using the filter_spec function.
Please note that if both select and filter are set to <code>NULL</code>, then the result
will be a filter spec UI with all variables as possible choices and a select
spec with multiple set to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reshape</code></td>
<td>
<p>(<code>logical</code>)
whether reshape long to wide.
Note that it will be used only in case of long dataset with multiple
keys selected in filter part.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>data_extract_spec</code> object.
</p>


<h3>Module Development</h3>

<p><code>teal.transform</code> uses this object to construct a UI element in a module.
</p>


<h3>Note</h3>

<p>No checks based on columns can be done because the data is only referred to by name.
</p>


<h3>References</h3>

<p>select_spec filter_spec
</p>


<h3>Examples</h3>

<pre><code class="language-R">adtte_filters &lt;- filter_spec(
  vars = c("PARAMCD", "CNSR"),
  sep = "-",
  choices = c("OS-1" = "OS-1", "OS-0" = "OS-0", "PFS-1" = "PFS-1"),
  selected = "OS-1",
  multiple = FALSE,
  label = "Choose endpoint and Censor"
)

data_extract_spec(
  dataname = "ADTTE",
  filter = adtte_filters,
  select = select_spec(
    choices = c("AVAL", "BMRKR1", "AGE"),
    selected = c("AVAL", "BMRKR1"),
    multiple = TRUE,
    fixed = FALSE,
    label = "Column"
  )
)

data_extract_spec(
  dataname = "ADSL",
  filter = NULL,
  select = select_spec(
    choices = c("AGE", "SEX", "USUBJID"),
    selected = c("SEX"),
    multiple = FALSE,
    fixed = FALSE
  )
)
data_extract_spec(
  dataname = "ADSL",
  filter = filter_spec(
    vars = variable_choices("ADSL", subset = c("AGE"))
  )
)

dynamic_filter &lt;- filter_spec(
  vars = choices_selected(variable_choices("ADSL"), "COUNTRY"),
  multiple = TRUE
)
data_extract_spec(
  dataname = "ADSL",
  filter = dynamic_filter
)

</code></pre>


</div>