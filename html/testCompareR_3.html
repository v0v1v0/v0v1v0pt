<div class="container">

<table style="width: 100%;"><tr>
<td>compareR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>compareR</h2>

<h3>Description</h3>

<p>Calculates descriptive statistics and performs statistical
inference on two binary diagnostic tests in a single function call. Handles
multiple comparisons using methods in 'p.adjust()'.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compareR(
  df = NULL,
  test1 = NULL,
  test2 = NULL,
  gold = NULL,
  alpha = 0.05,
  margins = FALSE,
  multi_corr = "holm",
  cc = TRUE,
  dp = 1,
  sesp = TRUE,
  ppvnpv = TRUE,
  plrnlr = TRUE,
  conf.int = "contemporary",
  test.names = c("Test 1", "Test 2"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame or matrix with 3 columns (test1, test2, gold).
Flexible coding of positive and negative results permitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test1</code></td>
<td>
<p>Either a vector of values for Test 1 (if df is NULL) or a string
or integer value to be used for subsetting df.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test2</code></td>
<td>
<p>Either a vector of values for Test 2 (if df is NULL) or a string
or integer value to be used for subsetting df.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gold</code></td>
<td>
<p>Either a vector of values for the gold standard test (if df is
NULL) or a string or integer value to be used for subsetting df.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>An alpha value. Defaults to 0.05.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margins</code></td>
<td>
<p>A Boolean value indicating whether the contingency tables
should have margins containing summed totals of rows and columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multi_corr</code></td>
<td>
<p>Method for multiple comparisons. Uses 'p.adjust.methods'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cc</code></td>
<td>
<p>A Boolean value indicating whether McNemar's test should be applied
with continuity correction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dp</code></td>
<td>
<p>Number of decimal places of output in summary tables.
Defaults to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sesp</code></td>
<td>
<p>A Boolean value indicating whether output should include
sensitivity and specificity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ppvnpv</code></td>
<td>
<p>A Boolean value indicating whether output should include
positive and negative predictive values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plrnlr</code></td>
<td>
<p>A Boolean value indicating whether output should include
positive and negative likelihood ratios.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p>A character string, either "contemporary" or "classic".
Indicates whether function should use contemporary or classic statistical
methods to calculate confidence intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test.names</code></td>
<td>
<p>A vector of length two giving the names of the two
different binary diagnostic tests. This argument is not relevant when testing
a single binary diagnostic test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Rarely needs to be used. Allows additional arguments to be passed
to internal functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Confidence intervals for prevalence, diagnostic accuracies and predictive
values are calculated using the interval for binomial proportions described
by Yu et al. (2014) by default. Setting conf.int = "classic" uses the
Clopper-Pearson method.
Confidence intervals for likelihood ratios are calculated using the methods
recommended by Martín-Andrés and Álvarez-Hernández (2014).
Hypothesis testing for diagnostic accuracies uses different methods depending
on disease prevalence and number of participants or samples as described by
Roldán-Nofuentes and Sidaty-Regad (2019).
Global hypothesis testing for predictive values uses a method described by
Roldán-Nofuentes et al. (2012), with subsequent individual tests (where
indicated) performed using methods described by Kosinksi (2012).
The methods for hypothesis testing- for likelihood ratios are taken from
Roldán-Nofuentes &amp; Luna del Castillo (2007).
</p>
<p>An excellent summary of these methods is provided by Roldán-Nofuentes (2020)
along with an open-source program (compbdt) licensed under GPL-2.
This R package can be considered an extension of this work and is therefore
distributed under the same license.
Please consider citing Roldán-Nofuentes (2020) when you are citing this
package.
</p>


<h3>Value</h3>

<p>A list object summarising all calculated descriptive and
inferential statistics.
</p>


<h3>References</h3>

<p>Yu, Guo &amp; Xu (2014) JSCS. 2014; 84:5,1022-1038
<a href="https://doi.org/10.1080/00949655.2012.738211">doi:10.1080/00949655.2012.738211</a>
</p>
<p>Clopper &amp; Pearson (1934) Biometrika. 1934; 26,404-413
<a href="https://doi.org/10.2307/2331986">doi:10.2307/2331986</a>
</p>
<p>Martín Andrés &amp; Álvarez Hernández (2014) Stat Comput. 2014; 24,65–75
<a href="https://doi.org/10.1007/s11222-012-9353-5">doi:10.1007/s11222-012-9353-5</a>
</p>
<p>Roldán-Nofuentes &amp; Sidaty-Regad (2019) JSCS. 2019; 89:14,2621-2644
<a href="https://doi.org/10.1080/00949655.2019.1628234">doi:10.1080/00949655.2019.1628234</a>
</p>
<p>Roldán-Nofuentes, Luna del Castillo &amp; Montero-Alonso (2012) Comput Stat Data
Anal. 2012; 6,1161–1173.
<a href="https://doi.org/10.1016/j.csda.2011.06.003">doi:10.1016/j.csda.2011.06.003</a>
</p>
<p>Kosinski (2012) Stat Med. 2012; 32,964-977
<a href="https://doi.org/10.1002/sim.5587">doi:10.1002/sim.5587</a>
</p>
<p>Roldán-Nofuentes, Luna del Castillo (2007) Stat Med. 2007; 26:4179–201.
<a href="https://doi.org/10.1002/sim.2850">doi:10.1002/sim.2850</a>
</p>
<p>Roldán-Nofuentes (2020) BMC Med Res Methodol. 2020; 20,143
<a href="https://doi.org/10.1186/s12874-020-00988-y">doi:10.1186/s12874-020-00988-y</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load data
df &lt;- cfpr

# run compareR function
compareR(df,
  margins = TRUE, multi_corr = "bonf",
  test.names = c("pulm.exac", "pseudomonas")
)

</code></pre>


</div>