<div class="container">

<table style="width: 100%;"><tr>
<td>af</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Attributable fractions</h2>

<h3>Description</h3>

<p>In addition to measures of effect such as odds ratio, risk ratio, and risk difference, the twoxtwo framework allows for calculation of attributable fractions: attributable risk proportion in the exposed (ARP) and the population attributable risk proportion (PARP).
</p>
<p>Estimates of the attributable fractions can be calculated with the <code>arp()</code> and <code>parp()</code> functions respectively.  Each function takes an input dataset and arguments for outcome and exposure as bare, unquoted variable names. If the input has the  twoxtwo class then the effect measures will be calculated using exposure and outcome information from that object. The functions all return a tidy <code>tibble</code> with the name of the measure, the point estimate, and lower/upper bounds of a confidence interval (CI) based on the SE.
</p>
<p>Formulas used in point estimate and SE calculations are available in 'Details'.
</p>


<h3>Usage</h3>

<pre><code class="language-R">arp(.data, exposure, outcome, alpha = 0.05, percent = FALSE, ...)

parp(
  .data,
  exposure,
  outcome,
  alpha = 0.05,
  percent = FALSE,
  prevalence = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>Either a data frame with observation-level exposure and outcome data or a twoxtwo object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure</code></td>
<td>
<p>Name of exposure variable; ignored if input to <code>.data</code> is a <code>twoxtwo</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p>Name of outcome variable; ignored if input to <code>.data</code> is a <code>twoxtwo</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Significance level to be used for constructing confidence interval; default is <code>0.05</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percent</code></td>
<td>
<p>Logical as to whether or not the measure should be returned as a percentage; default is <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to twoxtwo function; ignored if input to <code>.data</code> is a <code>twoxtwo</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prevalence</code></td>
<td>
<p>Prevalence of exposure in the population; must be numeric between <code>0</code> and <code>1</code>; only used in <code>parp()</code>; default is <code>NULL</code> and will be ignored</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The formulas below denote cell values as A,B,C,D. For more on <code>twoxtwo</code> notation see the twoxtwo documentation.
</p>
<p>Note that formulas for standard errors are not provided below but are based on forumlas described in Hildebrandt et al (2006).
</p>


<h4>Attributable Risk Proportion in the Exposed (ARP)</h4>

<p style="text-align: center;"><code class="reqn">ARP = 1 - (1/((A/(A+B)) / (C/(C+D))))</code>
</p>




<h4>Population Attributable Risk Proportion (PARP)</h4>

<p style="text-align: center;"><code class="reqn">PARP = (((A+C)/(A+B+C+D))-(C/(C+D)))) / ((A+C)/(A+B+C+D))</code>
</p>

<p>If "prevalence" argument is not <code>NULL</code> then the formula uses the value specified for prevalence of exposure (p):
</p>
<p style="text-align: center;"><code class="reqn">PARP = p * (((A/(A+B)) / (C/(C+D))) - 1) / (p * (((A/(A+B)) / (C/(C+D))) - 1) + 1)</code>
</p>




<h3>Value</h3>

<p>A <code>tibble</code> with the following columns:
</p>

<ul>
<li> <p><strong>measure</strong>: Name of the measure calculated
</p>
</li>
<li> <p><strong>estimate</strong>: Point estimate for the effect measure
</p>
</li>
<li> <p><strong>ci_lower</strong>: The lower bound of the confidence interval for the estimate
</p>
</li>
<li> <p><strong>ci_upper</strong>: The upper bound of the confidence interval for the estimate
</p>
</li>
<li> <p><strong>exposure</strong>: Name of the exposure variable followed by +/- levels (e.g. smoking::yes/no)
</p>
</li>
<li> <p><strong>outcome</strong>: Name of the outcome variable followed by +/- levels (e.g. heart_disease::yes/no)
</p>
</li>
</ul>
<h3>References</h3>

<p>Hildebrandt, M., Bender, R., Gehrmann, U., &amp; Blettner, M. (2006). Calculating confidence intervals for impact numbers. BMC medical research methodology, 6, 32. https://doi.org/10.1186/1471-2288-6-32
</p>
<p>Szklo, M., &amp; Nieto, F. J. (2007). Epidemiology: Beyond the basics. Sudbury, Massachussets: Jones and Bartlett.
</p>
<p>Zapata-Diomedi, B., Barendregt, J. J., &amp; Veerman, J. L. (2018). Population attributable fraction: names, types and issues with incorrect interpretation of relative risks. British journal of sports medicine, 52(4), 212â€“213. https://doi.org/10.1136/bjsports-2015-095531
</p>


</div>