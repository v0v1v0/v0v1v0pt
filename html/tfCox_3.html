<div class="container">

<table style="width: 100%;"><tr>
<td>negloglik</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Calculate the negative log likelihood from Cox model. 
</h2>

<h3>Description</h3>

<p>Calculate the negative log likelihood from Cox model from the estimated coefficient matrix theta.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">negloglik(dat, theta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>

<p>A list that contains <code>time</code>, <code>status</code> and <code>X</code>. <code>time</code> is failure or censoring time, <code>status</code> is censoring indicator, and  <code>X</code> is n x p matrix and may have p &gt; n.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>

<p>An n x p matrix of coefficients corresponding to covariates <code>X</code>. 
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Jiacheng Wu
</p>


<h3>References</h3>

<p>Jiacheng Wu &amp; Daniela Witten (2019) Flexible and Interpretable Models for Survival Data, Journal of Computational and Graphical Statistics, DOI: 10.1080/10618600.2019.1592758
</p>


<h3>See Also</h3>

<p><code>predict_best_lambda</code>, <code>tfCox_choose_lambda</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#generate training and testing data
dat = sim_dat(n=100, zerof=0, scenario=1)
test_dat = sim_dat(n=100, zerof=0, scenario=1)

#choose the optimal tuning parameter
cv = tfCox_choose_lambda(dat, test_dat, ord=0, alpha=1)
plot(cv$lam_seq, cv$loss)

#optimal tuning parameter
cv$best_lambda

#predict the coefficients of testing covariates from the optimal tuning parameter
#from tfCox_choose_lambda object. 
theta_hat = predict_best_lambda(cv, test_dat$X)

#calculate the loss in the testing data based on the estimated coefficients theta
negloglik(test_dat, theta_hat)
</code></pre>


</div>