<div class="container">

<table style="width: 100%;"><tr>
<td>time_interval</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>S3-based Time Intervals (Currently very experimental and so subject to change)</h2>

<h3>Description</h3>

<p>Inspired by both 'lubridate' and 'ivs', <code>time_interval</code> is a 'vctrs' style
class for right-open intervals that contain a vector of start dates and end dates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">time_interval(start = integer(), end = integer())

is_time_interval(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>Start time. <br>
Can be a <code>Date</code>, <code>POSIXt</code>, <code>numeric</code>, <code>integer</code>, <code>yearmon</code>, <code>yearqtr</code>,
<code>year_month</code> or <code>year_quarter</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>End time. <br>
Can be a <code>Date</code>, <code>POSIXt</code>, <code>numeric</code>, <code>integer</code>, <code>yearmon</code>, <code>yearqtr</code>,
<code>year_month</code> or <code>year_quarter</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A 'time_interval'.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In the near-future, all time aggregated variables will utilise these intervals.
One can control the appearance of the intervals through the "timeplyr.interval_style" option.
For example:
</p>
<p><code>options(timeplyr.interval_style = "full")</code> - Full interval format.
<code>options(timeplyr.interval_style = "start")</code> - Start time of the interval.
<code>options(timeplyr.interval_style = "end")</code> - end time of the interval.
</p>
<p>Representing time using intervals is natural because when one talks about a day or an hour,
they are implicitly referring to an interval of time. Even a unit as small as a second
is just an interval and therefore base R objects like Dates and POSIXcts are
also intervals.
</p>


<h3>Value</h3>

<p>An object of class <code>time_interval</code>. <br><code>is_time_interval</code> returns a logical of length 1. <br><code>interval_start</code> returns the start times. <br><code>interval_end</code> returns the end times. <br><code>interval_count</code> returns a data frame of unique intervals and their counts. <br></p>


<h3>See Also</h3>

<p>interval_start
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)
library(timeplyr)
library(lubridate)

x &lt;- 1:10
int &lt;- time_interval(x, 100)
options(timeplyr.interval_style = "full")
int

# Displaying the start or end values of the intervals
format(int, "start")
format(int, "end")

month_start &lt;- floor_date(today(), unit = "months")
month_int &lt;- time_interval(month_start, month_start + months(1))
month_int
# Custom format function for start and end dates
format(month_int, interval_sub_formatter =
         function(x) format(x, format = "%Y/%B"))
format(month_int, interval_style = "start",
       interval_sub_formatter = function(x) format(x, format = "%Y/%B"))

# Advanced formatting

# As shown above, we can specify formatting functions for the dates
# in our intervals
# Sometimes it's useful to set a default function

options(timeplyr.interval_sub_formatter =
          function(x) format(x, format = "%b %Y"))
month_int

# Divide an interval into different time units
time_interval(today(), today() + years(0:10)) / "years"
time_interval(today(), today() + dyears(0:10)) / ddays(365.25)
time_interval(today(), today() + years(0:10)) / "months"
time_interval(today(), today() + years(0:10)) / "weeks"
time_interval(today(), today() + years(0:10)) / "7 days"
time_interval(today(), today() + years(0:10)) / "24 hours"
time_interval(today(), today() + years(0:10)) / "minutes"
time_interval(today(), today() + years(0:10)) / "seconds"
time_interval(today(), today() + years(0:10)) / "milliseconds"

# Cutting Sepal Length into blocks of width 1
int &lt;- time_aggregate(iris$Sepal.Length, time_by = 1, as_interval = TRUE)
int %&gt;%
  interval_count()
reset_timeplyr_options()

</code></pre>


</div>