<div class="container">

<table style="width: 100%;"><tr>
<td>filter_agg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter by selected criteria and aggregating traffics.</h2>

<h3>Description</h3>

<p>Not all criteria need to be filled in. Unfilled criteria are set by default so that no filtering is performed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">filter_agg(
  data,
  date_range = NULL,
  segments = NULL,
  direction = NULL,
  modes = NULL,
  weekdays = NULL,
  hours = NULL,
  uptime_quality = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Traffic Data Frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date_range</code></td>
<td>
<p>Date vector, c("aaaa-mm-jj","aaaa-mm-jj")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segments</code></td>
<td>
<p>Vector of character. Ids of desired segments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>Vector of character. Direction of the street (lft, right, both).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modes</code></td>
<td>
<p>Vector of character. Type(s) of mobility: c("car","heavy","pedestrian","bike")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weekdays</code></td>
<td>
<p>Vector of character. Weekday(s) choosen.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hours</code></td>
<td>
<p>Integer vector. Hours choosen, default to the all day.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>the filtered data, molten by mode and direction, with new columns :
</p>

<ul>
<li> <p><code>mode</code>, the mode, one row per different transportation mode + date/hour + direction
</p>
</li>
<li> <p><code>direction</code>, the direction, one row per different transportation mode + date/hour + direction
</p>
</li>
<li> <p><code>traffic_sum</code>, the traffic for this mode/direction on this specific date/hour
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">date_range = as.Date(c('2022-01-01','2022-01-08'))
filter_agg(traffic,
  date_range = date_range,
  segments = 'RteVitre-06',
  direction = 'lft',
  modes = 'pedestrian',
  weekdays = 'saturday',
  hours = 12:14,
  uptime_quality = TRUE
  )
</code></pre>


</div>