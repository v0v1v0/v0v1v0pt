<div class="container">

<table style="width: 100%;"><tr>
<td>set_denom_where</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set Logic for denominator subsetting</h2>

<h3>Description</h3>

<p>By default, denominators in count layers are subset based on the layer level
where logic. In some cases this might not be correct. This functions allows
the user to override this behavior and pass custom logic that will be used to
subset the target dataset when calculating denominators for the layer.
</p>


<h3>Usage</h3>

<pre><code class="language-R">set_denom_where(e, denom_where)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>e</code></td>
<td>
<p>A <code>count_layer/shift_layer</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>denom_where</code></td>
<td>
<p>An expression (i.e. syntax) to be used to subset the
target dataset for calculating layer denominators. Supply as programming
logic (i.e. x &lt; 5 &amp; y == 10). To remove the layer where parameter
subsetting for the total row and thus the percentage denominators,
pass 'TRUE' to this function.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The modified Tplyr layer object
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(magrittr)
t10 &lt;- tplyr_table(mtcars, gear) %&gt;%
  add_layer(
    group_count(cyl, where = cyl != 6) %&gt;%
    set_denom_where(TRUE)
    # The denominators will be based on all of the values, including 6
  ) %&gt;%
 build()

</code></pre>


</div>