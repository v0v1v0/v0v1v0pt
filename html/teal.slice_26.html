<div class="container">

<table style="width: 100%;"><tr>
<td>FilteredDataset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
<code>FilteredDataset</code> <code>R6</code> class</h2>

<h3>Description</h3>

<p><code>FilteredDataset</code> is a class which renders/controls <code>FilterStates</code>(s)
Each <code>FilteredDataset</code> contains <code>filter_states</code> field - a <code>list</code> which contains one
(<code>data.frame</code>) or multiple (<code>MultiAssayExperiment</code>) <code>FilterStates</code> objects.
Each <code>FilterStates</code> is responsible for one filter/subset expression applied for specific
components of the dataset.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-FilteredDataset-new"><code>FilteredDataset$new()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-format"><code>FilteredDataset$format()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-print"><code>FilteredDataset$print()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-clear_filter_states"><code>FilteredDataset$clear_filter_states()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-get_call"><code>FilteredDataset$get_call()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-get_filter_state"><code>FilteredDataset$get_filter_state()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-set_filter_state"><code>FilteredDataset$set_filter_state()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-get_filter_count"><code>FilteredDataset$get_filter_count()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-get_dataname"><code>FilteredDataset$get_dataname()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-get_dataset"><code>FilteredDataset$get_dataset()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-get_filter_overview"><code>FilteredDataset$get_filter_overview()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-get_keys"><code>FilteredDataset$get_keys()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-get_dataset_label"><code>FilteredDataset$get_dataset_label()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-ui_active"><code>FilteredDataset$ui_active()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-srv_active"><code>FilteredDataset$srv_active()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-ui_add"><code>FilteredDataset$ui_add()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-srv_add"><code>FilteredDataset$srv_add()</code></a>
</p>
</li>
<li> <p><a href="#method-FilteredDataset-clone"><code>FilteredDataset$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-FilteredDataset-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Initializes this <code>FilteredDataset</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$new(
  dataset,
  dataname,
  keys = character(0),
  label = attr(dataset, "label", exact = TRUE)
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>dataset</code></dt>
<dd>
<p>any object</p>
</dd>
<dt><code>dataname</code></dt>
<dd>
<p>(<code>character(1)</code>)
syntactically valid name given to the dataset.</p>
</dd>
<dt><code>keys</code></dt>
<dd>
<p>(<code>character</code>) optional
vector of primary key column names.</p>
</dd>
<dt><code>label</code></dt>
<dd>
<p>(<code>character(1)</code>)
label to describe the dataset.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>Object of class <code>FilteredDataset</code>, invisibly.
</p>


<hr>
<a id="method-FilteredDataset-format"></a>



<h4>Method <code>format()</code>
</h4>

<p>Returns a formatted string representing this <code>FilteredDataset</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$format(show_all = FALSE, trim_lines = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>show_all</code></dt>
<dd>
<p>(<code>logical(1)</code>) passed to <code>format.teal_slice</code>.</p>
</dd>
<dt><code>trim_lines</code></dt>
<dd>
<p>(<code>logical(1)</code>) passed to <code>format.teal_slice</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>The formatted character string.
</p>


<hr>
<a id="method-FilteredDataset-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>Prints this <code>FilteredDataset</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$print(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt>
<dd>
<p>additional arguments passed to <code>format</code>.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-FilteredDataset-clear_filter_states"></a>



<h4>Method <code>clear_filter_states()</code>
</h4>

<p>Removes all filter items applied to this dataset.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$clear_filter_states(force = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>force</code></dt>
<dd>
<p>(<code>logical(1)</code>)
flag specifying whether to include anchored filter states.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>NULL</code>.
</p>


<hr>
<a id="method-FilteredDataset-get_call"></a>



<h4>Method <code>get_call()</code>
</h4>

<p>Gets a filter expression.
</p>
<p>This function returns filter calls equivalent to selected items
within each of <code>filter_states</code>. Configuration of the calls is constant and
depends on <code>filter_states</code> type and order which are set during initialization.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$get_call(sid = "")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>sid</code></dt>
<dd>
<p>(<code>character</code>)
when specified, the method returns code containing conditions calls of
<code>FilterState</code> objects with <code>sid</code> different to this <code>sid</code> argument.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>Either a <code>list</code> of filter <code>call</code>s, or <code>NULL</code>.
</p>


<hr>
<a id="method-FilteredDataset-get_filter_state"></a>



<h4>Method <code>get_filter_state()</code>
</h4>

<p>Gets states of all contained <code>FilterState</code> objects.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$get_filter_state()</pre></div>



<h5>Returns</h5>

<p>A <code>teal_slices</code> object.
</p>


<hr>
<a id="method-FilteredDataset-set_filter_state"></a>



<h4>Method <code>set_filter_state()</code>
</h4>

<p>Set filter state.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$set_filter_state(state)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>state</code></dt>
<dd>
<p>(<code>teal_slices</code>)</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>Virtual method, returns nothing and raises error.
</p>


<hr>
<a id="method-FilteredDataset-get_filter_count"></a>



<h4>Method <code>get_filter_count()</code>
</h4>

<p>Gets the number of <code>FilterState</code> objects in all <code>FilterStates</code> in this <code>FilteredDataset</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$get_filter_count()</pre></div>



<h5>Returns</h5>

<p><code>integer(1)</code>
</p>


<hr>
<a id="method-FilteredDataset-get_dataname"></a>



<h4>Method <code>get_dataname()</code>
</h4>

<p>Gets the name of the dataset.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$get_dataname()</pre></div>



<h5>Returns</h5>

<p>A character string.
</p>


<hr>
<a id="method-FilteredDataset-get_dataset"></a>



<h4>Method <code>get_dataset()</code>
</h4>

<p>Gets the dataset object in this <code>FilteredDataset</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$get_dataset(filtered = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>filtered</code></dt>
<dd>
<p>(<code>logical(1)</code>)</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>The stored dataset. If <code>data.frame</code> or <code>MultiAssayExperiment</code>,
either raw or as a reactive with current filters applied (depending on <code>filtered</code>).
</p>


<hr>
<a id="method-FilteredDataset-get_filter_overview"></a>



<h4>Method <code>get_filter_overview()</code>
</h4>

<p>Get filter overview of a dataset.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$get_filter_overview()</pre></div>



<h5>Returns</h5>

<p>Virtual method, returns nothing and raises an error.
</p>


<hr>
<a id="method-FilteredDataset-get_keys"></a>



<h4>Method <code>get_keys()</code>
</h4>

<p>Gets the key columns for this dataset.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$get_keys()</pre></div>



<h5>Returns</h5>

<p>Character vector of variable names
</p>


<hr>
<a id="method-FilteredDataset-get_dataset_label"></a>



<h4>Method <code>get_dataset_label()</code>
</h4>

<p>Gets the dataset label.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$get_dataset_label()</pre></div>



<h5>Returns</h5>

<p>Character string.
</p>


<hr>
<a id="method-FilteredDataset-ui_active"></a>



<h4>Method <code>ui_active()</code>
</h4>

<p><code>shiny</code> module containing active filters for a dataset, along with a title and a remove button.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$ui_active(id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>(<code>character(1)</code>)
<code>shiny</code> module instance id.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>shiny.tag</code>
</p>


<hr>
<a id="method-FilteredDataset-srv_active"></a>



<h4>Method <code>srv_active()</code>
</h4>

<p>Server module for a dataset active filters.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$srv_active(id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>(<code>character(1)</code>)
<code>shiny</code> module instance id.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>NULL</code>.
</p>


<hr>
<a id="method-FilteredDataset-ui_add"></a>



<h4>Method <code>ui_add()</code>
</h4>

<p>UI module to add filter variable for this dataset.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$ui_add(id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>(<code>character(1)</code>)
<code>shiny</code> module instance id.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>Virtual method, returns nothing and raises error.
</p>


<hr>
<a id="method-FilteredDataset-srv_add"></a>



<h4>Method <code>srv_add()</code>
</h4>

<p>Server module to add filter variable for this dataset.
For this class <code>srv_add</code> calls multiple modules
of the same name from <code>FilterStates</code> as <code>MAEFilteredDataset</code>
contains one <code>FilterStates</code> object for <code>colData</code> and one for each experiment.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$srv_add(id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>(<code>character(1)</code>)
<code>shiny</code> module instance id.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>NULL</code>.
</p>


<hr>
<a id="method-FilteredDataset-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilteredDataset$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




</div>