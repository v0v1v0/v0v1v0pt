<div class="container">

<table style="width: 100%;"><tr>
<td>colorscaled_browser</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert tokens into full texts in an HTML file with color ramp highlighting</h2>

<h3>Description</h3>

<p>Convert tokens into full texts in an HTML file with color ramp highlighting
</p>


<h3>Usage</h3>

<pre><code class="language-R">colorscaled_browser(
  tokens,
  value,
  alpha = 0.4,
  meta = NULL,
  col_range = c("red", "blue"),
  doc_col = "doc_id",
  token_col = "token",
  doc_nav = NULL,
  token_nav = NULL,
  filename = NULL,
  unfold = NULL,
  span_adjacent = T,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tokens</code></td>
<td>
<p>A data.frame with a column for document ids (doc_col)
and a column for tokens (token_col)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>A numeric vector with values between -1 and 1. Determines the color
mixture of the scale colors specified in col_range</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Optionally, the alpha (transparency) can be specified, with 0 being fully
transparent and 1 being fully colored. This can be a vector to specify a
different alpha for each value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meta</code></td>
<td>
<p>A data.frame with a column for document_ids (doc_col). All other columns are added
to the browser as document meta</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_range</code></td>
<td>
<p>The color used to highlight</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doc_col</code></td>
<td>
<p>The name of the document id column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token_col</code></td>
<td>
<p>The name of the token column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doc_nav</code></td>
<td>
<p>The name of a column in meta, used to set a navigation tag</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token_nav</code></td>
<td>
<p>Alternative to doc_nav, a column in the tokens, used to set a navigation tag</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>Name of the output file. Default is temp file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unfold</code></td>
<td>
<p>Either a character vector or a named list of vectors of the same length as tokens. If given, all tokens with a tag can be clicked on to unfold the given text. If a list of vectors is given,
the values of the columns are concatenated with the column name. E.g. list(doc_id = 1, sentence = 1) will be [doc_id = 1, sentence = 2].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>span_adjacent</code></td>
<td>
<p>If TRUE, include adjacent tokens with identical attributes within the same tag</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional formatting arguments passed to create_browser()</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The name of the file where the browser is saved. Can be opened conveniently from within R using browseUrl()
</p>


<h3>Examples</h3>

<pre><code class="language-R">## as an example, scale word colors based on number of characters
scale = nchar(as.character(sotu_data$tokens$token))
scale[scale&gt;6] = scale[scale&gt;6] +20
scale = rescale_var(sqrt(scale), -1, 1)
scale[abs(scale) &lt; 0.5] = NA
url = colorscaled_browser(sotu_data$tokens, value = scale, meta=sotu_data$meta)


view_browser(url)   ## view browser in the Viewer

if (interactive()) {
browseURL(url)     ## view in default webbrowser
}
</code></pre>


</div>