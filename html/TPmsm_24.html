<div class="container">

<table style="width: 100%;"><tr>
<td>transLIN</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>LIN based transition probabilities</h2>

<h3>Description</h3>

<p>Provides estimates for the transition probabilities based on LIN estimators, LIN.</p>


<h3>Usage</h3>

<pre><code class="language-R">transLIN(object, s, t, x, bw="dpik", window="normal", method.weights="NW",
state.names=c("1", "2", "3"), conf=FALSE, n.boot=1000, conf.level=0.95,
method.boot="percentile", ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of class ‘survTP’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>The first time for obtaining estimates for the transition probabilities.
If missing, 0 will be used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>The second time for obtaining estimates for the transition probabilities.
If missing, the maximum of <code>Stime</code> will be used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Covariate values for obtaining estimates for the conditional transition probabilities.
If missing, unconditioned transition probabilities will be computed.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bw</code></td>
<td>
<p>A character string indicating a function to compute a kernel density bandwidth.
Defaults to “dpik” from package <span class="pkg">KernSmooth</span>.
Alternatively a single numeric value can be specified.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p>A character string specifying the desired kernel.
See details below for possible options.
Defaults to “normal” where the gaussian density kernel will be used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.weights</code></td>
<td>
<p>A character string specifying the desired weights method.
Possible options are “NW” for the Nadaraya-Watson weights
and “LL” for local linear weights. Defaults to “NW”.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>state.names</code></td>
<td>
<p>A vector of characters giving the state names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf</code></td>
<td>
<p>Provides pointwise confidence bands. Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.boot</code></td>
<td>
<p>The number of bootstrap samples. Defaults to 1000 samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Level of confidence. Defaults to 0.95 (corresponding to 95%).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.boot</code></td>
<td>
<p>The method used to compute bootstrap confidence bands.
Possible options are “percentile” and “basic”.
Defaults to “percentile”.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments.
Typically these arguments are passed to the function specified by argument <code>bw</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>bw="dpik"</code> then possible options for argument <code>window</code> are “normal”, “box”, “epanech”, “biweight” or “triweight”.
When argument <code>bw</code> is numeric then argument <code>window</code> accepts the same options as when <code>bw="dpik"</code> plus one of “tricube”, “triangular” or “cosine”.
</p>


<h3>Value</h3>

<p>If argument <code>x</code> is missing or if argument <code>object</code> doesn't contain a covariate,
an object of class ‘TPmsm’ is returned. There are methods for <code>contour</code>, <code>image</code>, <code>print</code> and <code>plot</code>.
‘TPmsm’ objects are implemented as a list with elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A string indicating the type of estimator used in the computation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est</code></td>
<td>
<p>A matrix with transition probability estimates. The rows being the event times and the columns the 5 possible transitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inf</code></td>
<td>
<p>A matrix with the lower transition probabilities of the confidence band. The rows being the event times and the columns the 5 possible transitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sup</code></td>
<td>
<p>A matrix with the upper transition probabilities of the confidence band. The rows being the event times and the columns the 5 possible transitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>Vector of times where the transition probabilities are computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>Start of the time interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>End of the time interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>The bandwidth used. If the estimator doesn't require a bandwidth, it's set to <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>state.names</code></td>
<td>
<p>A vector of characters giving the states names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.boot</code></td>
<td>
<p>Number of bootstrap samples used in the computation of the confidence band.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Level of confidence used to compute the confidence band.</p>
</td>
</tr>
</table>
<p>If argument <code>x</code> is specified and argument <code>object</code> contains a covariate,
an object of class ‘TPCmsm’ is returned. There are methods for <code>print</code> and <code>plot</code>.
‘TPCmsm’ objects are implemented as a list with elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A string indicating the type of estimator used in the computation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est</code></td>
<td>
<p>A 3 dimensional array with transition probability estimates. The first dimension being the event times, the second the covariate values and the last one the 5 possible transitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inf</code></td>
<td>
<p>A 3 dimensional array with the lower transition probabilities of the confidence band. The first dimension being the event times, the second the covariate values and the last one the 5 possible transitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sup</code></td>
<td>
<p>A 3 dimensional array with the upper transition probabilities of the confidence band. The first dimension being the event times, the second the covariate values and the last one the 5 possible transitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>Vector of times where the transition probabilities are computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariate</code></td>
<td>
<p>Vector of covariate values where the conditional transition probabilities are computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>Start of the time interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>End of the time interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Additional covariate values where the conditional transition probabilities are computed, which may or may not be present in the sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>The bandwidth used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>state.names</code></td>
<td>
<p>A vector of characters giving the states names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.boot</code></td>
<td>
<p>Number of bootstrap samples used in the computation of the confidence band.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Level of confidence used to compute the confidence band.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Artur Araújo, Javier Roca-Pardiñas and Luís Meira-Machado</p>


<h3>References</h3>

<p>Araújo A, Meira-Machado L, Roca-Pardiñas J (2014). TPmsm: Estimation of the Transition Probabilities in
3-State Models. <em>Journal of Statistical Software</em>, <b>62</b>(4), 1-29. <a href="https://doi.org/10.18637/jss.v062.i04">doi:10.18637/jss.v062.i04</a>
</p>
<p>Meira-Machado L., de Uña-Álvarez J., Datta S. (2011). Conditional Transition Probabilities in a non-Markov Illness-death Model. Discussion Papers in Statistics and Operation Research n 11/03. Department of Statistics and Operations Research, University of Vigo (ISSN: 1888-5756, Deposito Legal VG 1402-2007). <a href="https://depc05.webs.uvigo.es/reports/12_05.pdf">https://depc05.webs.uvigo.es/reports/12_05.pdf</a>
</p>
<p>Meira Machado L. F., de Uña-Álvarez J., Cadarso-Suárez C. (2006). Nonparametric estimation of transition probabilities in a non-Markov illness-death model. <em>Lifetime Data Anal</em>, <b>12</b>(3), 325-344. <a href="https://doi.org/10.1007/s10985-006-9009-x">doi:10.1007/s10985-006-9009-x</a>
</p>
<p>Davison, A. C., Hinkley, D. V. (1997). <em>Bootstrap Methods and their Application</em>, Chapter 5, Cambridge University Press.
</p>


<h3>See Also</h3>

<p><code>transAJ</code>,
<code>transIPCW</code>,
<code>transKMPW</code>,
<code>transKMW</code>,
<code>transLS</code>,
<code>transPAJ</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Set the number of threads
nth &lt;- setThreadsTP(2);

# Create survTP object with age as covariate
data(heartTP);
heartTP_obj &lt;- with( heartTP, survTP(time1, event1, Stime, event, age=age) );

# Compute unconditioned transition probabilities
transLIN(object=heartTP_obj, s=33, t=412);

# Compute unconditioned transition probabilities with confidence band
transLIN(object=heartTP_obj, s=33, t=412, conf=TRUE, conf.level=0.9,
method.boot="basic");

# Compute conditional transition probabilities
transLIN(object=heartTP_obj, s=33, t=412, x=0);

# Compute conditional transition probabilities with confidence band
transLIN(object=heartTP_obj, s=33, t=412, x=0, conf=TRUE, conf.level=0.95,
n.boot=100, method.boot="percentile");

# Restore the number of threads
setThreadsTP(nth);
</code></pre>


</div>