<div class="container">

<table style="width: 100%;"><tr>
<td>lag_vec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Lag Transformation</h2>

<h3>Description</h3>

<p><code>lag_vec()</code> applies a Lag Transformation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">lag_vec(x, lag = 1)

lead_vec(x, lag = -1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector to be lagged.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>Which lag (how far back) to be included in the differencing calculation.
Negative lags are leads.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><strong>Benefits:</strong>
</p>
<p>This function is <code>NA</code> padded by default so it works well with <code>dplyr::mutate()</code> operations.
The function allows both lags and leads (negative lags).
</p>
<p><strong>Lag Calculation</strong>
</p>
<p>A lag is an offset of <code>lag</code> periods. <code>NA</code> values are returned for the number of <code>lag</code> periods.
</p>
<p><strong>Lead Calculation</strong>
</p>
<p>A <em>negative lag</em> is considered a lead. The only difference between <code>lead_vec()</code> and <code>lag_vec()</code> is
that the <code>lead_vec()</code> function contains a starting negative value.
</p>


<h3>Value</h3>

<p>A numeric vector
</p>


<h3>See Also</h3>

<p>Modeling and Advanced Lagging:
</p>

<ul>
<li> <p><code>recipes::step_lag()</code> - Recipe for adding lags in <code>tidymodels</code> modeling
</p>
</li>
<li> <p><code>tk_augment_lags()</code> - Add many lags group-wise to a data.frame (tibble)
</p>
</li>
</ul>
<p>Vectorized Transformations:
</p>

<ul>
<li>
<p> Box Cox Transformation: <code>box_cox_vec()</code>
</p>
</li>
<li>
<p> Lag Transformation: <code>lag_vec()</code>
</p>
</li>
<li>
<p> Differencing Transformation: <code>diff_vec()</code>
</p>
</li>
<li>
<p> Rolling Window Transformation: <code>slidify_vec()</code>
</p>
</li>
<li>
<p> Loess Smoothing Transformation: <code>smooth_vec()</code>
</p>
</li>
<li>
<p> Fourier Series: <code>fourier_vec()</code>
</p>
</li>
<li>
<p> Missing Value Imputation for Time Series: <code>ts_impute_vec()</code>, <code>ts_clean_vec()</code>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)

# --- VECTOR ----

# Lag
1:10 %&gt;% lag_vec(lag = 1)

# Lead
1:10 %&gt;% lag_vec(lag = -1)


# --- MUTATE ----

m4_daily %&gt;%
    group_by(id) %&gt;%
    mutate(lag_1 = lag_vec(value, lag = 1))


</code></pre>


</div>