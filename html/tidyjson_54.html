<div class="container">

<table style="width: 100%;"><tr>
<td>json_structure</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Recursively structures arbitrary JSON data into a single data frame</h2>

<h3>Description</h3>

<p>Returns a <code>tbl_json</code> object where each row corresponds to a leaf
in the JSON structure. The first row corresponds to the JSON document as
a whole. If the document is a scalar value (JSON string, number, logical
or null), then there will only be 1 row. If instead it is an object or
an array, then subsequent rows will recursively correspond to the elements
(and their children) of the object or array.
</p>


<h3>Usage</h3>

<pre><code class="language-R">json_structure(.x)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>.x</code></td>
<td>
<p>a json string or tbl_json object</p>
</td>
</tr></table>
<h3>Details</h3>

<p>The columns in the <code>tbl_json</code> returend are defined as
</p>

<ul>
<li> <p><code>document.id</code> 1L if <code>.x</code> is a single JSON string, otherwise
the index of <code>.x</code>.
</p>
</li>
<li> <p><code>parent.id</code> the string identifier of the parent node for this
child.
</p>
</li>
<li> <p><code>level</code> what level of the hierarchy this child resides at,
starting at <code>0L</code> for the root and incrementing for each level
of nested array or object.
</p>
</li>
<li> <p><code>index</code> what index of the parent object / array this child
resides at (from <code>gather_array</code> for arrays).
</p>
</li>
<li> <p><code>child.id</code> a unique ID for this leaf in this document,
represented as &lt;parent&gt;.&lt;index&gt; where &lt;parent&gt; is the ID for the
parent and &lt;index&gt; is this index.
</p>
</li>
<li> <p><code>seq</code> the sequence of names / indices that led to this child
(parents that are arrays are excluded) as a list, where character
strings denote objects and integers denote array positions
</p>
</li>
<li> <p><code>name</code> if this is the value of an object, what was the name that
it is listed under (from <code>gather_object</code>).
</p>
</li>
<li> <p><code>type</code> the type of this object (from <code>json_types</code>).
</p>
</li>
<li> <p><code>length</code> the length of this object (from
<code>json_lengths</code>).
</p>
</li>
</ul>
<h3>Value</h3>

<p>a <code>tbl_json</code> object
</p>


<h3>See Also</h3>

<p><code>json_schema</code> to create a schema for a JSON document or
collection
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# A simple string
'"string"' %&gt;% json_structure

# A simple object
'{"name": "value"}' %&gt;% json_structure

# A complex array
'[{"a": 1}, [1, 2], "a", 1, true, null]' %&gt;% json_structure

# A sample of structure rows from a company
library(dplyr)
companies[1] %&gt;% json_structure %&gt;% sample_n(5)
</code></pre>


</div>