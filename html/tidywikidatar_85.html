<div class="container">

<table style="width: 100%;"><tr>
<td>tw_index_cache_search</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add index to caching table for search queries for increased speed</h2>

<h3>Description</h3>

<p>Tested only with SQLite and MySql. May work with other drivers.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tw_index_cache_search(
  table_name = NULL,
  check_first = TRUE,
  type = "item",
  show_details = FALSE,
  language = tidywikidatar::tw_get_language(),
  response_language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>table_name</code></td>
<td>
<p>Name of the table in the database. If given, it takes precedence over other parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_first</code></td>
<td>
<p>Logical, defaults to TRUE. If TRUE, then before executing anything on the database it checks if the given table has already been indexed. If it has, it does nothing and returns only an informative message.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Defaults to "item". Type of cache file to output. Values typically used by <code>tidywikidatar</code> include "item", "search_item", "search_property", and "qualifier".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_details</code></td>
<td>
<p>Logical, defaults to FALSE. If FALSE, return the function adds the index to the database, but does not return anything. If TRUE, returns a data frame with more details about the index.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; "en" if not set. Used to limit the data to be cached. Use "all_available" to keep all data. For available values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response_language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; "en" if not set. Relevant only when type is set to "search_item" or "search_property". See <code>tw_search()</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To ensure smooth functioning, the search column in the cache table is transformed into a column of type <code>varchar</code> and length 255.
</p>


<h3>Value</h3>

<p>If <code>show_details</code> is set to FALSE, nothing, used only for its side effects (add index to caching table). If TRUE, a data frame, same as the output of <code>tw_check_cache_index(show_details = TRUE)</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {
  tw_enable_cache()
  tw_set_cache_folder(path = fs::path(
    fs::path_home_r(),
    "R",
    "tw_data"
  ))

  tw_index_cache_search()
}
</code></pre>


</div>