<div class="container">

<table style="width: 100%;"><tr>
<td>regressor_parse_example_spec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generates Parsing Spec for TensorFlow Example to be Used with Regressors</h2>

<h3>Description</h3>

<p>If users keep data in <code>tf$Example</code> format, they need to call <code>tf$parse_example</code>
with a proper feature spec. There are two main things that this utility
helps:
</p>

<ul>
<li>
<p> Users need to combine parsing spec of features with labels and weights (if
any) since they are all parsed from same <code>tf$Example</code> instance. This utility
combines these specs.
</p>
</li>
<li>
<p> It is difficult to map expected label by a regressor such as <code>dnn_regressor</code>
to corresponding <code>tf$parse_example</code> spec. This utility encodes it by getting
related information from users (key, dtype).
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">regressor_parse_example_spec(
  feature_columns,
  label_key,
  label_dtype = tf$float32,
  label_default = NULL,
  label_dimension = 1L,
  weight_column = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>feature_columns</code></td>
<td>
<p>An iterable containing all feature columns. All items
should be instances of classes derived from <code style="white-space: pre;">⁠_FeatureColumn⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_key</code></td>
<td>
<p>A string identifying the label. It means <code>tf$Example</code> stores
labels with this key.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_dtype</code></td>
<td>
<p>A <code>tf$dtype</code> identifies the type of labels. By default it
is <code>tf$float32</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_default</code></td>
<td>
<p>used as label if label_key does not exist in given
<code>tf$Example</code>. By default default_value is none, which means
<code>tf$parse_example</code> will error out if there is any missing label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_dimension</code></td>
<td>
<p>Number of regression targets per example. This is the
size of the last dimension of the labels and logits <code>Tensor</code> objects
(typically, these have shape <code style="white-space: pre;">⁠[batch_size, label_dimension]⁠</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight_column</code></td>
<td>
<p>A string or a <code style="white-space: pre;">⁠_NumericColumn⁠</code> created by
<code>column_numeric</code> defining feature column representing
weights. It is used to down weight or boost examples during training. It
will be multiplied by the loss of the example. If it is a string, it is
used as a key to fetch weight tensor from the <code>features</code>. If it is a
<code style="white-space: pre;">⁠_NumericColumn⁠</code>, raw tensor is fetched by key <code>weight_column$key</code>, then
<code>weight_column$normalizer_fn</code> is applied on it to get weight tensor.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A dict mapping each feature key to a <code>FixedLenFeature</code> or
<code>VarLenFeature</code> value.
</p>


<h3>Raises</h3>


<ul>
<li>
<p> ValueError: If label is used in <code>feature_columns</code>.
</p>
</li>
<li>
<p> ValueError: If weight_column is used in <code>feature_columns</code>.
</p>
</li>
<li>
<p> ValueError: If any of the given <code>feature_columns</code> is not a <code style="white-space: pre;">⁠_FeatureColumn⁠</code> instance.
</p>
</li>
<li>
<p> ValueError: If <code>weight_column</code> is not a <code style="white-space: pre;">⁠_NumericColumn⁠</code> instance.
</p>
</li>
<li>
<p> ValueError: if label_key is <code>NULL</code>.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Other parsing utilities: 
<code>classifier_parse_example_spec()</code>
</p>


</div>