<div class="container">

<table style="width: 100%;"><tr>
<td>SubtimeDataFrame</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class <code>"SubtimeDataFrame"</code>
</h2>

<h3>Description</h3>

<p>Class to hold subtime data such a day of week, month of year, etc.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SubtimeDataFrame(when, data = NULL, ...)

as.SubtimeDataFrame(x, unit, of, ...)
  ## S3 method for class 'TimeInstantDataFrame'
as.SubtimeDataFrame(x, unit, of, FUN=NULL, ...)
  ## S3 method for class 'TimeIntervalDataFrame'
as.SubtimeDataFrame(x, unit, of, FUN=NULL, cursor=NULL, ...)

  ## S4 method for signature 'SubtimeDataFrame'
x$name
  ## S4 replacement method for signature 'SubtimeDataFrame'
x$name &lt;- value
  ## S3 method for class 'SubtimeDataFrame'
x[i, j, drop=FALSE]
  ## S3 replacement method for class 'SubtimeDataFrame'
x[i, j] &lt;- value
  ## S4 method for signature 'SubtimeDataFrame'
x [[i, j, ...]]
  ## S3 replacement method for class 'SubtimeDataFrame'
x[[i, j]] &lt;- value

  ## S3 method for class 'SubtimeDataFrame'
merge(x, y, by, all=TRUE, sort=FALSE, ...)
  ## S3 method for class 'SubtimeDataFrame'
split(x, f, drop=FALSE, ...)
  ## S4 method for signature 'SubtimeDataFrame'
lapply(X, FUN, ...)

  ## S4 method for signature 'SubtimeDataFrame'
timezone(object)
  ## S4 method for signature 'SubtimeDataFrame'
when(x, ...)
  ## S3 method for class 'SubtimeDataFrame'
unit(x, ...)
  ## S3 method for class 'SubtimeDataFrame'
of(x, ...)

  ## S4 method for signature 'SubtimeDataFrame'
dim(x)
  ## S4 method for signature 'SubtimeDataFrame'
length(x)
  ## S4 method for signature 'SubtimeDataFrame'
names(x)
  ## S4 replacement method for signature 'SubtimeDataFrame'
names(x) &lt;- value
  ## S4 method for signature 'SubtimeDataFrame'
ncol(x)
  ## S4 method for signature 'SubtimeDataFrame'
nrow(x)
  ## S3 method for class 'SubtimeDataFrame'
row.names(x)
  ## S3 replacement method for class 'SubtimeDataFrame'
row.names(x) &lt;- value

  ## S3 method for class 'SubtimeDataFrame'
print(x, ...)
  ## S3 method for class 'SubtimeDataFrame'
summary(object, ...)
  ## S3 method for class 'SubtimeDataFrame'
head(x, ...)
  ## S3 method for class 'SubtimeDataFrame'
tail(x, ...)
  ## S4 method for signature 'SubtimeDataFrame'
show(object)

  ## S3 method for class 'SubtimeDataFrame'
plot(
    x, y=NULL, type='p', lty=1:6, lwd=1, pch=1:25, col=NULL,
    xlim=NULL, ylim=NULL, log='', main='', sub='', xlab='', ylab='',
    ann=par('ann'), axes=TRUE, asp=NA, as.is=TRUE, format=NULL, ...)
  ## S3 method for class 'SubtimeDataFrame'
points(
    x, y=NULL, type='p', lty=1:6, lwd=1, pch=1:25, col=NULL, as.is=TRUE, ...)
  ## S3 method for class 'SubtimeDataFrame'
lines(
    x, y=NULL, type='l', lty=1:6, lwd=1, pch=1:25, col=NULL, as.is=TRUE, ...)
  ## S3 method for class 'SubtimeDataFrame'
barplot(height, format='', ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>when</code></td>
<td>
<p><code>POSIXst</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data.frame with as much rows as needed for the created object. Can
be <code>NULL</code> (hence the data.frame has zero column and as much rows
as needed).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>object to convert to a TimeInstantDataFrame or
SubtimeDataFrame object (to modify, to extract or to test)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>indicates the subtime part to extract
('year', 'month', 'day', 'hour', 'minute', 'second').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>of</code></td>
<td>
<p>used to specify the main period from wich the
is to extract ('year', 'month', 'day', 'hour', 'minute').
Not used for ‘unit in c('year', 'month')’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>function to use for the agregation (if wanted,
see ‘details’)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cursor</code></td>
<td>
<p>For TimeIntervalDataFrame, it indicates
where the TimeInstant must be taken. If <code>0</code>, start
of each intervals is taken as instant ; if <code>1</code> end
of each intervals is taken as instant.  Any other value
will determine a weigthed instant between start and end
(actually, value higher than 1 or lower than 0 will give
instant outside this range).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>indices specifying elements to extract or replace. (See
<code>Extract</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>j</code></td>
<td>
<p>indices specifying elements to extract or replace. (See
<code>Extract</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>A litteral character string or a name. (See
<code>Extract</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>Used for compatibility with data.frame methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>New value for the object designated (data.frame, names, row.names,
etc.).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>SubtimeDataFrame to merge with x</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all</code></td>
<td>
<p>logical; see <code>merge</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>specifications of the columns used for merging.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>logical; if TRUE the resulting merged SubtimeDataFrame is 
ordered according to 'when' values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>a 'factor' in the sense that ‘as.factor(f)’ defines the
grouping, or a list of such factors in which case their
interaction is used for the grouping. See <code>split</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a SubtimeDataFrame on which the FUN must be applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>SubtimeDataFrame object (to modify, to extract or to test)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ann</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>asp</code></td>
<td>
<p>plotting argument, see <code>plot.default</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.is</code></td>
<td>
<p>should data be represented incrementally (the first row
is given an x-value of 1, the second of 2, ... the last of n)(TRUE) or
should data be grouped by their subtime (all value corresponding
to monday are drawn at an x-value of 1) (FALSE) ?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>plotting argument, see <code>barplot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>for barplot see <code>barplot</code>, 
otherwise a string to format the x-labels according to the format
method of POSIXst objects (see 'Text representation' of <code>POSIXst</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>More arguments.</p>
</td>
</tr>
</table>
<h3>Objects from the Class</h3>

<p>Formally, the class consists of a <code>data.frame</code>
and, for each row, a <code>POSIXst</code> (or subtime).
This class is provided to deal with subtime data. This class
is compatible
with <code>TimeIntervalDataFrame</code>
and <code>TimeInstantDataFrame</code>.
</p>
<p>The construction of the class allows to manipulate objects as if they
were data.frame (see ‘Access to data’ and ‘Access to data properties’).
Several functions are also available to access to time properties (see ‘Access
to time properties’).
</p>
<p>Methods are also available to facilitate the representations of instances of that class :
see ‘graphic representation’ and ‘text representation’.
</p>
<p>Finally, some specific methods allow to easily deal with agregation of data over time
properties (day, hour, week, special or specific time).
</p>


<h3>SubtimeDataFrame constructors</h3>

<p>Objects can be created by calls of the form
</p>

<ul>
<li> <p><code>new("SubtimeDataFrame", ...)</code> ... argument must be replaced
by named arguments coresponding to slots of a SubtimeDataFrame (see below).
See also <code>new</code>.
</p>
</li>
<li> <p><code>SubtimeDataFrame (when, data=NULL, ...)</code>
Arguments of the function correspond to object slots.
</p>
</li>
<li>
<p><code>as.SubtimeDataFrame (from, representation, cursor=NULL, FUN=mean, ...)</code>
Converting object to SubtimeDataFrame.
Conversion from a TimeIntervalDataFrame to a
SubtimeDataFrame can be direct or after agregation.
</p>
<p>For a direct conversion (where date are only replaced by
the desired subtime), FUN must be NULL.
</p>
<p>For an agregateed conversion, the function to use must be
indicated by the FUN arg and all arguments to pass to
this function can be given (namely).
</p>
</li>
</ul>
<h3>Slots</h3>


<dl>
<dt>
<code>when</code>:</dt>
<dd>
<p>Object of class <code>"POSIXst"</code>  
corresponding to the instant of each row of
the <code>data.frame</code>.</p>
</dd>
<dt>
<code>data</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code>  data contained
by the object.</p>
</dd>
</dl>
<h3>Accessing to and manipulating data</h3>

<p>The SubtimeDataFrame class is defined to works like the data.frame class
with the difference that a subtime (<code>POSIXst</code>) is
attached to each rows of the data.frame. Thus to access and manipulate
data of a TimeInstantDataFrame the following methods are defined : 
'$', '$&lt;-', '[', '[&lt;-', '[[', '[[&lt;-'. See <code>Extract</code> for 
details.
</p>
<p>Other methods have been defined to allow some operations over
TimeInstantDataFrame :
</p>

<ul>
<li>
<p>  merge to join two (or more) SubtimeDataFrame (see 
<code>merge</code>),
</p>
</li>
<li>
<p> a SubtimeDataFrame can be splitted exactly the same way that
a data.frame can (see <code>split</code> in the base
package),
</p>
</li>
<li>
<p> a function can be applied over each column of a TimeIntervalDataFrame
via the lapply function provided that the function return one value (in
this case the resulting value is a <code>TimeIntervalDataFrame</code>
beginning at the first instant of the object and ending at the latest one),
or as much values as the number of rows of the object (in this case the
SubtimeDataFrame given in argument in returned with the new values
calculated).
</p>
</li>
</ul>
<p>Because a SubtimeDataFrame works more or less like a data.frame, 
the following methods work on a SubtimeDataFrame :
<code>dim</code>,
<code>length</code>,
<code>names</code>,
<code>names&lt;-</code>,
<code>ncol</code>,
<code>nrow</code>,
<code>row.names</code>,
<code>row.names&lt;-</code>.
</p>


<h3>Access to time properties</h3>

<p>A SubtimeDataFrame can be tested for a few time properties :
</p>

<dl>
<dt>timezone</dt>
<dd>
<p>gives or sets the timezone of the SubtimeDataFrame ;</p>
</dd>
<dt>when</dt>
<dd>
<p>returns a POSIXst object with the time instant of the 
SubtimeDataFrame.</p>
</dd>
<dt>unit</dt>
<dd>
<p>returns the unit of the time instant of the 
SubtimeDataFrame.</p>
</dd>
<dt>of</dt>
<dd>
<p>returns the 'of' of the time instant of the 
SubtimeDataFrame.</p>
</dd>
</dl>
<h3>Graphic representation</h3>

<p>To plot a <code>SubtimeDataFrame</code> available functions are
<code>plot</code>, <code>lines</code>,
<code>points</code> and <code>barplot</code>.
</p>
<p>These functions works more or less like their generic definition.
</p>


<h3>Text representation</h3>

<p>To represent a <code>SubtimeDataFrame</code> available functions are
<code>print</code>,
<code>summary</code>, <code>head</code>,
<code>tail</code> and <code>show</code>.
</p>


<h3>See Also</h3>

<p><code>TimeInstantDataFrame</code>, <code>TimeIntervalDataFrame</code>,
<code>POSIXst</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">showClass("SubtimeDataFrame")
</code></pre>


</div>