<div class="container">

<table style="width: 100%;"><tr>
<td>g_mmrm_diagnostic</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Diagnostic Plots for <code>MMRM</code>
</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>This function produces diagnostic plots.
</p>


<h3>Usage</h3>

<pre><code class="language-R">g_mmrm_diagnostic(
  object,
  type = c("fit-residual", "q-q-residual"),
  z_threshold = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>(<code>tern_mmrm</code>)<br> model result produced by <code>fit_mmrm()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>(<code>string</code>)<br> specifying the type of diagnostic plot to be produced:
</p>

<ul>
<li> <p><code>fit-residual</code>: A fitted vs residuals plot, grouped by visits.
This allows to see if there is remaining
structure in the residuals that might be captured by adding additional
covariates to the model.
</p>
</li>
<li> <p><code>q-q-residual</code>: A Q-Q plot for the residuals (i.e. sorted standardized residuals
vs. normal quantiles), grouped by visits. Observations with an absolute
standardized residual above <code>z_threshold</code> will be labeled.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z_threshold</code></td>
<td>
<p>(<code>numeric</code>)<br> optional number indicating the normal quantile threshold
for the Q-Q plot.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Here we use marginal fitted values and residuals. That is, we estimate fitted values,
and the difference of those fitted values vs. the observed data are
the residuals.
</p>


<h3>Value</h3>

<p>A <code>ggplot2</code> plot.
</p>


<h3>See Also</h3>

<p><code>g_mmrm_lsmeans()</code> for plotting the least-squares means and contrasts.
</p>


<h3>Examples</h3>

<pre><code class="language-R">mmrm_results &lt;- fit_mmrm(
  vars = list(
    response = "FEV1",
    covariates = c("RACE", "SEX"),
    id = "USUBJID",
    arm = "ARMCD",
    visit = "AVISIT"
  ),
  data = mmrm_test_data,
  cor_struct = "unstructured",
  weights_emmeans = "equal"
)
g_mmrm_diagnostic(mmrm_results)
g_mmrm_diagnostic(mmrm_results, type = "q-q-residual")
</code></pre>


</div>