<div class="container">

<table style="width: 100%;"><tr>
<td>read_ts_tables</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Read Time-Series Data from Files
</h2>

<h3>Description</h3>

<p>Read time-series data from files and merge them.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_ts_tables(file, dir, t.type = "guess",
               start, end, columns,
               return.class = NULL,
               drop.weekends = FALSE,
               column.names = "%dir%/%file%::%column%",
               backend = "csv",
               read.fn = NULL,
               frequency = "1 sec",
               timestamp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>

<p>character
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>

<p>character
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t.type</code></td>
<td>

<p>character: <code>guess</code>, <code>Date</code> or <code>POSIXct</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>

<p>a timestamp: either of classes <code>Date</code>
or <code>POSIXct</code> (possibly including
timezone information), or a character
string. Strings are passed to
<code>as.Date</code>/<code>as.POSIXct</code>.
Note in particular that a string of the form
<code>"YYYY-MM-DD HH:MM:SS"</code>, when passed to
<code>as.POSIXct</code>, will be interpreted as a
datetime in the current timezone.
</p>
<p>It is best to always specify <code>start</code>: if
<code>start</code> is missing, the function will use the
first timestamp of the first time-series it reads.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>

<p>a timestamp: either of classes <code>Date</code>
or <code>POSIXct</code> (possibly including
timezone information), or a character
string. Strings are passed to
<code>as.Date</code>/<code>as.POSIXct</code>.
Note in particular that a string of the form
<code>"YYYY-MM-DD HH:MM:SS"</code>, when passed to
<code>as.POSIXct</code>, will be interpreted as a
datetime in the current timezone.
</p>
<p>It is best to always specify <code>end</code>: if
<code>end</code> is missing, the function will use the
current time (which may not be appropriate: for
instance, when forecasts are stored).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns</code></td>
<td>

<p>character.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return.class</code></td>
<td>

<p><code>NULL</code> (default) or character: if <code>NULL</code>, a
list is returned. Also supported are <code>zoo</code>,
<code>data.frame</code> and <code>ts_table</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop.weekends</code></td>
<td>

<p>logical
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column.names</code></td>
<td>

<p>character: a format string for column names; may
contain <code>%dir%</code>, <code>%file%</code>, and
<code>%column%</code>.  It is only used when
<code>return.class</code> is <code>data.frame</code> or <code>zoo</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>backend</code></td>
<td>

<p>character: currently, only ‘<code>csv</code>’ is
fully supported
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>read.fn</code></td>
<td>

<p><code>NULL</code> or character: use ‘<code>fread</code>’
to use <code>fread</code>
from package <span class="pkg">data.table</span>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frequency</code></td>
<td>

<p>character; used compute a regular grid between
<code>start</code> and <code>end</code>. The argument is only
used when <code>t.type</code> is <code>POSIXct</code>
(or guessed to be <code>POSIXct</code>) and no
<code>timestamp</code> is specified.
If set to <code>NA</code>, the function will first
read all files and compute <code>timestamp</code> as the
union of all files' timestamps.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timestamp</code></td>
<td>

<p>a vector of timestamps: if specified, only data at
the times in <code>timestamp</code> are selected
</p>
</td>
</tr>
</table>
<h3>Details</h3>


<p>Read time-series data from <abbr><span class="acronym">CSV</span></abbr> files.
</p>


<h3>Value</h3>

<p>When <code>return.class</code> is <code>NULL</code>, a list:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a numeric matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timestamp</code></td>
<td>
<p>Date or POSIXct</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns</code></td>
<td>
<p>character</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file.path</code></td>
<td>
<p>character</p>
</td>
</tr>
</table>
<p>Otherwise an object of class as specified by argument
<code>return.class</code>.
</p>


<h3>Author(s)</h3>

<p>Enrico Schumann
</p>


<h3>See Also</h3>

<p><code>write_ts_table</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">t1 &lt;- ts_table(1:3, as.Date("2018-12-3") + 1:3, columns = "A")
t2 &lt;- ts_table(4:5, as.Date("2018-12-3") + 1:2, columns = "A")

d &lt;- tempdir()  ## this is just an example.
                ## Actual (valuable) data should never
                ## be stored in a tempdir!

write_ts_table(t1, dir = d, file = "t1")
write_ts_table(t2, dir = d, file = "t2")

read_ts_tables(c("t1", "t2"),
               dir = d, columns = "A",
               return.class = "zoo",
               column.names = "%file%.%column%")
</code></pre>


</div>