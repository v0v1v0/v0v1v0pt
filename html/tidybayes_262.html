<div class="container">

<table style="width: 100%;"><tr>
<td>tidy_draws</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get a sample of posterior draws from a model as a tibble</h2>

<h3>Description</h3>

<p>Extract draws from a Bayesian fit into a wide-format data frame with a
<code>.chain</code>, <code>.iteration</code>, and <code>.draw</code> column, as well as all variables
as columns. This function does not parse indices from variable names
(e.g. for variable names like <code>"x[1]"</code>); see <code>spread_draws()</code> or
<code>gather_draws()</code> for functions that parse variable indices.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tidy_draws(model, ...)

## Default S3 method:
tidy_draws(model, ...)

## S3 method for class 'draws'
tidy_draws(model, ...)

## S3 method for class 'data.frame'
tidy_draws(model, ...)

## S3 method for class 'mcmc.list'
tidy_draws(model, ...)

## S3 method for class 'stanfit'
tidy_draws(model, ...)

## S3 method for class 'stanreg'
tidy_draws(model, ...)

## S3 method for class 'runjags'
tidy_draws(model, ...)

## S3 method for class 'jagsUI'
tidy_draws(model, ...)

## S3 method for class 'brmsfit'
tidy_draws(model, ...)

## S3 method for class 'CmdStanFit'
tidy_draws(model, ...)

## S3 method for class 'CmdStanMCMC'
tidy_draws(model, ...)

## S3 method for class 'matrix'
tidy_draws(model, ...)

## S3 method for class 'MCMCglmm'
tidy_draws(model, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A supported Bayesian model fit. Tidybayes supports a variety of model objects;
for a full list of supported models, see tidybayes-models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to other methods (mostly unused).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function can be useful for quick glances at models (especially
combined with <code>gather_variables()</code> and <code>median_qi()</code>), and for models with
parameters without indices in their names (like <code>"x[1]"</code>).
<code>spread_draws()</code> and <code>gather_draws()</code>, which <em>do</em> parse variable name indices,
call this function internally if their input is not already a tidy data frame.
</p>
<p>To provide support for new models in tidybayes,
you must provide an implementation of this function <em>or</em> an implementation
of <code>coda::as.mcmc.list()</code> (<code>tidy_draws</code> should work on any model
with an implementation of <code>coda::as.mcmc.list()</code>)
</p>
<p><code>tidy_draws()</code> can be applied to a data frame that is already a tidy-format data frame
of draws, provided it has one row per draw. In other words, it can be applied to data frames
that have the same format it returns, and it will return the same data frame back, while
checking to ensure the <code>.chain</code>, <code>.iteration</code>, and <code>.draw</code> columns are all
integers (converting if possible) and that the <code>.draw</code> column is unique. This allows
you to pass already-tidy-format data frames into other tidybayes functions, like
<code>spread_draws()</code> or <code>gather_draws()</code>. This functionality can be useful if the
tidying step is expensive: you can tidy once, possibly subsetting to some
particular variables of interest, then call <code>spread_draws()</code> or <code>gather_draws()</code>
repeatedly to extract variables and indices from the already-tidied data frame.
</p>


<h3>Value</h3>

<p>A data frame (actually, a tibble) with a <code>.chain</code> column,
<code>.iteration</code> column, <code>.draw</code> column, and one column for every variable in <code>model</code>.
</p>


<h3>Author(s)</h3>

<p>Matthew Kay
</p>


<h3>See Also</h3>

<p><code>spread_draws()</code> or <code>gather_draws()</code>, which use this function
internally and provides a friendly interface for extracting tidy data frames from model fits.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(magrittr)

data(line, package = "coda")

line %&gt;%
  tidy_draws()

</code></pre>


</div>