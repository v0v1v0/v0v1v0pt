<div class="container">

<table style="width: 100%;"><tr>
<td>plot.tsmodel.distribution</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plots of predictive distributions</h2>

<h3>Description</h3>

<p>Plots for objects generated from probabilistic models returning 
a forecast distribution.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'tsmodel.distribution'
plot(
  x,
  y = NULL,
  median_color = "black",
  median_type = 1,
  median_width = 3,
  interval_quantiles = c(0.025, 0.975),
  gradient_color = "steelblue",
  interval_color = "cyan",
  interval_type = 2,
  interval_width = 2,
  ylim = NULL,
  ylab = "",
  n_x = NCOL(x),
  x_axes = TRUE,
  add = FALSE,
  zero_out = FALSE,
  date_class = "Date",
  ...
)

## S3 method for class 'tsmodel.predict'
plot(
  x,
  y = NULL,
  plot_original = TRUE,
  median_color = "black",
  median_type = 1,
  median_width = 3,
  interval_quantiles = c(0.025, 0.975),
  gradient_color = "steelblue",
  interval_color = "cyan",
  interval_type = 2,
  interval_width = 2,
  ylim = NULL,
  ylab = "",
  n_original = NULL,
  x_axes = TRUE,
  zero_out = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class “tsmodel.distribution” or “tsmodel.predict”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>not used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>median_color</code></td>
<td>
<p>the color used for plotting the median value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>median_type</code></td>
<td>
<p>the line type for the median.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>median_width</code></td>
<td>
<p>the width of the median line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval_quantiles</code></td>
<td>
<p>the quantiles to include in the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gradient_color</code></td>
<td>
<p>the gradient color to use for the distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval_color</code></td>
<td>
<p>the color of the quantile lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval_type</code></td>
<td>
<p>the line type for the quantiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval_width</code></td>
<td>
<p>the width of the quantile lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>user specified limits for the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>user specified label for y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_x</code></td>
<td>
<p>the number of time periods from the end to plot for x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_axes</code></td>
<td>
<p>whether to print the x-axis (usually time/date).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>whether to overlay another “tsmodel.distribution” on top 
of a current plot. This will only plot the median and quantiles and not the full 
distribution with gradient color.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zero_out</code></td>
<td>
<p>whether to zero any negative value in the prediction intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date_class</code></td>
<td>
<p>when overlaying (add argument) one distribution 
(“tsmodel.distribution” on top of another, particularly if it is added 
to a plot based on “tsmodel.predict”, then in order for this to work 
correctly the two date classes have to be the same. The “tsmodel.predict” 
plot method infers the class from the original time series which is contained in 
the object. Since the “tsmodel.distribution” carries no additional 
information other than the column names of the date/time stamps, then it is 
upto the user to supply what this should be.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to the plot.default function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_original</code></td>
<td>
<p>whether to include the original dataset in the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_original</code></td>
<td>
<p>the number of time periods from the end to plot for the 
original series. Defaults to plotting the whole series.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a plot of the predicted distribution.
</p>


<h3>Note</h3>

<p>Any matrix representing a distribution of values at points in time, 
with time in the columns (date labels in columns) and the distribution in rows 
can be set to class “tsmodel.distribution” and then passed to the plot 
function which can generate a nice distribution plot. The “tsmodel.predict” 
is a list with the posterior predictive (or simulated) distribution 
(the “tsmodel.distribution”) in addition to the original series 
(original.series) of class zoo or xts.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(xts)
months &lt;- c("01","02","03","04","05","06","07","08","09","10","11","12")
dates &lt;- as.Date(paste0(sort(rep(1973:1978, 12)),"-",rep(months, 6), "-",rep("01",12*6)))
y &lt;- xts(as.numeric(USAccDeaths), dates)
samples &lt;- do.call(cbind, lapply(1:12, 
function(i){sample(as.numeric(y[format(index(y),"%m") == months[i]]), 100, replace = TRUE)}))
predict_dates &lt;- as.Date(paste0(rep(1979, 12),"-",months, "-",rep("01",12)))
expected_value &lt;- colMeans(samples)
p &lt;- list()
colnames(samples) &lt;- as.character(predict_dates)
class(samples) &lt;- "tsmodel.distribution"
p$original_series &lt;- y
p$distribution &lt;- samples
p$mean &lt;- xts(expected_value, predict_dates)
class(p) &lt;- "tsmodel.predict"
actuals_available &lt;- c(7798,7406,8363,8460,9217,9316)
plot(p, main = "USAccDeaths Resample Based Forecast", n_original = 12*3, 
gradient_color = "orange", interval_color = "deepskyblue", median_width = 1.5)
points(predict_dates[1:6], actuals_available, col = "green", cex = 1.5)
</code></pre>


</div>