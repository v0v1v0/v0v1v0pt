<div class="container">

<table style="width: 100%;"><tr>
<td>FilterPanelAPI</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class to encapsulate the API of the filter panel of a teal app</h2>

<h3>Description</h3>

<p>An API class for managing filter states in a teal application's filter panel.
</p>


<h3>Details</h3>

<p>The purpose of this class is to encapsulate the API of the filter panel in a
new class <code>FilterPanelAPI</code> so that it can be passed and used in the server
call of any module instead of passing the whole <code>FilteredData</code> object.
</p>
<p>This class is supported by methods to set, get, remove filter states in the
filter panel API.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-FilterPanelAPI-new"><code>FilterPanelAPI$new()</code></a>
</p>
</li>
<li> <p><a href="#method-FilterPanelAPI-get_filter_state"><code>FilterPanelAPI$get_filter_state()</code></a>
</p>
</li>
<li> <p><a href="#method-FilterPanelAPI-set_filter_state"><code>FilterPanelAPI$set_filter_state()</code></a>
</p>
</li>
<li> <p><a href="#method-FilterPanelAPI-remove_filter_state"><code>FilterPanelAPI$remove_filter_state()</code></a>
</p>
</li>
<li> <p><a href="#method-FilterPanelAPI-clear_filter_states"><code>FilterPanelAPI$clear_filter_states()</code></a>
</p>
</li>
<li> <p><a href="#method-FilterPanelAPI-clone"><code>FilterPanelAPI$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-FilterPanelAPI-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Initialize a <code>FilterPanelAPI</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilterPanelAPI$new(datasets)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>datasets</code></dt>
<dd>
<p>(<code>FilteredData</code>)</p>
</dd>
</dl>
</div>


<hr>
<a id="method-FilterPanelAPI-get_filter_state"></a>



<h4>Method <code>get_filter_state()</code>
</h4>

<p>Gets the reactive values from the active <code>FilterState</code> objects of the <code>FilteredData</code> object.
</p>
<p>Gets all active filters in the form of a nested list.
The output list is a compatible input to <code>set_filter_state</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilterPanelAPI$get_filter_state()</pre></div>



<h5>Returns</h5>

<p><code>list</code> with named elements corresponding to <code>FilteredDataset</code> objects with active filters.
</p>


<hr>
<a id="method-FilterPanelAPI-set_filter_state"></a>



<h4>Method <code>set_filter_state()</code>
</h4>

<p>Sets active filter states.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilterPanelAPI$set_filter_state(filter)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>filter</code></dt>
<dd>
<p>(<code>teal_slices</code>)</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>NULL</code>, invisibly.
</p>


<hr>
<a id="method-FilterPanelAPI-remove_filter_state"></a>



<h4>Method <code>remove_filter_state()</code>
</h4>

<p>Remove one or more <code>FilterState</code> of a <code>FilteredDataset</code> in the <code>FilteredData</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilterPanelAPI$remove_filter_state(filter)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>filter</code></dt>
<dd>
<p>(<code>teal_slices</code>)
specifying <code>FilterState</code> objects to remove;
<code>teal_slice</code>s may contain only <code>dataname</code> and <code>varname</code>, other elements are ignored</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>NULL</code>, invisibly.
</p>


<hr>
<a id="method-FilterPanelAPI-clear_filter_states"></a>



<h4>Method <code>clear_filter_states()</code>
</h4>

<p>Remove all <code>FilterStates</code> of the <code>FilteredData</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilterPanelAPI$clear_filter_states(datanames)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>datanames</code></dt>
<dd>
<p>(<code>character</code>)
<code>datanames</code> to remove their <code>FilterStates</code>;
omit to remove all <code>FilterStates</code> in the <code>FilteredData</code> object</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>NULL</code>, invisibly.
</p>


<hr>
<a id="method-FilterPanelAPI-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>FilterPanelAPI$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">library(shiny)

fd &lt;- init_filtered_data(list(iris = iris))
fpa &lt;- FilterPanelAPI$new(fd)

# get the actual filter state --&gt; empty named list
isolate(fpa$get_filter_state())

# set a filter state
set_filter_state(
  fpa,
  teal_slices(
    teal_slice(dataname = "iris", varname = "Species", selected = "setosa", keep_na = TRUE)
  )
)

# get the actual filter state --&gt; named list with filters
isolate(fpa$get_filter_state())

# remove all_filter_states
fpa$clear_filter_states()

# get the actual filter state --&gt; empty named list
isolate(fpa$get_filter_state())

</code></pre>


</div>