<div class="container">

<table style="width: 100%;"><tr>
<td>f.daily.in.week</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a <code>Daily-In-Week</code> Frequency</h2>

<h3>Description</h3>

<p>Use this function to create a frequency for time-series data that occurs daily within a subset of a week. The first day of the interval is used as the reference.
</p>


<h3>Usage</h3>

<pre><code class="language-R">f.daily.in.week(date, weekStart = "mon", weekEnd = "fri", forward = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>date</code></td>
<td>
<p>The date, which can be a list with <code>year</code>, <code>month</code>, and <code>day</code> elements.
It can also be an integer array with 3 elements for year, month, and day respectively,
or an object that can be used as an argument for the <code>base::as.Date</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weekStart</code></td>
<td>
<p>The first day of the week, which can be <code>sun</code>, <code>mon</code>, <code>tue</code>, <code>wed</code>, <code>thu</code>, <code>fri</code>, or <code>sat</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weekEnd</code></td>
<td>
<p>The last day of the week, which can be one of the values listed for <code>weekStart</code>. Together, they define the week.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forward</code></td>
<td>
<p>If the current date is not in the week and this value is true, it moves forward to the first day of the week. If this value is false, it moves backward to the last day of the week.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In order to use the <code>as.frequency</code> function for this type of frequency,
you need the following information:
</p>

<ul>
<li> <p><strong>Character Format</strong>: The first day of the interval in <code>"YYYYMMDD"</code> format.
</p>
</li>
<li> <p><strong>Class Id</strong>: <code>"i:...-..."</code> (where the first '...' represents <code>weekStart</code> and the second '...' represents <code>weekEnd</code>; e.g., <code>i:mon-fri</code> means a week from Monday to Friday)
</p>
</li>
</ul>
<h3>Value</h3>

<p>An object of class <code>ldtf</code>. It is also a list with the following members:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>class</code></td>
<td>
<p>Determines the class of this frequency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p>Determines the <code>year</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>month</code></td>
<td>
<p>Determines the <code>month</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>day</code></td>
<td>
<p>Determines the <code>day</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weekStart</code></td>
<td>
<p>Determines the <code>weekStart</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weekEnd</code></td>
<td>
<p>Determines the <code>weekEnd</code>.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">
dw0 &lt;- f.daily.in.week(c(2023, 5, 16), "mon", "fri") # This is 16/5/2023.
dw0_value_str &lt;-  as.character(dw0) # this will be '20230516'.
dw0_class_str &lt;- get.class.id(dw0) # this will be 'i:mon-fri'.

# Let's use the same date with another week definition:
dw1 &lt;- f.daily.in.week(c(2023, 5, 16), "wed", "sat")
#     This is NOT 16/5/2023. It is 17/5/2023.
#     Since it was outside the week, we moved it forward.
dw2 &lt;- f.daily.in.week(c(2023, 5, 16), "wed", "sat", FALSE)
#     This is 13/5/2023. The original day was outside the
#     week, but we moved backward too the end of
#     the previous week (which is Saturday).

dw_new &lt;- as.frequency("20230519", "i:sat-wed")
#     This is 20/1/2023 (by default, it moves forward).

# Don't use invalid or unsupported dates:

dw_invalid &lt;- try(as.frequency("1399109", "d3")) # this is a too old date and unsupported
dw_invalid &lt;- try(as.frequency("20230132", "d4")) # invalid day in month
dw_invalid &lt;- try(as.frequency("20231331", "d5")) # invalid month

# don't use invalid week definitions:
dw_invalid &lt;- try(f.daily.in.week(c(2023, 5, 16), "Wednesday", "sat"))


</code></pre>


</div>