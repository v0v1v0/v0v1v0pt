<div class="container">

<table style="width: 100%;"><tr>
<td>source.taf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run TAF Script</h2>

<h3>Description</h3>

<p>Run a TAF script and return to the original directory.
</p>


<h3>Usage</h3>

<pre><code class="language-R">source.taf(script, rm = FALSE, clean = TRUE, detach = FALSE,
  taf = NULL, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>script</code></td>
<td>
<p>script filename.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rm</code></td>
<td>
<p>whether to remove all objects from the global environment before
and after the script is run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clean</code></td>
<td>
<p>whether to <code>clean</code> the target directory before
running the script.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>detach</code></td>
<td>
<p>whether to detach all non-base packages before running the
script, to ensure that the script is not affected by packages that may
have been attached outside the script.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>taf</code></td>
<td>
<p>a convenience flag where <code>taf = TRUE</code> sets <code>rm</code>,
<code>clean</code>, and <code>detach</code> to <code>TRUE</code>, as is done on the TAF
server. Any other value of <code>taf</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>whether to suppress messages reporting progress.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The default value of <code>rm = FALSE</code> is to protect users from accidental
loss of work, but the TAF server always runs with <code>rm = TRUE</code> to make
sure that only files, not objects in memory, are carried over between
scripts.
</p>
<p>Likewise, the TAF server runs with <code>clean = TRUE</code> to make sure that the
script starts with a clean directory. The target directory of a TAF script
has the same filename prefix as the script: <code style="white-space: pre;">⁠data.R⁠</code> creates ‘<span class="file">data</span>’
etc.
</p>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>, indicating whether the script ran without
errors.
</p>


<h3>Note</h3>

<p>Commands within a script (such as <code>setwd</code>) may change the working
directory, but <code>source.taf</code> guarantees that the working directory
reported by <code>getwd()</code> is the same before and after running a script.
</p>


<h3>See Also</h3>

<p><code>source</code> is the base function to run R scripts.
</p>
<p><code>make.taf</code> runs a TAF script if needed.
</p>
<p><code>source.all</code> runs all TAF scripts in a directory.
</p>
<p><code>TAF-package</code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
write("print(pi)", "script.R")
source("script.R")
source.taf("script.R")
file.remove("script.R")

## End(Not run)

</code></pre>


</div>