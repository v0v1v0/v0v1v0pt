<div class="container">

<table style="width: 100%;"><tr>
<td>durCalc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter Dataset by Date Duration</h2>

<h3>Description</h3>

<p>Calculates the duration between two dates, use it as a filter to select rows that satisfy the length criteria.
Returns the dataset with additional columns regarding the length of durations in different units.
</p>


<h3>Usage</h3>

<pre><code class="language-R">durCalc(df = NULL, start, end, timeunit = "day", filterlength = NA,
       filterlonger = TRUE, year = 365.25, month = 30.42)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>Data frame containing start and end dates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>Column in df for start dates or a date to use as start date.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>Column in df for end dates or a date to use as a end date.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeunit</code></td>
<td>
<p>Unit of time to be used in plots. <code>"day(s)"</code>, <code>"week(s)"</code>, <code>"month(s)"</code>, <code>"quarter(s)"</code>, <code>"semiannual"</code>, <code>"halfyear"</code>,or <code>"year(s)"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filterlength</code></td>
<td>
<p>A time length to use as filter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filterlonger</code></td>
<td>
<p>If TRUE, the function gives rows with longer durations than specified in filterlength. If FALSE, gives rows with shorter durations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p>Number of days to use as a year. Default is 365.25.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>month</code></td>
<td>
<p>Number of days to use as a month. Default is 30.42.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Additional columns returned with the filtered rows are: length of duration in days, in specified time unit, and in calendar units, and
how much longer/shorter the durations are compared to filter length in calendar units.
</p>
<p>If no <code>filterlength</code> is provided, then returns all rows with length of duration in days and calendar units.
</p>
<p>You can use dates for <code>start</code> and <code>end</code> and provide no <code>df</code> to get the length of duration between the dates in calendar units. See example.
</p>


<h3>Value</h3>

<p>A subset of original data frame with additional columns in specified time units and calendar units.
</p>


<h3>Author(s)</h3>

<p>Dahee Lee
</p>


<h3>See Also</h3>

<p><code>durPlot</code>, <code>durSummary</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">### Filter people who lived longer than 85 years
durCalc(life_exp, start = "Birth", end = "Death", timeunit = "years", filterlength = 85)

### How old each person would be as of January 1, 2000 if they were alive
durCalc(life_exp, start = "Birth", end = as.Date("2000-1-1"), timeunit = "years")

### Use as unit-converter between two dates
durCalc(start = as.Date("2010-12-1"), end = as.Date("2015-4-26"), timeunit = "weeks")
</code></pre>


</div>