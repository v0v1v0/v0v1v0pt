<div class="container">

<table style="width: 100%;"><tr>
<td>check_spelling</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Spell checking</h2>

<h3>Description</h3>

<p>Spell checking
</p>


<h3>Usage</h3>

<pre><code class="language-R">check_spelling(
  filename,
  tex_root = dirname(filename),
  pre_release = TRUE,
  ignore.lines = NULL,
  known.correct = NULL,
  known.correct.fixed = NULL,
  known.wrong = NULL,
  ignore_spelling_in = NULL,
  ignore_spelling_in_nth = NULL,
  bib_files,
  check_etcs = TRUE,
  dict_lang = "en_GB",
  rstudio = FALSE,
  .report_error
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>Path to a LaTeX file to check.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tex_root</code></td>
<td>
<p>The root path of the filename. Provide this if you are checking an <code>\input</code>
file that has a different root directory to its parent.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pre_release</code></td>
<td>
<p>Should the document be assumed to be final?
Setting to <code>FALSE</code> permits the use of <code>ignore_spelling_in</code> and permits 
<code>add_to_dictionary</code> to be
present outside the document preamble.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore.lines</code></td>
<td>
<p>Integer vector of lines to ignore (due to possibly spurious errors).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>known.correct</code></td>
<td>
<p>Character vector of patterns known to be correct (which will never be raised
by this function).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>known.correct.fixed</code></td>
<td>
<p>Character vector of words known to be correct (which will never be 
raised by this function).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>known.wrong</code></td>
<td>
<p>Character vector of patterns known to be wrong.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore_spelling_in</code></td>
<td>
<p>Command whose first mandatory argument will be ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore_spelling_in_nth</code></td>
<td>
<p>Named list of arguments to ignore; names are the commands to be ignored, values are the <code>n</code>th argument to be ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bib_files</code></td>
<td>
<p>Bibliography files (containing possible clues to misspellings). If supplied, and
this function would otherwise throw an error, the <code>.bib</code> files are read and any author 
names that match the misspelled words are added to the dictionary.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_etcs</code></td>
<td>
<p>If <code>TRUE</code>, stop if any variations of <code>etc</code>, <code>ie</code>, and <code>eg</code>
are present. (If they are typed literally, they may be formatted inconsistently. Using a macro
ensures they appear consistently.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dict_lang</code></td>
<td>
<p>Passed to <code>hunspell::dictionary</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rstudio</code></td>
<td>
<p>Use the RStudio API?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.report_error</code></td>
<td>
<p>A function to provide context to any errors. If missing, defaults to 
<code>report2console</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Extends and enhances <code>hunspell</code>:
</p>

<ul>
<li>
<p>You can add directives 
in the document itself. To add a word <code>foobaz</code> to the dictionary (so its presence does not
throw an error), write <code>% add_to_dictionary: foobaz</code> on a single line. The advantage of 
this method is that you can collaborate on the document without having to keep track of which
spelling errors are genuine.
</p>
</li>
<li>
<p>The 
directive <code>% ignore_spelling_in: mycmd</code> which will ignore the spelling of words within the first argument
of <code>\mycmd</code>.
</p>
</li>
<li>
<p><code>ignore_spelling_in_file: &lt;file.tex&gt;</code> will skip the check of <code>&lt;file.tex&gt;</code> if it 
is <code>input</code> or <code>include</code> in <code>filename</code>, as well as any files within it. Should 
appear as it is within <code>input</code> but with the file extension
</p>
</li>
<li>
<p>Only the root document need be supplied; 
any files that are fed via <code>\input</code> or <code>\include</code> are checked (recursively).
</p>
</li>
<li>
<p>A historical advantages was that the contents of certain commands were not checked, the spelling of which need not be checked 
as they are not printed, <code>viz.</code> citation and cross-reference commands, and certain optional
arguments. Most of these
are now parsed correctly by <code>hunspell</code>, though some still need to be 
supplied (including, naturally, user-supplied macros).
</p>
</li>
<li>
<p>Abbreviations and initialisms which are validly introduced will not throw errors. See
<code>extract_valid_abbrevations</code>.
</p>
</li>
<li>
<p>Words preceded by '[sic]' will not throw errors.
</p>
</li>
</ul>
<p>The package comes with a suite of <code>correctly_spelled_words</code> that were not present in <code>hunspell</code>'s 
dictionary. 
</p>
<p>This function should be quite fast, but slower than <code>hunspell::hunspell</code> (which it invokes). 
I aim for less than 500 ms on a real-world report of around 100 pages.
The function is slower when it needs to consult <code>bib_files</code>, though I recommend adding authors, titles, etc. 
to the dictionary
explicitly, or using <code>citeauthor</code> and friends. 
</p>
<p>This function is forked from <a href="https://github.com/hughparsonage/grattanReporter">https://github.com/hughparsonage/grattanReporter</a> to parse reports of the Grattan Institute, Melbourne for errors. See
<a href="https://github.com/grattan/grattex/blob/master/doc/grattexDocumentation.pdf">https://github.com/grattan/grattex/blob/master/doc/grattexDocumentation.pdf</a> for the full spec.
Some checks that package performs have been omitted in this package.
</p>


<h3>Value</h3>

<p>Called primarily for its side-effect. If the spell check fails, the line at which the 
first error was detected, with an error message. If the check succeeds, <code>NULL</code> invisibly.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
url_bib &lt;- 
paste0("https://raw.githubusercontent.com/HughParsonage/",
       "grattex/e6cab97145d38890e44e83d122e995e3b8936fc6/",
       "Report.tex")
check_spelling(url_bib)

## End(Not run)

</code></pre>


</div>