<div class="container">

<table style="width: 100%;"><tr>
<td>fit.mplus</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Performs Mplus estimation of the given model.</h2>

<h3>Description</h3>

<p>This function writes the Mplus syntax given the specifications of a
Thurstonian forced choice design. Additionally it runs the code
(given Mplus is installed) and returns the results.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fit.mplus(blocks, itf, model, input_path, output_path = NULL,
  data_path = "myDataFile.dat", fscore_path = "myFactorScores.dat",
  title = "myFC_model", ID = FALSE, byblock = TRUE,
  estimator = "ULSMV", data_full = FALSE, standardized = TRUE,
  rename_list = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>itf</code></td>
<td>
<p>A vector defining the items-to-factor relation. For example
'c(1,1,1,2,2,2)' defines six items, the first three correspond to factor 1,
the second three correspond to factor 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A descriptor for the model. Can be one of ''lmean'',
''uc'‘, '’irt'‘ or  '’simple2'‘, '’simple3'‘ or '’simple5''. The Number behind 
the ''simple'' statement defines the Thurstone case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input_path</code></td>
<td>
<p>Path to save the Mplus input file. Defaults to ''myFC_model.inp''.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_path</code></td>
<td>
<p>Path to the Mplus output file. Defaults to ''myFC_model.out''.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_path</code></td>
<td>
<p>Path of the data file for Mplus. Defaults to ''myDataFile.dat''.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fscore_path</code></td>
<td>
<p>Path to save the file of factor scores. Defaults to
''myFactorScores.dat''.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Title of the Mplus model. Defaults to ''myFC_model''.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>Logical. Should a ID variable be included? The ID must be the first 
variable in the data set. Defaults to 'FALSE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>byblock</code></td>
<td>
<p>Logical. Should the order in Mplus variable statement be the same
as in the blocks. Defaults to 'TRUE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimator</code></td>
<td>
<p>Which estimator should be used? All Estimators that are
available in Mplus can be used. Defaults to ''ULSMV''.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_full</code></td>
<td>
<p>Logical. Are the data considered to be from a full design?
Defaults to 'FALSE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardized</code></td>
<td>
<p>Logical. Should standardized values be computed? Defaults
to 'TRUE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rename_list</code></td>
<td>
<p>A list with two vectors to rename the objects in the syntax.
Vector one is the original names, vector two the new names. Defaults to 'NULL'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to function 'read.mplus'.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The syntax currently is able to perform model analysis for the
latent utility models (''simple'‘ and '’lmean''; Maydeu-Olivares &amp; Böckenholt, 2005) the 
unconstrained factor model (''uc''; Maydeu-Olivares &amp; Böckenholt, 2005) and 
the IRT model(''irt''; Maydeu-Olivares &amp; Brown, 2010). Additionally, all
model types can be performed with all types of forced choice designs (full,
block, partially linked block, linked block). For an overview and review see
Jansen and Schulze (2023a,2023b).
</p>
<p>The function writes and saves the Mplus input files, keeps the output files 
and reads the results specified for the function 'read.mplus'.
</p>
<p>The standard naming procedure ixiy, for the comparison of items x and y, 
can be changed by specifying the 'rename_list' argument. The first vector of
the schould be the vector of original names, for example 
‘c(’i1i2','i1i3','i2i3','Trait1','Trait2','Trait3')'
the second vector should contain the new names, for example 
‘c(’A01E12','A01C13','E01C23','Agree','Extra','Consc')'.
</p>


<h3>Value</h3>

<p>Returns a list containing the specified results, after model analysis.
</p>


<h3>References</h3>

<p>Maydeu-Olivares, A., &amp; Böckenholt, U. (2005). Structural equation modeling of paired-comparison and ranking data. <em>Psychological Methods</em>, <em>10</em>(3), 285-304. <a href="https://doi.org/10.1037/1082-989X.10.3.285">doi:10.1037/1082-989X.10.3.285</a>
</p>
<p>Maydeu-Olivares, A., &amp; Brown, A. (2010). Item response modeling of paired comparison and ranking data. <em>Multivariate Behavioural Research</em>, <em>45</em>(6), 935-974. <a href="https://doi.org/10.1080/00273171.2010.531231">doi:10.1080/00273171.2010.531231</a>
</p>
<p>Jansen, M. T., &amp; Schulze, R. (2023a). <em>Linear factor analytic Thurstonian forced-choice models: Current status and issues</em>. Educational and Psychological Measurement.
</p>
<p>Jansen, M. T., &amp; Schulze, R. (2023b, in review). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# read and save data set FC
data(FC)
write.table(FC,paste0(tempdir(),'/','my_data.dat'),quote=FALSE, sep=" ",
col.names = FALSE, row.names = FALSE)

# set seed and define blocks
set.seed(1)
blocks &lt;- matrix(sample(1:15,15), ncol = 3)

# define the item-to-factor relation
itf &lt;- rep(1:3,5)

# perform analysis 
## Not run: 
fit.mplus(blocksort(blocks),itf,'irt',data_path = 'mydata.dat', data_full = TRUE,
input_path = paste0(tempdir(),'/','myFC_model'))

## End(Not run)

</code></pre>


</div>