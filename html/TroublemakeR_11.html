<div class="container">

<table style="width: 100%;"><tr>
<td>troublemaker</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Troublemaker</h2>

<h3>Description</h3>

<p>This function is a metafunction with several functions inside of it it takes several spatial objects and generates a .dat file with a spatial dataset for AMPL
</p>


<h3>Usage</h3>

<pre><code class="language-R">troublemaker(
  Rasterdomain = NULL,
  Rastercurrent = NULL,
  species_names = NULL,
  Rasterspecieslanduse = NULL,
  landuses = NULL,
  budget = NULL,
  Rastercurrentlanduse = NULL,
  name = "Problem",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Rasterdomain</code></td>
<td>
<p>A Raster object with any value in the cells that are part of the problem and NA values where the problem is not to be solved</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rastercurrent</code></td>
<td>
<p>raster object of current suitability</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species_names</code></td>
<td>
<p>a vector with the names of species</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rasterspecieslanduse</code></td>
<td>
<p>a list of species suitability for each landuse</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>landuses</code></td>
<td>
<p>character vector with all landuses</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>budget</code></td>
<td>
<p>maximum cost for the problem</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rastercurrentlanduse</code></td>
<td>
<p>raster object of current landuses</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>The name of the output file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical whether messages will be written while the
function is generating calculations, defaults to FALSE</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A .dat file with the spatial problem formated for AMPL. This function is used for the side-effect of writing values to a file.
</p>


<h3>Author(s)</h3>

<p>Derek Corcoran
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example 1 with current suitabilities
data(Species)
data(Current)
library(terra)
Test &lt;- Species[[1]] |&gt;
terra::unwrap()

Current &lt;- terra::unwrap(Current)

# Generate the "Problem.dat" file

TroublemakeR::troublemaker(Rasterdomain =Test[[1]],
Rastercurrent = Current,
species_names = c("Spp1", "Spp2", "Spp3", "Spp4"),
name = "Problem")

# delete the file so the test on cran can pass this

file.remove("Problem.dat")

# Example 2 with landuse suitabilities

data(Species)
data("Species_Landuse")

library(terra)
Test &lt;- Species[[1]] |&gt;
terra::unwrap()

Species_Landuse &lt;- Species_Landuse |&gt; purrr::map(terra::unwrap)

# Generate the "Problem2.dat" file

TroublemakeR::troublemaker(Rasterdomain =Test[[1]],
Rasterspecieslanduse = Species_Landuse,
species_names = c("Spp1", "Spp2", "Spp3", "Spp4"),
landuses = c("Agriculture", "Forest", "Urban"),
name = "Problem2")

# delete the file so the test on cran can pass this

file.remove("Problem2.dat")

 # Example 3 with budget and transition cost

 data("CurrentLanduse")
 CurrentLU &lt;- terra::unwrap(CurrentLanduse)
 TroublemakeR::troublemaker(Rasterdomain =Test[[1]],
 Rasterspecieslanduse = Species_Landuse,
 species_names = c("Spp1", "Spp2", "Spp3", "Spp4"),
 landuses = c("Agriculture", "Forest", "Urban"),
 Rastercurrentlanduse = CurrentLU,
 budget = 2,
 name = "Problem3",
 verbose = FALSE)

 file.remove("Problem3.dat")

</code></pre>


</div>